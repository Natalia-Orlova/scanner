(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))h(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const E of g.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&h(E)}).observe(document,{childList:!0,subtree:!0});function c(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function h(f){if(f.ep)return;f.ep=!0;const g=c(f);fetch(f.href,g)}})();(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function a(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerPolicy&&(f.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?f.credentials="include":h.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(h){if(h.ep)return;h.ep=!0;const f=a(h);fetch(h.href,f)}})();function H1(s,a){for(var c=0;c<a.length;c++){const h=a[c];if(typeof h!="string"&&!Array.isArray(h)){for(const f in h)if(f!=="default"&&!(f in s)){const g=Object.getOwnPropertyDescriptor(h,f);g&&Object.defineProperty(s,f,g.get?g:{enumerable:!0,get:()=>h[f]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function a(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerPolicy&&(f.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?f.credentials="include":h.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(h){if(h.ep)return;h.ep=!0;const f=a(h);fetch(h.href,f)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Rs(s){const a=Object.create(null);for(const c of s.split(","))a[c]=1;return c=>c in a}const Ze={},Cn=[],rr=()=>{},W1=()=>!1,Ri=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),Os=s=>s.startsWith("onUpdate:"),Ft=Object.assign,Ds=(s,a)=>{const c=s.indexOf(a);c>-1&&s.splice(c,1)},G1=Object.prototype.hasOwnProperty,Ge=(s,a)=>G1.call(s,a),Ae=Array.isArray,An=s=>Oi(s)==="[object Map]",ra=s=>Oi(s)==="[object Set]",Se=s=>typeof s=="function",gt=s=>typeof s=="string",Gr=s=>typeof s=="symbol",ct=s=>s!==null&&typeof s=="object",na=s=>(ct(s)||Se(s))&&Se(s.then)&&Se(s.catch),ia=Object.prototype.toString,Oi=s=>ia.call(s),X1=s=>Oi(s).slice(8,-1),sa=s=>Oi(s)==="[object Object]",vs=s=>gt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,kn=Rs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Di=s=>{const a=Object.create(null);return c=>a[c]||(a[c]=s(c))},z1=/-(\w)/g,Hr=Di(s=>s.replace(z1,(a,c)=>c?c.toUpperCase():"")),Y1=/\B([A-Z])/g,Xr=Di(s=>s.replace(Y1,"-$1").toLowerCase()),oa=Di(s=>s.charAt(0).toUpperCase()+s.slice(1)),ns=Di(s=>s?`on${oa(s)}`:""),Vr=(s,a)=>!Object.is(s,a),di=(s,...a)=>{for(let c=0;c<s.length;c++)s[c](...a)},fs=(s,a,c,h=!1)=>{Object.defineProperty(s,a,{configurable:!0,enumerable:!1,writable:h,value:c})},gs=s=>{const a=parseFloat(s);return isNaN(a)?s:a};let fo;const vi=()=>fo||(fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ms(s){if(Ae(s)){const a={};for(let c=0;c<s.length;c++){const h=s[c],f=gt(h)?Q1(h):Ms(h);if(f)for(const g in f)a[g]=f[g]}return a}else if(gt(s)||ct(s))return s}const Z1=/;(?![^(]*\))/g,K1=/:([^]+)/,j1=/\/\*[^]*?\*\//g;function Q1(s){const a={};return s.replace(j1,"").split(Z1).forEach(c=>{if(c){const h=c.split(K1);h.length>1&&(a[h[0].trim()]=h[1].trim())}}),a}function Ur(s){let a="";if(gt(s))a=s;else if(Ae(s))for(let c=0;c<s.length;c++){const h=Ur(s[c]);h&&(a+=h+" ")}else if(ct(s))for(const c in s)s[c]&&(a+=c+" ");return a.trim()}const $1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",q1=Rs($1);function aa(s){return!!s||s===""}const la=s=>!!(s&&s.__v_isRef===!0),mn=s=>gt(s)?s:s==null?"":Ae(s)||ct(s)&&(s.toString===ia||!Se(s.toString))?la(s)?mn(s.value):JSON.stringify(s,ca,2):String(s),ca=(s,a)=>la(a)?ca(s,a.value):An(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((c,[h,f],g)=>(c[is(h,g)+" =>"]=f,c),{})}:ra(a)?{[`Set(${a.size})`]:[...a.values()].map(c=>is(c))}:Gr(a)?is(a):ct(a)&&!Ae(a)&&!sa(a)?String(a):a,is=(s,a="")=>{var c;return Gr(s)?`Symbol(${(c=s.description)!=null?c:a})`:s};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wt;class J1{constructor(a=!1){this.detached=a,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Wt,!a&&Wt&&(this.index=(Wt.scopes||(Wt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let a,c;if(this.scopes)for(a=0,c=this.scopes.length;a<c;a++)this.scopes[a].pause();for(a=0,c=this.effects.length;a<c;a++)this.effects[a].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let a,c;if(this.scopes)for(a=0,c=this.scopes.length;a<c;a++)this.scopes[a].resume();for(a=0,c=this.effects.length;a<c;a++)this.effects[a].resume()}}run(a){if(this._active){const c=Wt;try{return Wt=this,a()}finally{Wt=c}}}on(){++this._on===1&&(this.prevScope=Wt,Wt=this)}off(){this._on>0&&--this._on===0&&(Wt=this.prevScope,this.prevScope=void 0)}stop(a){if(this._active){this._active=!1;let c,h;for(c=0,h=this.effects.length;c<h;c++)this.effects[c].stop();for(this.effects.length=0,c=0,h=this.cleanups.length;c<h;c++)this.cleanups[c]();if(this.cleanups.length=0,this.scopes){for(c=0,h=this.scopes.length;c<h;c++)this.scopes[c].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!a){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0}}}function el(){return Wt}let je;const ss=new WeakSet;class ua{constructor(a){this.fn=a,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Wt&&Wt.active&&Wt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ss.has(this)&&(ss.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||da(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,go(this),fa(this);const a=je,c=nr;je=this,nr=!0;try{return this.fn()}finally{ga(this),je=a,nr=c,this.flags&=-3}}stop(){if(this.flags&1){for(let a=this.deps;a;a=a.nextDep)Fs(a);this.deps=this.depsTail=void 0,go(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ss.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ps(this)&&this.run()}get dirty(){return ps(this)}}let ha=0,Un,Vn;function da(s,a=!1){if(s.flags|=8,a){s.next=Vn,Vn=s;return}s.next=Un,Un=s}function Bs(){ha++}function Ps(){if(--ha>0)return;if(Vn){let a=Vn;for(Vn=void 0;a;){const c=a.next;a.next=void 0,a.flags&=-9,a=c}}let s;for(;Un;){let a=Un;for(Un=void 0;a;){const c=a.next;if(a.next=void 0,a.flags&=-9,a.flags&1)try{a.trigger()}catch(h){s||(s=h)}a=c}}if(s)throw s}function fa(s){for(let a=s.deps;a;a=a.nextDep)a.version=-1,a.prevActiveLink=a.dep.activeLink,a.dep.activeLink=a}function ga(s){let a,c=s.depsTail,h=c;for(;h;){const f=h.prevDep;h.version===-1?(h===c&&(c=f),Fs(h),tl(h)):a=h,h.dep.activeLink=h.prevActiveLink,h.prevActiveLink=void 0,h=f}s.deps=a,s.depsTail=c}function ps(s){for(let a=s.deps;a;a=a.nextDep)if(a.dep.version!==a.version||a.dep.computed&&(pa(a.dep.computed)||a.dep.version!==a.version))return!0;return!!s._dirty}function pa(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===Yn)||(s.globalVersion=Yn,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!ps(s))))return;s.flags|=2;const a=s.dep,c=je,h=nr;je=s,nr=!0;try{fa(s);const f=s.fn(s._value);(a.version===0||Vr(f,s._value))&&(s.flags|=128,s._value=f,a.version++)}catch(f){throw a.version++,f}finally{je=c,nr=h,ga(s),s.flags&=-3}}function Fs(s,a=!1){const{dep:c,prevSub:h,nextSub:f}=s;if(h&&(h.nextSub=f,s.prevSub=void 0),f&&(f.prevSub=h,s.nextSub=void 0),c.subs===s&&(c.subs=h,!h&&c.computed)){c.computed.flags&=-5;for(let g=c.computed.deps;g;g=g.nextDep)Fs(g,!0)}!a&&!--c.sc&&c.map&&c.map.delete(c.key)}function tl(s){const{prevDep:a,nextDep:c}=s;a&&(a.nextDep=c,s.prevDep=void 0),c&&(c.prevDep=a,s.nextDep=void 0)}let nr=!0;const wa=[];function br(){wa.push(nr),nr=!1}function Nr(){const s=wa.pop();nr=s===void 0?!0:s}function go(s){const{cleanup:a}=s;if(s.cleanup=void 0,a){const c=je;je=void 0;try{a()}finally{je=c}}}let Yn=0;class rl{constructor(a,c){this.sub=a,this.dep=c,this.version=c.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ls{constructor(a){this.computed=a,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(a){if(!je||!nr||je===this.computed)return;let c=this.activeLink;if(c===void 0||c.sub!==je)c=this.activeLink=new rl(je,this),je.deps?(c.prevDep=je.depsTail,je.depsTail.nextDep=c,je.depsTail=c):je.deps=je.depsTail=c,ma(c);else if(c.version===-1&&(c.version=this.version,c.nextDep)){const h=c.nextDep;h.prevDep=c.prevDep,c.prevDep&&(c.prevDep.nextDep=h),c.prevDep=je.depsTail,c.nextDep=void 0,je.depsTail.nextDep=c,je.depsTail=c,je.deps===c&&(je.deps=h)}return c}trigger(a){this.version++,Yn++,this.notify(a)}notify(a){Bs();try{for(let c=this.subs;c;c=c.prevSub)c.sub.notify()&&c.sub.dep.notify()}finally{Ps()}}}function ma(s){if(s.dep.sc++,s.sub.flags&4){const a=s.dep.computed;if(a&&!s.dep.subs){a.flags|=20;for(let h=a.deps;h;h=h.nextDep)ma(h)}const c=s.dep.subs;c!==s&&(s.prevSub=c,c&&(c.nextSub=s)),s.dep.subs=s}}const ws=new WeakMap,rn=Symbol(""),ms=Symbol(""),Zn=Symbol("");function bt(s,a,c){if(nr&&je){let h=ws.get(s);h||ws.set(s,h=new Map);let f=h.get(c);f||(h.set(c,f=new Ls),f.map=h,f.key=c),f.track()}}function _r(s,a,c,h,f,g){const E=ws.get(s);if(!E){Yn++;return}const I=S=>{S&&S.trigger()};if(Bs(),a==="clear")E.forEach(I);else{const S=Ae(s),C=S&&vs(c);if(S&&c==="length"){const N=Number(h);E.forEach((R,z)=>{(z==="length"||z===Zn||!Gr(z)&&z>=N)&&I(R)})}else switch((c!==void 0||E.has(void 0))&&I(E.get(c)),C&&I(E.get(Zn)),a){case"add":S?C&&I(E.get("length")):(I(E.get(rn)),An(s)&&I(E.get(ms)));break;case"delete":S||(I(E.get(rn)),An(s)&&I(E.get(ms)));break;case"set":An(s)&&I(E.get(rn));break}}Ps()}function gn(s){const a=We(s);return a===s?a:(bt(a,"iterate",Zn),ir(s)?a:a.map(Bt))}function xs(s){return bt(s=We(s),"iterate",Zn),s}const nl={__proto__:null,[Symbol.iterator](){return os(this,Symbol.iterator,Bt)},concat(...s){return gn(this).concat(...s.map(a=>Ae(a)?gn(a):a))},entries(){return os(this,"entries",s=>(s[1]=Bt(s[1]),s))},every(s,a){return Ar(this,"every",s,a,void 0,arguments)},filter(s,a){return Ar(this,"filter",s,a,c=>c.map(Bt),arguments)},find(s,a){return Ar(this,"find",s,a,Bt,arguments)},findIndex(s,a){return Ar(this,"findIndex",s,a,void 0,arguments)},findLast(s,a){return Ar(this,"findLast",s,a,Bt,arguments)},findLastIndex(s,a){return Ar(this,"findLastIndex",s,a,void 0,arguments)},forEach(s,a){return Ar(this,"forEach",s,a,void 0,arguments)},includes(...s){return as(this,"includes",s)},indexOf(...s){return as(this,"indexOf",s)},join(s){return gn(this).join(s)},lastIndexOf(...s){return as(this,"lastIndexOf",s)},map(s,a){return Ar(this,"map",s,a,void 0,arguments)},pop(){return Pn(this,"pop")},push(...s){return Pn(this,"push",s)},reduce(s,...a){return po(this,"reduce",s,a)},reduceRight(s,...a){return po(this,"reduceRight",s,a)},shift(){return Pn(this,"shift")},some(s,a){return Ar(this,"some",s,a,void 0,arguments)},splice(...s){return Pn(this,"splice",s)},toReversed(){return gn(this).toReversed()},toSorted(s){return gn(this).toSorted(s)},toSpliced(...s){return gn(this).toSpliced(...s)},unshift(...s){return Pn(this,"unshift",s)},values(){return os(this,"values",Bt)}};function os(s,a,c){const h=xs(s),f=h[a]();return h!==s&&!ir(s)&&(f._next=f.next,f.next=()=>{const g=f._next();return g.value&&(g.value=c(g.value)),g}),f}const il=Array.prototype;function Ar(s,a,c,h,f,g){const E=xs(s),I=E!==s&&!ir(s),S=E[a];if(S!==il[a]){const R=S.apply(s,g);return I?Bt(R):R}let C=c;E!==s&&(I?C=function(R,z){return c.call(this,Bt(R),z,s)}:c.length>2&&(C=function(R,z){return c.call(this,R,z,s)}));const N=S.call(E,C,h);return I&&f?f(N):N}function po(s,a,c,h){const f=xs(s);let g=c;return f!==s&&(ir(s)?c.length>3&&(g=function(E,I,S){return c.call(this,E,I,S,s)}):g=function(E,I,S){return c.call(this,E,Bt(I),S,s)}),f[a](g,...h)}function as(s,a,c){const h=We(s);bt(h,"iterate",Zn);const f=h[a](...c);return(f===-1||f===!1)&&Hs(c[0])?(c[0]=We(c[0]),h[a](...c)):f}function Pn(s,a,c=[]){br(),Bs();const h=We(s)[a].apply(s,c);return Ps(),Nr(),h}const sl=Rs("__proto__,__v_isRef,__isVue"),Ea=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Gr));function ol(s){Gr(s)||(s=String(s));const a=We(this);return bt(a,"has",s),a.hasOwnProperty(s)}class Ca{constructor(a=!1,c=!1){this._isReadonly=a,this._isShallow=c}get(a,c,h){if(c==="__v_skip")return a.__v_skip;const f=this._isReadonly,g=this._isShallow;if(c==="__v_isReactive")return!f;if(c==="__v_isReadonly")return f;if(c==="__v_isShallow")return g;if(c==="__v_raw")return h===(f?g?wl:ya:g?Sa:Ia).get(a)||Object.getPrototypeOf(a)===Object.getPrototypeOf(h)?a:void 0;const E=Ae(a);if(!f){let S;if(E&&(S=nl[c]))return S;if(c==="hasOwnProperty")return ol}const I=Reflect.get(a,c,Rt(a)?a:h);return(Gr(c)?Ea.has(c):sl(c))||(f||bt(a,"get",c),g)?I:Rt(I)?E&&vs(c)?I:I.value:ct(I)?f?_a(I):Us(I):I}}class Aa extends Ca{constructor(a=!1){super(!1,a)}set(a,c,h,f){let g=a[c];if(!this._isShallow){const S=nn(g);if(!ir(h)&&!nn(h)&&(g=We(g),h=We(h)),!Ae(a)&&Rt(g)&&!Rt(h))return S?!1:(g.value=h,!0)}const E=Ae(a)&&vs(c)?Number(c)<a.length:Ge(a,c),I=Reflect.set(a,c,h,Rt(a)?a:f);return a===We(f)&&(E?Vr(h,g)&&_r(a,"set",c,h):_r(a,"add",c,h)),I}deleteProperty(a,c){const h=Ge(a,c);a[c];const f=Reflect.deleteProperty(a,c);return f&&h&&_r(a,"delete",c,void 0),f}has(a,c){const h=Reflect.has(a,c);return(!Gr(c)||!Ea.has(c))&&bt(a,"has",c),h}ownKeys(a){return bt(a,"iterate",Ae(a)?"length":rn),Reflect.ownKeys(a)}}class al extends Ca{constructor(a=!1){super(!0,a)}set(a,c){return!0}deleteProperty(a,c){return!0}}const ll=new Aa,cl=new al,ul=new Aa(!0),Es=s=>s,li=s=>Reflect.getPrototypeOf(s);function hl(s,a,c){return function(...h){const f=this.__v_raw,g=We(f),E=An(g),I=s==="entries"||s===Symbol.iterator&&E,S=s==="keys"&&E,C=f[s](...h),N=c?Es:a?Cs:Bt;return!a&&bt(g,"iterate",S?ms:rn),{next(){const{value:R,done:z}=C.next();return z?{value:R,done:z}:{value:I?[N(R[0]),N(R[1])]:N(R),done:z}},[Symbol.iterator](){return this}}}}function ci(s){return function(...a){return s==="delete"?!1:s==="clear"?void 0:this}}function dl(s,a){const c={get(h){const f=this.__v_raw,g=We(f),E=We(h);s||(Vr(h,E)&&bt(g,"get",h),bt(g,"get",E));const{has:I}=li(g),S=a?Es:s?Cs:Bt;if(I.call(g,h))return S(f.get(h));if(I.call(g,E))return S(f.get(E));f!==g&&f.get(h)},get size(){const h=this.__v_raw;return!s&&bt(We(h),"iterate",rn),Reflect.get(h,"size",h)},has(h){const f=this.__v_raw,g=We(f),E=We(h);return s||(Vr(h,E)&&bt(g,"has",h),bt(g,"has",E)),h===E?f.has(h):f.has(h)||f.has(E)},forEach(h,f){const g=this,E=g.__v_raw,I=We(E),S=a?Es:s?Cs:Bt;return!s&&bt(I,"iterate",rn),E.forEach((C,N)=>h.call(f,S(C),S(N),g))}};return Ft(c,s?{add:ci("add"),set:ci("set"),delete:ci("delete"),clear:ci("clear")}:{add(h){!a&&!ir(h)&&!nn(h)&&(h=We(h));const f=We(this);return li(f).has.call(f,h)||(f.add(h),_r(f,"add",h,h)),this},set(h,f){!a&&!ir(f)&&!nn(f)&&(f=We(f));const g=We(this),{has:E,get:I}=li(g);let S=E.call(g,h);S||(h=We(h),S=E.call(g,h));const C=I.call(g,h);return g.set(h,f),S?Vr(f,C)&&_r(g,"set",h,f):_r(g,"add",h,f),this},delete(h){const f=We(this),{has:g,get:E}=li(f);let I=g.call(f,h);I||(h=We(h),I=g.call(f,h)),E&&E.call(f,h);const S=f.delete(h);return I&&_r(f,"delete",h,void 0),S},clear(){const h=We(this),f=h.size!==0,g=h.clear();return f&&_r(h,"clear",void 0,void 0),g}}),["keys","values","entries",Symbol.iterator].forEach(h=>{c[h]=hl(h,s,a)}),c}function ks(s,a){const c=dl(s,a);return(h,f,g)=>f==="__v_isReactive"?!s:f==="__v_isReadonly"?s:f==="__v_raw"?h:Reflect.get(Ge(c,f)&&f in h?c:h,f,g)}const fl={get:ks(!1,!1)},gl={get:ks(!1,!0)},pl={get:ks(!0,!1)},Ia=new WeakMap,Sa=new WeakMap,ya=new WeakMap,wl=new WeakMap;function ml(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function El(s){return s.__v_skip||!Object.isExtensible(s)?0:ml(X1(s))}function Us(s){return nn(s)?s:Vs(s,!1,ll,fl,Ia)}function Cl(s){return Vs(s,!1,ul,gl,Sa)}function _a(s){return Vs(s,!0,cl,pl,ya)}function Vs(s,a,c,h,f){if(!ct(s)||s.__v_raw&&!(a&&s.__v_isReactive))return s;const g=El(s);if(g===0)return s;const E=f.get(s);if(E)return E;const I=new Proxy(s,g===2?h:c);return f.set(s,I),I}function Hn(s){return nn(s)?Hn(s.__v_raw):!!(s&&s.__v_isReactive)}function nn(s){return!!(s&&s.__v_isReadonly)}function ir(s){return!!(s&&s.__v_isShallow)}function Hs(s){return s?!!s.__v_raw:!1}function We(s){const a=s&&s.__v_raw;return a?We(a):s}function Al(s){return!Ge(s,"__v_skip")&&Object.isExtensible(s)&&fs(s,"__v_skip",!0),s}const Bt=s=>ct(s)?Us(s):s,Cs=s=>ct(s)?_a(s):s;function Rt(s){return s?s.__v_isRef===!0:!1}function vt(s){return Il(s,!1)}function Il(s,a){return Rt(s)?s:new Sl(s,a)}class Sl{constructor(a,c){this.dep=new Ls,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=c?a:We(a),this._value=c?a:Bt(a),this.__v_isShallow=c}get value(){return this.dep.track(),this._value}set value(a){const c=this._rawValue,h=this.__v_isShallow||ir(a)||nn(a);a=h?a:We(a),Vr(a,c)&&(this._rawValue=a,this._value=h?a:Bt(a),this.dep.trigger())}}function yl(s){return Rt(s)?s.value:s}const _l={get:(s,a,c)=>a==="__v_raw"?s:yl(Reflect.get(s,a,c)),set:(s,a,c,h)=>{const f=s[a];return Rt(f)&&!Rt(c)?(f.value=c,!0):Reflect.set(s,a,c,h)}};function Ta(s){return Hn(s)?s:new Proxy(s,_l)}class Tl{constructor(a,c,h){this.fn=a,this.setter=c,this._value=void 0,this.dep=new Ls(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!c,this.isSSR=h}notify(){if(this.flags|=16,!(this.flags&8)&&je!==this)return da(this,!0),!0}get value(){const a=this.dep.track();return pa(this),a&&(a.version=this.dep.version),this._value}set value(a){this.setter&&this.setter(a)}}function bl(s,a,c=!1){let h,f;return Se(s)?h=s:(h=s.get,f=s.set),new Tl(h,f,c)}const ui={},Ci=new WeakMap;let tn;function Nl(s,a=!1,c=tn){if(c){let h=Ci.get(c);h||Ci.set(c,h=[]),h.push(s)}}function Rl(s,a,c=Ze){const{immediate:h,deep:f,once:g,scheduler:E,augmentJob:I,call:S}=c,C=ee=>f?ee:ir(ee)||f===!1||f===0?Tr(ee,1):Tr(ee);let N,R,z,Z,de=!1,re=!1;if(Rt(s)?(R=()=>s.value,de=ir(s)):Hn(s)?(R=()=>C(s),de=!0):Ae(s)?(re=!0,de=s.some(ee=>Hn(ee)||ir(ee)),R=()=>s.map(ee=>{if(Rt(ee))return ee.value;if(Hn(ee))return C(ee);if(Se(ee))return S?S(ee,2):ee()})):Se(s)?a?R=S?()=>S(s,2):s:R=()=>{if(z){br();try{z()}finally{Nr()}}const ee=tn;tn=N;try{return S?S(s,3,[Z]):s(Z)}finally{tn=ee}}:R=rr,a&&f){const ee=R,Me=f===!0?1/0:f;R=()=>Tr(ee(),Me)}const Fe=el(),_e=()=>{N.stop(),Fe&&Fe.active&&Ds(Fe.effects,N)};if(g&&a){const ee=a;a=(...Me)=>{ee(...Me),_e()}}let we=re?new Array(s.length).fill(ui):ui;const ne=ee=>{if(!(!(N.flags&1)||!N.dirty&&!ee))if(a){const Me=N.run();if(f||de||(re?Me.some((Ne,Q)=>Vr(Ne,we[Q])):Vr(Me,we))){z&&z();const Ne=tn;tn=N;try{const Q=[Me,we===ui?void 0:re&&we[0]===ui?[]:we,Z];we=Me,S?S(a,3,Q):a(...Q)}finally{tn=Ne}}}else N.run()};return I&&I(ne),N=new ua(R),N.scheduler=E?()=>E(ne,!1):ne,Z=ee=>Nl(ee,!1,N),z=N.onStop=()=>{const ee=Ci.get(N);if(ee){if(S)S(ee,4);else for(const Me of ee)Me();Ci.delete(N)}},a?h?ne(!0):we=N.run():E?E(ne.bind(null,!0),!0):N.run(),_e.pause=N.pause.bind(N),_e.resume=N.resume.bind(N),_e.stop=_e,_e}function Tr(s,a=1/0,c){if(a<=0||!ct(s)||s.__v_skip||(c=c||new Set,c.has(s)))return s;if(c.add(s),a--,Rt(s))Tr(s.value,a,c);else if(Ae(s))for(let h=0;h<s.length;h++)Tr(s[h],a,c);else if(ra(s)||An(s))s.forEach(h=>{Tr(h,a,c)});else if(sa(s)){for(const h in s)Tr(s[h],a,c);for(const h of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,h)&&Tr(s[h],a,c)}return s}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $n(s,a,c,h){try{return h?s(...h):s()}catch(f){Mi(f,a,c)}}function Er(s,a,c,h){if(Se(s)){const f=$n(s,a,c,h);return f&&na(f)&&f.catch(g=>{Mi(g,a,c)}),f}if(Ae(s)){const f=[];for(let g=0;g<s.length;g++)f.push(Er(s[g],a,c,h));return f}}function Mi(s,a,c,h=!0){const f=a?a.vnode:null,{errorHandler:g,throwUnhandledErrorInProduction:E}=a&&a.appContext.config||Ze;if(a){let I=a.parent;const S=a.proxy,C=`https://vuejs.org/error-reference/#runtime-${c}`;for(;I;){const N=I.ec;if(N){for(let R=0;R<N.length;R++)if(N[R](s,S,C)===!1)return}I=I.parent}if(g){br(),$n(g,null,10,[s,S,C]),Nr();return}}Ol(s,c,f,h,E)}function Ol(s,a,c,h=!0,f=!1){if(f)throw s;console.error(s)}const Pt=[];let pr=-1;const In=[];let xr=null,pn=0;const ba=Promise.resolve();let Ai=null;function Na(s){const a=Ai||ba;return s?a.then(this?s.bind(this):s):a}function Dl(s){let a=pr+1,c=Pt.length;for(;a<c;){const h=a+c>>>1,f=Pt[h],g=Kn(f);g<s||g===s&&f.flags&2?a=h+1:c=h}return a}function Ws(s){if(!(s.flags&1)){const a=Kn(s),c=Pt[Pt.length-1];!c||!(s.flags&2)&&a>=Kn(c)?Pt.push(s):Pt.splice(Dl(a),0,s),s.flags|=1,Ra()}}function Ra(){Ai||(Ai=ba.then(va))}function Oa(s){Ae(s)?In.push(...s):xr&&s.id===-1?xr.splice(pn+1,0,s):s.flags&1||(In.push(s),s.flags|=1),Ra()}function wo(s,a,c=pr+1){for(;c<Pt.length;c++){const h=Pt[c];if(h&&h.flags&2){if(s&&h.id!==s.uid)continue;Pt.splice(c,1),c--,h.flags&4&&(h.flags&=-2),h(),h.flags&4||(h.flags&=-2)}}}function Da(s){if(In.length){const a=[...new Set(In)].sort((c,h)=>Kn(c)-Kn(h));if(In.length=0,xr){xr.push(...a);return}for(xr=a,pn=0;pn<xr.length;pn++){const c=xr[pn];c.flags&4&&(c.flags&=-2),c.flags&8||c(),c.flags&=-2}xr=null,pn=0}}const Kn=s=>s.id==null?s.flags&2?-1:1/0:s.id;function va(s){try{for(pr=0;pr<Pt.length;pr++){const a=Pt[pr];a&&!(a.flags&8)&&(a.flags&4&&(a.flags&=-2),$n(a,a.i,a.i?15:14),a.flags&4||(a.flags&=-2))}}finally{for(;pr<Pt.length;pr++){const a=Pt[pr];a&&(a.flags&=-2)}pr=-1,Pt.length=0,Da(),Ai=null,(Pt.length||In.length)&&va()}}let Zt=null,Ma=null;function Ii(s){const a=Zt;return Zt=s,Ma=s&&s.type.__scopeId||null,a}function vl(s,a=Zt,c){if(!a||s._n)return s;const h=(...f)=>{h._d&&To(-1);const g=Ii(a);let E;try{E=s(...f)}finally{Ii(g),h._d&&To(1)}return E};return h._n=!0,h._c=!0,h._d=!0,h}function Ml(s,a){if(Zt===null)return s;const c=xi(Zt),h=s.dirs||(s.dirs=[]);for(let f=0;f<a.length;f++){let[g,E,I,S=Ze]=a[f];g&&(Se(g)&&(g={mounted:g,updated:g}),g.deep&&Tr(E),h.push({dir:g,instance:c,value:E,oldValue:void 0,arg:I,modifiers:S}))}return s}function qr(s,a,c,h){const f=s.dirs,g=a&&a.dirs;for(let E=0;E<f.length;E++){const I=f[E];g&&(I.oldValue=g[E].value);let S=I.dir[h];S&&(br(),Er(S,c,8,[s.el,I,s,a]),Nr())}}const Bl=Symbol("_vte"),Pl=s=>s.__isTeleport;function Gs(s,a){s.shapeFlag&6&&s.component?(s.transition=a,Gs(s.component.subTree,a)):s.shapeFlag&128?(s.ssContent.transition=a.clone(s.ssContent),s.ssFallback.transition=a.clone(s.ssFallback)):s.transition=a}function Ba(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}function Wn(s,a,c,h,f=!1){if(Ae(s)){s.forEach((de,re)=>Wn(de,a&&(Ae(a)?a[re]:a),c,h,f));return}if(Gn(h)&&!f){h.shapeFlag&512&&h.type.__asyncResolved&&h.component.subTree.component&&Wn(s,a,c,h.component.subTree);return}const g=h.shapeFlag&4?xi(h.component):h.el,E=f?null:g,{i:I,r:S}=s,C=a&&a.r,N=I.refs===Ze?I.refs={}:I.refs,R=I.setupState,z=We(R),Z=R===Ze?()=>!1:de=>Ge(z,de);if(C!=null&&C!==S&&(gt(C)?(N[C]=null,Z(C)&&(R[C]=null)):Rt(C)&&(C.value=null)),Se(S))$n(S,I,12,[E,N]);else{const de=gt(S),re=Rt(S);if(de||re){const Fe=()=>{if(s.f){const _e=de?Z(S)?R[S]:N[S]:S.value;f?Ae(_e)&&Ds(_e,g):Ae(_e)?_e.includes(g)||_e.push(g):de?(N[S]=[g],Z(S)&&(R[S]=N[S])):(S.value=[g],s.k&&(N[s.k]=S.value))}else de?(N[S]=E,Z(S)&&(R[S]=E)):re&&(S.value=E,s.k&&(N[s.k]=E))};E?(Fe.id=-1,zt(Fe,c)):Fe()}}}vi().requestIdleCallback;vi().cancelIdleCallback;const Gn=s=>!!s.type.__asyncLoader,Pa=s=>s.type.__isKeepAlive;function Fl(s,a){Fa(s,"a",a)}function Ll(s,a){Fa(s,"da",a)}function Fa(s,a,c=Nt){const h=s.__wdc||(s.__wdc=()=>{let f=c;for(;f;){if(f.isDeactivated)return;f=f.parent}return s()});if(Bi(a,h,c),c){let f=c.parent;for(;f&&f.parent;)Pa(f.parent.vnode)&&xl(h,a,c,f),f=f.parent}}function xl(s,a,c,h){const f=Bi(a,s,h,!0);Pi(()=>{Ds(h[a],f)},c)}function Bi(s,a,c=Nt,h=!1){if(c){const f=c[s]||(c[s]=[]),g=a.__weh||(a.__weh=(...E)=>{br();const I=qn(c),S=Er(a,c,s,E);return I(),Nr(),S});return h?f.unshift(g):f.push(g),g}}const Rr=s=>(a,c=Nt)=>{(!Qn||s==="sp")&&Bi(s,(...h)=>a(...h),c)},kl=Rr("bm"),Xs=Rr("m"),La=Rr("bu"),Ul=Rr("u"),Vl=Rr("bum"),Pi=Rr("um"),Hl=Rr("sp"),Wl=Rr("rtg"),Gl=Rr("rtc");function Xl(s,a=Nt){Bi("ec",s,a)}const zl=Symbol.for("v-ndc"),As=s=>s?i1(s)?xi(s):As(s.parent):null,Xn=Ft(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>As(s.parent),$root:s=>As(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>ka(s),$forceUpdate:s=>s.f||(s.f=()=>{Ws(s.update)}),$nextTick:s=>s.n||(s.n=Na.bind(s.proxy)),$watch:s=>fc.bind(s)}),ls=(s,a)=>s!==Ze&&!s.__isScriptSetup&&Ge(s,a),Yl={get({_:s},a){if(a==="__v_skip")return!0;const{ctx:c,setupState:h,data:f,props:g,accessCache:E,type:I,appContext:S}=s;let C;if(a[0]!=="$"){const Z=E[a];if(Z!==void 0)switch(Z){case 1:return h[a];case 2:return f[a];case 4:return c[a];case 3:return g[a]}else{if(ls(h,a))return E[a]=1,h[a];if(f!==Ze&&Ge(f,a))return E[a]=2,f[a];if((C=s.propsOptions[0])&&Ge(C,a))return E[a]=3,g[a];if(c!==Ze&&Ge(c,a))return E[a]=4,c[a];Is&&(E[a]=0)}}const N=Xn[a];let R,z;if(N)return a==="$attrs"&&bt(s.attrs,"get",""),N(s);if((R=I.__cssModules)&&(R=R[a]))return R;if(c!==Ze&&Ge(c,a))return E[a]=4,c[a];if(z=S.config.globalProperties,Ge(z,a))return z[a]},set({_:s},a,c){const{data:h,setupState:f,ctx:g}=s;return ls(f,a)?(f[a]=c,!0):h!==Ze&&Ge(h,a)?(h[a]=c,!0):Ge(s.props,a)||a[0]==="$"&&a.slice(1)in s?!1:(g[a]=c,!0)},has({_:{data:s,setupState:a,accessCache:c,ctx:h,appContext:f,propsOptions:g}},E){let I;return!!c[E]||s!==Ze&&Ge(s,E)||ls(a,E)||(I=g[0])&&Ge(I,E)||Ge(h,E)||Ge(Xn,E)||Ge(f.config.globalProperties,E)},defineProperty(s,a,c){return c.get!=null?s._.accessCache[a]=0:Ge(c,"value")&&this.set(s,a,c.value,null),Reflect.defineProperty(s,a,c)}};function mo(s){return Ae(s)?s.reduce((a,c)=>(a[c]=null,a),{}):s}let Is=!0;function Zl(s){const a=ka(s),c=s.proxy,h=s.ctx;Is=!1,a.beforeCreate&&Eo(a.beforeCreate,s,"bc");const{data:f,computed:g,methods:E,watch:I,provide:S,inject:C,created:N,beforeMount:R,mounted:z,beforeUpdate:Z,updated:de,activated:re,deactivated:Fe,beforeDestroy:_e,beforeUnmount:we,destroyed:ne,unmounted:ee,render:Me,renderTracked:Ne,renderTriggered:Q,errorCaptured:Te,serverPrefetch:K,expose:Et,inheritAttrs:nt,components:fe,directives:ae,filters:ge}=a;if(C&&Kl(C,h,null),E)for(const Ce in E){const ie=E[Ce];Se(ie)&&(h[Ce]=ie.bind(c))}if(f){const Ce=f.call(c,c);ct(Ce)&&(s.data=Us(Ce))}if(Is=!0,g)for(const Ce in g){const ie=g[Ce],ut=Se(ie)?ie.bind(c,c):Se(ie.get)?ie.get.bind(c,c):rr,yt=!Se(ie)&&Se(ie.set)?ie.set.bind(c):rr,Lt=Fc({get:ut,set:yt});Object.defineProperty(h,Ce,{enumerable:!0,configurable:!0,get:()=>Lt.value,set:Cr=>Lt.value=Cr})}if(I)for(const Ce in I)xa(I[Ce],h,c,Ce);if(S){const Ce=Se(S)?S.call(c):S;Reflect.ownKeys(Ce).forEach(ie=>{ec(ie,Ce[ie])})}N&&Eo(N,s,"c");function M(Ce,ie){Ae(ie)?ie.forEach(ut=>Ce(ut.bind(c))):ie&&Ce(ie.bind(c))}if(M(kl,R),M(Xs,z),M(La,Z),M(Ul,de),M(Fl,re),M(Ll,Fe),M(Xl,Te),M(Gl,Ne),M(Wl,Q),M(Vl,we),M(Pi,ee),M(Hl,K),Ae(Et))if(Et.length){const Ce=s.exposed||(s.exposed={});Et.forEach(ie=>{Object.defineProperty(Ce,ie,{get:()=>c[ie],set:ut=>c[ie]=ut})})}else s.exposed||(s.exposed={});Me&&s.render===rr&&(s.render=Me),nt!=null&&(s.inheritAttrs=nt),fe&&(s.components=fe),ae&&(s.directives=ae),K&&Ba(s)}function Kl(s,a,c=rr){Ae(s)&&(s=Ss(s));for(const h in s){const f=s[h];let g;ct(f)?"default"in f?g=fi(f.from||h,f.default,!0):g=fi(f.from||h):g=fi(f),Rt(g)?Object.defineProperty(a,h,{enumerable:!0,configurable:!0,get:()=>g.value,set:E=>g.value=E}):a[h]=g}}function Eo(s,a,c){Er(Ae(s)?s.map(h=>h.bind(a.proxy)):s.bind(a.proxy),a,c)}function xa(s,a,c,h){let f=h.includes(".")?$a(c,h):()=>c[h];if(gt(s)){const g=a[s];Se(g)&&gi(f,g)}else if(Se(s))gi(f,s.bind(c));else if(ct(s))if(Ae(s))s.forEach(g=>xa(g,a,c,h));else{const g=Se(s.handler)?s.handler.bind(c):a[s.handler];Se(g)&&gi(f,g,s)}}function ka(s){const a=s.type,{mixins:c,extends:h}=a,{mixins:f,optionsCache:g,config:{optionMergeStrategies:E}}=s.appContext,I=g.get(a);let S;return I?S=I:!f.length&&!c&&!h?S=a:(S={},f.length&&f.forEach(C=>Si(S,C,E,!0)),Si(S,a,E)),ct(a)&&g.set(a,S),S}function Si(s,a,c,h=!1){const{mixins:f,extends:g}=a;g&&Si(s,g,c,!0),f&&f.forEach(E=>Si(s,E,c,!0));for(const E in a)if(!(h&&E==="expose")){const I=jl[E]||c&&c[E];s[E]=I?I(s[E],a[E]):a[E]}return s}const jl={data:Co,props:Ao,emits:Ao,methods:xn,computed:xn,beforeCreate:Mt,created:Mt,beforeMount:Mt,mounted:Mt,beforeUpdate:Mt,updated:Mt,beforeDestroy:Mt,beforeUnmount:Mt,destroyed:Mt,unmounted:Mt,activated:Mt,deactivated:Mt,errorCaptured:Mt,serverPrefetch:Mt,components:xn,directives:xn,watch:$l,provide:Co,inject:Ql};function Co(s,a){return a?s?function(){return Ft(Se(s)?s.call(this,this):s,Se(a)?a.call(this,this):a)}:a:s}function Ql(s,a){return xn(Ss(s),Ss(a))}function Ss(s){if(Ae(s)){const a={};for(let c=0;c<s.length;c++)a[s[c]]=s[c];return a}return s}function Mt(s,a){return s?[...new Set([].concat(s,a))]:a}function xn(s,a){return s?Ft(Object.create(null),s,a):a}function Ao(s,a){return s?Ae(s)&&Ae(a)?[...new Set([...s,...a])]:Ft(Object.create(null),mo(s),mo(a??{})):a}function $l(s,a){if(!s)return a;if(!a)return s;const c=Ft(Object.create(null),s);for(const h in a)c[h]=Mt(s[h],a[h]);return c}function Ua(){return{app:null,config:{isNativeTag:W1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ql=0;function Jl(s,a){return function(c,h=null){Se(c)||(c=Ft({},c)),h!=null&&!ct(h)&&(h=null);const f=Ua(),g=new WeakSet,E=[];let I=!1;const S=f.app={_uid:ql++,_component:c,_props:h,_container:null,_context:f,_instance:null,version:Lc,get config(){return f.config},set config(C){},use(C,...N){return g.has(C)||(C&&Se(C.install)?(g.add(C),C.install(S,...N)):Se(C)&&(g.add(C),C(S,...N))),S},mixin(C){return f.mixins.includes(C)||f.mixins.push(C),S},component(C,N){return N?(f.components[C]=N,S):f.components[C]},directive(C,N){return N?(f.directives[C]=N,S):f.directives[C]},mount(C,N,R){if(!I){const z=S._ceVNode||sr(c,h);return z.appContext=f,R===!0?R="svg":R===!1&&(R=void 0),s(z,C,R),I=!0,S._container=C,C.__vue_app__=S,xi(z.component)}},onUnmount(C){E.push(C)},unmount(){I&&(Er(E,S._instance,16),s(null,S._container),delete S._container.__vue_app__)},provide(C,N){return f.provides[C]=N,S},runWithContext(C){const N=Sn;Sn=S;try{return C()}finally{Sn=N}}};return S}}let Sn=null;function ec(s,a){if(Nt){let c=Nt.provides;const h=Nt.parent&&Nt.parent.provides;h===c&&(c=Nt.provides=Object.create(h)),c[s]=a}}function fi(s,a,c=!1){const h=Nt||Zt;if(h||Sn){let f=Sn?Sn._context.provides:h?h.parent==null||h.ce?h.vnode.appContext&&h.vnode.appContext.provides:h.parent.provides:void 0;if(f&&s in f)return f[s];if(arguments.length>1)return c&&Se(a)?a.call(h&&h.proxy):a}}const Va={},Ha=()=>Object.create(Va),Wa=s=>Object.getPrototypeOf(s)===Va;function tc(s,a,c,h=!1){const f={},g=Ha();s.propsDefaults=Object.create(null),Ga(s,a,f,g);for(const E in s.propsOptions[0])E in f||(f[E]=void 0);c?s.props=h?f:Cl(f):s.type.props?s.props=f:s.props=g,s.attrs=g}function rc(s,a,c,h){const{props:f,attrs:g,vnode:{patchFlag:E}}=s,I=We(f),[S]=s.propsOptions;let C=!1;if((h||E>0)&&!(E&16)){if(E&8){const N=s.vnode.dynamicProps;for(let R=0;R<N.length;R++){let z=N[R];if(Fi(s.emitsOptions,z))continue;const Z=a[z];if(S)if(Ge(g,z))Z!==g[z]&&(g[z]=Z,C=!0);else{const de=Hr(z);f[de]=ys(S,I,de,Z,s,!1)}else Z!==g[z]&&(g[z]=Z,C=!0)}}}else{Ga(s,a,f,g)&&(C=!0);let N;for(const R in I)(!a||!Ge(a,R)&&((N=Xr(R))===R||!Ge(a,N)))&&(S?c&&(c[R]!==void 0||c[N]!==void 0)&&(f[R]=ys(S,I,R,void 0,s,!0)):delete f[R]);if(g!==I)for(const R in g)(!a||!Ge(a,R))&&(delete g[R],C=!0)}C&&_r(s.attrs,"set","")}function Ga(s,a,c,h){const[f,g]=s.propsOptions;let E=!1,I;if(a)for(let S in a){if(kn(S))continue;const C=a[S];let N;f&&Ge(f,N=Hr(S))?!g||!g.includes(N)?c[N]=C:(I||(I={}))[N]=C:Fi(s.emitsOptions,S)||(!(S in h)||C!==h[S])&&(h[S]=C,E=!0)}if(g){const S=We(c),C=I||Ze;for(let N=0;N<g.length;N++){const R=g[N];c[R]=ys(f,S,R,C[R],s,!Ge(C,R))}}return E}function ys(s,a,c,h,f,g){const E=s[c];if(E!=null){const I=Ge(E,"default");if(I&&h===void 0){const S=E.default;if(E.type!==Function&&!E.skipFactory&&Se(S)){const{propsDefaults:C}=f;if(c in C)h=C[c];else{const N=qn(f);h=C[c]=S.call(null,a),N()}}else h=S;f.ce&&f.ce._setProp(c,h)}E[0]&&(g&&!I?h=!1:E[1]&&(h===""||h===Xr(c))&&(h=!0))}return h}const nc=new WeakMap;function Xa(s,a,c=!1){const h=c?nc:a.propsCache,f=h.get(s);if(f)return f;const g=s.props,E={},I=[];let S=!1;if(!Se(s)){const N=R=>{S=!0;const[z,Z]=Xa(R,a,!0);Ft(E,z),Z&&I.push(...Z)};!c&&a.mixins.length&&a.mixins.forEach(N),s.extends&&N(s.extends),s.mixins&&s.mixins.forEach(N)}if(!g&&!S)return ct(s)&&h.set(s,Cn),Cn;if(Ae(g))for(let N=0;N<g.length;N++){const R=Hr(g[N]);Io(R)&&(E[R]=Ze)}else if(g)for(const N in g){const R=Hr(N);if(Io(R)){const z=g[N],Z=E[R]=Ae(z)||Se(z)?{type:z}:Ft({},z),de=Z.type;let re=!1,Fe=!0;if(Ae(de))for(let _e=0;_e<de.length;++_e){const we=de[_e],ne=Se(we)&&we.name;if(ne==="Boolean"){re=!0;break}else ne==="String"&&(Fe=!1)}else re=Se(de)&&de.name==="Boolean";Z[0]=re,Z[1]=Fe,(re||Ge(Z,"default"))&&I.push(R)}}const C=[E,I];return ct(s)&&h.set(s,C),C}function Io(s){return s[0]!=="$"&&!kn(s)}const zs=s=>s[0]==="_"||s==="$stable",Ys=s=>Ae(s)?s.map(mr):[mr(s)],ic=(s,a,c)=>{if(a._n)return a;const h=vl((...f)=>Ys(a(...f)),c);return h._c=!1,h},za=(s,a,c)=>{const h=s._ctx;for(const f in s){if(zs(f))continue;const g=s[f];if(Se(g))a[f]=ic(f,g,h);else if(g!=null){const E=Ys(g);a[f]=()=>E}}},Ya=(s,a)=>{const c=Ys(a);s.slots.default=()=>c},Za=(s,a,c)=>{for(const h in a)(c||!zs(h))&&(s[h]=a[h])},sc=(s,a,c)=>{const h=s.slots=Ha();if(s.vnode.shapeFlag&32){const f=a.__;f&&fs(h,"__",f,!0);const g=a._;g?(Za(h,a,c),c&&fs(h,"_",g,!0)):za(a,h)}else a&&Ya(s,a)},oc=(s,a,c)=>{const{vnode:h,slots:f}=s;let g=!0,E=Ze;if(h.shapeFlag&32){const I=a._;I?c&&I===1?g=!1:Za(f,a,c):(g=!a.$stable,za(a,f)),E=a}else a&&(Ya(s,a),E={default:1});if(g)for(const I in f)!zs(I)&&E[I]==null&&delete f[I]},zt=Ac;function ac(s){return lc(s)}function lc(s,a){const c=vi();c.__VUE__=!0;const{insert:h,remove:f,patchProp:g,createElement:E,createText:I,createComment:S,setText:C,setElementText:N,parentNode:R,nextSibling:z,setScopeId:Z=rr,insertStaticContent:de}=s,re=(T,O,P,G=null,U=null,W=null,$=void 0,H=null,k=!!O.dynamicChildren)=>{if(T===O)return;T&&!Fn(T,O)&&(G=Or(T),qe(T,U,W,!0),T=null),O.patchFlag===-2&&(k=!1,O.dynamicChildren=null);const{type:Y,ref:x,shapeFlag:te}=O;switch(Y){case Li:Fe(T,O,P,G);break;case Wr:_e(T,O,P,G);break;case pi:T==null&&we(O,P,G,$);break;case wr:fe(T,O,P,G,U,W,$,H,k);break;default:te&1?Me(T,O,P,G,U,W,$,H,k):te&6?ae(T,O,P,G,U,W,$,H,k):(te&64||te&128)&&Y.process(T,O,P,G,U,W,$,H,k,ar)}x!=null&&U?Wn(x,T&&T.ref,W,O||T,!O):x==null&&T&&T.ref!=null&&Wn(T.ref,null,W,T,!0)},Fe=(T,O,P,G)=>{if(T==null)h(O.el=I(O.children),P,G);else{const U=O.el=T.el;O.children!==T.children&&C(U,O.children)}},_e=(T,O,P,G)=>{T==null?h(O.el=S(O.children||""),P,G):O.el=T.el},we=(T,O,P,G)=>{[T.el,T.anchor]=de(T.children,O,P,G,T.el,T.anchor)},ne=({el:T,anchor:O},P,G)=>{let U;for(;T&&T!==O;)U=z(T),h(T,P,G),T=U;h(O,P,G)},ee=({el:T,anchor:O})=>{let P;for(;T&&T!==O;)P=z(T),f(T),T=P;f(O)},Me=(T,O,P,G,U,W,$,H,k)=>{O.type==="svg"?$="svg":O.type==="math"&&($="mathml"),T==null?Ne(O,P,G,U,W,$,H,k):K(T,O,U,W,$,H,k)},Ne=(T,O,P,G,U,W,$,H)=>{let k,Y;const{props:x,shapeFlag:te,transition:ce,dirs:he}=T;if(k=T.el=E(T.type,W,x&&x.is,x),te&8?N(k,T.children):te&16&&Te(T.children,k,null,G,U,cs(T,W),$,H),he&&qr(T,null,G,"created"),Q(k,T,T.scopeId,$,G),x){for(const De in x)De!=="value"&&!kn(De)&&g(k,De,null,x[De],W,G);"value"in x&&g(k,"value",null,x.value,W),(Y=x.onVnodeBeforeMount)&&gr(Y,G,T)}he&&qr(T,null,G,"beforeMount");const Re=cc(U,ce);Re&&ce.beforeEnter(k),h(k,O,P),((Y=x&&x.onVnodeMounted)||Re||he)&&zt(()=>{Y&&gr(Y,G,T),Re&&ce.enter(k),he&&qr(T,null,G,"mounted")},U)},Q=(T,O,P,G,U)=>{if(P&&Z(T,P),G)for(let W=0;W<G.length;W++)Z(T,G[W]);if(U){let W=U.subTree;if(O===W||Ja(W.type)&&(W.ssContent===O||W.ssFallback===O)){const $=U.vnode;Q(T,$,$.scopeId,$.slotScopeIds,U.parent)}}},Te=(T,O,P,G,U,W,$,H,k=0)=>{for(let Y=k;Y<T.length;Y++){const x=T[Y]=H?kr(T[Y]):mr(T[Y]);re(null,x,O,P,G,U,W,$,H)}},K=(T,O,P,G,U,W,$)=>{const H=O.el=T.el;let{patchFlag:k,dynamicChildren:Y,dirs:x}=O;k|=T.patchFlag&16;const te=T.props||Ze,ce=O.props||Ze;let he;if(P&&Jr(P,!1),(he=ce.onVnodeBeforeUpdate)&&gr(he,P,O,T),x&&qr(O,T,P,"beforeUpdate"),P&&Jr(P,!0),(te.innerHTML&&ce.innerHTML==null||te.textContent&&ce.textContent==null)&&N(H,""),Y?Et(T.dynamicChildren,Y,H,P,G,cs(O,U),W):$||ut(T,O,H,null,P,G,cs(O,U),W,!1),k>0){if(k&16)nt(H,te,ce,P,U);else if(k&2&&te.class!==ce.class&&g(H,"class",null,ce.class,U),k&4&&g(H,"style",te.style,ce.style,U),k&8){const Re=O.dynamicProps;for(let De=0;De<Re.length;De++){const Pe=Re[De],et=te[Pe],ke=ce[Pe];(ke!==et||Pe==="value")&&g(H,Pe,et,ke,U,P)}}k&1&&T.children!==O.children&&N(H,O.children)}else!$&&Y==null&&nt(H,te,ce,P,U);((he=ce.onVnodeUpdated)||x)&&zt(()=>{he&&gr(he,P,O,T),x&&qr(O,T,P,"updated")},G)},Et=(T,O,P,G,U,W,$)=>{for(let H=0;H<O.length;H++){const k=T[H],Y=O[H],x=k.el&&(k.type===wr||!Fn(k,Y)||k.shapeFlag&198)?R(k.el):P;re(k,Y,x,null,G,U,W,$,!0)}},nt=(T,O,P,G,U)=>{if(O!==P){if(O!==Ze)for(const W in O)!kn(W)&&!(W in P)&&g(T,W,O[W],null,U,G);for(const W in P){if(kn(W))continue;const $=P[W],H=O[W];$!==H&&W!=="value"&&g(T,W,H,$,U,G)}"value"in P&&g(T,"value",O.value,P.value,U)}},fe=(T,O,P,G,U,W,$,H,k)=>{const Y=O.el=T?T.el:I(""),x=O.anchor=T?T.anchor:I("");let{patchFlag:te,dynamicChildren:ce,slotScopeIds:he}=O;he&&(H=H?H.concat(he):he),T==null?(h(Y,P,G),h(x,P,G),Te(O.children||[],P,x,U,W,$,H,k)):te>0&&te&64&&ce&&T.dynamicChildren?(Et(T.dynamicChildren,ce,P,U,W,$,H),(O.key!=null||U&&O===U.subTree)&&Ka(T,O,!0)):ut(T,O,P,x,U,W,$,H,k)},ae=(T,O,P,G,U,W,$,H,k)=>{O.slotScopeIds=H,T==null?O.shapeFlag&512?U.ctx.activate(O,P,G,$,k):ge(O,P,G,U,W,$,k):M(T,O,k)},ge=(T,O,P,G,U,W,$)=>{const H=T.component=Rc(T,G,U);if(Pa(T)&&(H.ctx.renderer=ar),Dc(H,!1,$),H.asyncDep){if(U&&U.registerDep(H,Ce,$),!T.el){const k=H.subTree=sr(Wr);_e(null,k,O,P)}}else Ce(H,T,O,P,U,W,$)},M=(T,O,P)=>{const G=O.component=T.component;if(Ec(T,O,P))if(G.asyncDep&&!G.asyncResolved){ie(G,O,P);return}else G.next=O,G.update();else O.el=T.el,G.vnode=O},Ce=(T,O,P,G,U,W,$)=>{const H=()=>{if(T.isMounted){let{next:te,bu:ce,u:he,parent:Re,vnode:De}=T;{const Ot=ja(T);if(Ot){te&&(te.el=De.el,ie(T,te,$)),Ot.asyncDep.then(()=>{T.isUnmounted||H()});return}}let Pe=te,et;Jr(T,!1),te?(te.el=De.el,ie(T,te,$)):te=De,ce&&di(ce),(et=te.props&&te.props.onVnodeBeforeUpdate)&&gr(et,Re,te,De),Jr(T,!0);const ke=yo(T),Gt=T.subTree;T.subTree=ke,re(Gt,ke,R(Gt.el),Or(Gt),T,U,W),te.el=ke.el,Pe===null&&Cc(T,ke.el),he&&zt(he,U),(et=te.props&&te.props.onVnodeUpdated)&&zt(()=>gr(et,Re,te,De),U)}else{let te;const{el:ce,props:he}=O,{bm:Re,m:De,parent:Pe,root:et,type:ke}=T,Gt=Gn(O);Jr(T,!1),Re&&di(Re),!Gt&&(te=he&&he.onVnodeBeforeMount)&&gr(te,Pe,O),Jr(T,!0);{et.ce&&et.ce._def.shadowRoot!==!1&&et.ce._injectChildStyle(ke);const Ot=T.subTree=yo(T);re(null,Ot,P,G,T,U,W),O.el=Ot.el}if(De&&zt(De,U),!Gt&&(te=he&&he.onVnodeMounted)){const Ot=O;zt(()=>gr(te,Pe,Ot),U)}(O.shapeFlag&256||Pe&&Gn(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&T.a&&zt(T.a,U),T.isMounted=!0,O=P=G=null}};T.scope.on();const k=T.effect=new ua(H);T.scope.off();const Y=T.update=k.run.bind(k),x=T.job=k.runIfDirty.bind(k);x.i=T,x.id=T.uid,k.scheduler=()=>Ws(x),Jr(T,!0),Y()},ie=(T,O,P)=>{O.component=T;const G=T.vnode.props;T.vnode=O,T.next=null,rc(T,O.props,G,P),oc(T,O.children,P),br(),wo(T),Nr()},ut=(T,O,P,G,U,W,$,H,k=!1)=>{const Y=T&&T.children,x=T?T.shapeFlag:0,te=O.children,{patchFlag:ce,shapeFlag:he}=O;if(ce>0){if(ce&128){Lt(Y,te,P,G,U,W,$,H,k);return}else if(ce&256){yt(Y,te,P,G,U,W,$,H,k);return}}he&8?(x&16&&le(Y,U,W),te!==Y&&N(P,te)):x&16?he&16?Lt(Y,te,P,G,U,W,$,H,k):le(Y,U,W,!0):(x&8&&N(P,""),he&16&&Te(te,P,G,U,W,$,H,k))},yt=(T,O,P,G,U,W,$,H,k)=>{T=T||Cn,O=O||Cn;const Y=T.length,x=O.length,te=Math.min(Y,x);let ce;for(ce=0;ce<te;ce++){const he=O[ce]=k?kr(O[ce]):mr(O[ce]);re(T[ce],he,P,null,U,W,$,H,k)}Y>x?le(T,U,W,!0,!1,te):Te(O,P,G,U,W,$,H,k,te)},Lt=(T,O,P,G,U,W,$,H,k)=>{let Y=0;const x=O.length;let te=T.length-1,ce=x-1;for(;Y<=te&&Y<=ce;){const he=T[Y],Re=O[Y]=k?kr(O[Y]):mr(O[Y]);if(Fn(he,Re))re(he,Re,P,null,U,W,$,H,k);else break;Y++}for(;Y<=te&&Y<=ce;){const he=T[te],Re=O[ce]=k?kr(O[ce]):mr(O[ce]);if(Fn(he,Re))re(he,Re,P,null,U,W,$,H,k);else break;te--,ce--}if(Y>te){if(Y<=ce){const he=ce+1,Re=he<x?O[he].el:G;for(;Y<=ce;)re(null,O[Y]=k?kr(O[Y]):mr(O[Y]),P,Re,U,W,$,H,k),Y++}}else if(Y>ce)for(;Y<=te;)qe(T[Y],U,W,!0),Y++;else{const he=Y,Re=Y,De=new Map;for(Y=Re;Y<=ce;Y++){const j=O[Y]=k?kr(O[Y]):mr(O[Y]);j.key!=null&&De.set(j.key,Y)}let Pe,et=0;const ke=ce-Re+1;let Gt=!1,Ot=0;const zr=new Array(ke);for(Y=0;Y<ke;Y++)zr[Y]=0;for(Y=he;Y<=te;Y++){const j=T[Y];if(et>=ke){qe(j,U,W,!0);continue}let Ue;if(j.key!=null)Ue=De.get(j.key);else for(Pe=Re;Pe<=ce;Pe++)if(zr[Pe-Re]===0&&Fn(j,O[Pe])){Ue=Pe;break}Ue===void 0?qe(j,U,W,!0):(zr[Ue-Re]=Y+1,Ue>=Ot?Ot=Ue:Gt=!0,re(j,O[Ue],P,null,U,W,$,H,k),et++)}const tt=Gt?uc(zr):Cn;for(Pe=tt.length-1,Y=ke-1;Y>=0;Y--){const j=Re+Y,Ue=O[j],Ve=j+1<x?O[j+1].el:G;zr[Y]===0?re(null,Ue,P,Ve,U,W,$,H,k):Gt&&(Pe<0||Y!==tt[Pe]?Cr(Ue,P,Ve,2):Pe--)}}},Cr=(T,O,P,G,U=null)=>{const{el:W,type:$,transition:H,children:k,shapeFlag:Y}=T;if(Y&6){Cr(T.component.subTree,O,P,G);return}if(Y&128){T.suspense.move(O,P,G);return}if(Y&64){$.move(T,O,P,ar);return}if($===wr){h(W,O,P);for(let x=0;x<k.length;x++)Cr(k[x],O,P,G);h(T.anchor,O,P);return}if($===pi){ne(T,O,P);return}if(G!==2&&Y&1&&H)if(G===0)H.beforeEnter(W),h(W,O,P),zt(()=>H.enter(W),U);else{const{leave:x,delayLeave:te,afterLeave:ce}=H,he=()=>{T.ctx.isUnmounted?f(W):h(W,O,P)},Re=()=>{x(W,()=>{he(),ce&&ce()})};te?te(W,he,Re):Re()}else h(W,O,P)},qe=(T,O,P,G=!1,U=!1)=>{const{type:W,props:$,ref:H,children:k,dynamicChildren:Y,shapeFlag:x,patchFlag:te,dirs:ce,cacheIndex:he}=T;if(te===-2&&(U=!1),H!=null&&(br(),Wn(H,null,P,T,!0),Nr()),he!=null&&(O.renderCache[he]=void 0),x&256){O.ctx.deactivate(T);return}const Re=x&1&&ce,De=!Gn(T);let Pe;if(De&&(Pe=$&&$.onVnodeBeforeUnmount)&&gr(Pe,O,T),x&6)_n(T.component,P,G);else{if(x&128){T.suspense.unmount(P,G);return}Re&&qr(T,null,O,"beforeUnmount"),x&64?T.type.remove(T,O,P,ar,G):Y&&!Y.hasOnce&&(W!==wr||te>0&&te&64)?le(Y,O,P,!1,!0):(W===wr&&te&384||!U&&x&16)&&le(k,O,P),G&&or(T)}(De&&(Pe=$&&$.onVnodeUnmounted)||Re)&&zt(()=>{Pe&&gr(Pe,O,T),Re&&qr(T,null,O,"unmounted")},P)},or=T=>{const{type:O,el:P,anchor:G,transition:U}=T;if(O===wr){Ct(P,G);return}if(O===pi){ee(T);return}const W=()=>{f(P),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(T.shapeFlag&1&&U&&!U.persisted){const{leave:$,delayLeave:H}=U,k=()=>$(P,W);H?H(T.el,W,k):k()}else W()},Ct=(T,O)=>{let P;for(;T!==O;)P=z(T),f(T),T=P;f(O)},_n=(T,O,P)=>{const{bum:G,scope:U,job:W,subTree:$,um:H,m:k,a:Y,parent:x,slots:{__:te}}=T;So(k),So(Y),G&&di(G),x&&Ae(te)&&te.forEach(ce=>{x.renderCache[ce]=void 0}),U.stop(),W&&(W.flags|=8,qe($,T,O,P)),H&&zt(H,O),zt(()=>{T.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},le=(T,O,P,G=!1,U=!1,W=0)=>{for(let $=W;$<T.length;$++)qe(T[$],O,P,G,U)},Or=T=>{if(T.shapeFlag&6)return Or(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const O=z(T.anchor||T.el),P=O&&O[Bl];return P?z(P):O};let it=!1;const Dr=(T,O,P)=>{T==null?O._vnode&&qe(O._vnode,null,null,!0):re(O._vnode||null,T,O,null,null,null,P),O._vnode=T,it||(it=!0,wo(),Da(),it=!1)},ar={p:re,um:qe,m:Cr,r:or,mt:ge,mc:Te,pc:ut,pbc:Et,n:Or,o:s};return{render:Dr,hydrate:void 0,createApp:Jl(Dr)}}function cs({type:s,props:a},c){return c==="svg"&&s==="foreignObject"||c==="mathml"&&s==="annotation-xml"&&a&&a.encoding&&a.encoding.includes("html")?void 0:c}function Jr({effect:s,job:a},c){c?(s.flags|=32,a.flags|=4):(s.flags&=-33,a.flags&=-5)}function cc(s,a){return(!s||s&&!s.pendingBranch)&&a&&!a.persisted}function Ka(s,a,c=!1){const h=s.children,f=a.children;if(Ae(h)&&Ae(f))for(let g=0;g<h.length;g++){const E=h[g];let I=f[g];I.shapeFlag&1&&!I.dynamicChildren&&((I.patchFlag<=0||I.patchFlag===32)&&(I=f[g]=kr(f[g]),I.el=E.el),!c&&I.patchFlag!==-2&&Ka(E,I)),I.type===Li&&(I.el=E.el),I.type===Wr&&!I.el&&(I.el=E.el)}}function uc(s){const a=s.slice(),c=[0];let h,f,g,E,I;const S=s.length;for(h=0;h<S;h++){const C=s[h];if(C!==0){if(f=c[c.length-1],s[f]<C){a[h]=f,c.push(h);continue}for(g=0,E=c.length-1;g<E;)I=g+E>>1,s[c[I]]<C?g=I+1:E=I;C<s[c[g]]&&(g>0&&(a[h]=c[g-1]),c[g]=h)}}for(g=c.length,E=c[g-1];g-- >0;)c[g]=E,E=a[E];return c}function ja(s){const a=s.subTree.component;if(a)return a.asyncDep&&!a.asyncResolved?a:ja(a)}function So(s){if(s)for(let a=0;a<s.length;a++)s[a].flags|=8}const hc=Symbol.for("v-scx"),dc=()=>fi(hc);function gi(s,a,c){return Qa(s,a,c)}function Qa(s,a,c=Ze){const{immediate:h,deep:f,flush:g,once:E}=c,I=Ft({},c),S=a&&h||!a&&g!=="post";let C;if(Qn){if(g==="sync"){const Z=dc();C=Z.__watcherHandles||(Z.__watcherHandles=[])}else if(!S){const Z=()=>{};return Z.stop=rr,Z.resume=rr,Z.pause=rr,Z}}const N=Nt;I.call=(Z,de,re)=>Er(Z,N,de,re);let R=!1;g==="post"?I.scheduler=Z=>{zt(Z,N&&N.suspense)}:g!=="sync"&&(R=!0,I.scheduler=(Z,de)=>{de?Z():Ws(Z)}),I.augmentJob=Z=>{a&&(Z.flags|=4),R&&(Z.flags|=2,N&&(Z.id=N.uid,Z.i=N))};const z=Rl(s,a,I);return Qn&&(C?C.push(z):S&&z()),z}function fc(s,a,c){const h=this.proxy,f=gt(s)?s.includes(".")?$a(h,s):()=>h[s]:s.bind(h,h);let g;Se(a)?g=a:(g=a.handler,c=a);const E=qn(this),I=Qa(f,g.bind(h),c);return E(),I}function $a(s,a){const c=a.split(".");return()=>{let h=s;for(let f=0;f<c.length&&h;f++)h=h[c[f]];return h}}const gc=(s,a)=>a==="modelValue"||a==="model-value"?s.modelModifiers:s[`${a}Modifiers`]||s[`${Hr(a)}Modifiers`]||s[`${Xr(a)}Modifiers`];function pc(s,a,...c){if(s.isUnmounted)return;const h=s.vnode.props||Ze;let f=c;const g=a.startsWith("update:"),E=g&&gc(h,a.slice(7));E&&(E.trim&&(f=c.map(N=>gt(N)?N.trim():N)),E.number&&(f=c.map(gs)));let I,S=h[I=ns(a)]||h[I=ns(Hr(a))];!S&&g&&(S=h[I=ns(Xr(a))]),S&&Er(S,s,6,f);const C=h[I+"Once"];if(C){if(!s.emitted)s.emitted={};else if(s.emitted[I])return;s.emitted[I]=!0,Er(C,s,6,f)}}function qa(s,a,c=!1){const h=a.emitsCache,f=h.get(s);if(f!==void 0)return f;const g=s.emits;let E={},I=!1;if(!Se(s)){const S=C=>{const N=qa(C,a,!0);N&&(I=!0,Ft(E,N))};!c&&a.mixins.length&&a.mixins.forEach(S),s.extends&&S(s.extends),s.mixins&&s.mixins.forEach(S)}return!g&&!I?(ct(s)&&h.set(s,null),null):(Ae(g)?g.forEach(S=>E[S]=null):Ft(E,g),ct(s)&&h.set(s,E),E)}function Fi(s,a){return!s||!Ri(a)?!1:(a=a.slice(2).replace(/Once$/,""),Ge(s,a[0].toLowerCase()+a.slice(1))||Ge(s,Xr(a))||Ge(s,a))}function yo(s){const{type:a,vnode:c,proxy:h,withProxy:f,propsOptions:[g],slots:E,attrs:I,emit:S,render:C,renderCache:N,props:R,data:z,setupState:Z,ctx:de,inheritAttrs:re}=s,Fe=Ii(s);let _e,we;try{if(c.shapeFlag&4){const ee=f||h,Me=ee;_e=mr(C.call(Me,ee,N,R,Z,z,de)),we=I}else{const ee=a;_e=mr(ee.length>1?ee(R,{attrs:I,slots:E,emit:S}):ee(R,null)),we=a.props?I:wc(I)}}catch(ee){zn.length=0,Mi(ee,s,1),_e=sr(Wr)}let ne=_e;if(we&&re!==!1){const ee=Object.keys(we),{shapeFlag:Me}=ne;ee.length&&Me&7&&(g&&ee.some(Os)&&(we=mc(we,g)),ne=yn(ne,we,!1,!0))}return c.dirs&&(ne=yn(ne,null,!1,!0),ne.dirs=ne.dirs?ne.dirs.concat(c.dirs):c.dirs),c.transition&&Gs(ne,c.transition),_e=ne,Ii(Fe),_e}const wc=s=>{let a;for(const c in s)(c==="class"||c==="style"||Ri(c))&&((a||(a={}))[c]=s[c]);return a},mc=(s,a)=>{const c={};for(const h in s)(!Os(h)||!(h.slice(9)in a))&&(c[h]=s[h]);return c};function Ec(s,a,c){const{props:h,children:f,component:g}=s,{props:E,children:I,patchFlag:S}=a,C=g.emitsOptions;if(a.dirs||a.transition)return!0;if(c&&S>=0){if(S&1024)return!0;if(S&16)return h?_o(h,E,C):!!E;if(S&8){const N=a.dynamicProps;for(let R=0;R<N.length;R++){const z=N[R];if(E[z]!==h[z]&&!Fi(C,z))return!0}}}else return(f||I)&&(!I||!I.$stable)?!0:h===E?!1:h?E?_o(h,E,C):!0:!!E;return!1}function _o(s,a,c){const h=Object.keys(a);if(h.length!==Object.keys(s).length)return!0;for(let f=0;f<h.length;f++){const g=h[f];if(a[g]!==s[g]&&!Fi(c,g))return!0}return!1}function Cc({vnode:s,parent:a},c){for(;a;){const h=a.subTree;if(h.suspense&&h.suspense.activeBranch===s&&(h.el=s.el),h===s)(s=a.vnode).el=c,a=a.parent;else break}}const Ja=s=>s.__isSuspense;function Ac(s,a){a&&a.pendingBranch?Ae(s)?a.effects.push(...s):a.effects.push(s):Oa(s)}const wr=Symbol.for("v-fgt"),Li=Symbol.for("v-txt"),Wr=Symbol.for("v-cmt"),pi=Symbol.for("v-stc"),zn=[];let Kt=null;function tr(s=!1){zn.push(Kt=s?null:[])}function Ic(){zn.pop(),Kt=zn[zn.length-1]||null}let jn=1;function To(s,a=!1){jn+=s,s<0&&Kt&&a&&(Kt.hasOnce=!0)}function e1(s){return s.dynamicChildren=jn>0?Kt||Cn:null,Ic(),jn>0&&Kt&&Kt.push(s),s}function yr(s,a,c,h,f,g){return e1(mt(s,a,c,h,f,g,!0))}function t1(s,a,c,h,f){return e1(sr(s,a,c,h,f,!0))}function r1(s){return s?s.__v_isVNode===!0:!1}function Fn(s,a){return s.type===a.type&&s.key===a.key}const n1=({key:s})=>s??null,wi=({ref:s,ref_key:a,ref_for:c})=>(typeof s=="number"&&(s=""+s),s!=null?gt(s)||Rt(s)||Se(s)?{i:Zt,r:s,k:a,f:!!c}:s:null);function mt(s,a=null,c=null,h=0,f=null,g=s===wr?0:1,E=!1,I=!1){const S={__v_isVNode:!0,__v_skip:!0,type:s,props:a,key:a&&n1(a),ref:a&&wi(a),scopeId:Ma,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:g,patchFlag:h,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:Zt};return I?(Zs(S,c),g&128&&s.normalize(S)):c&&(S.shapeFlag|=gt(c)?8:16),jn>0&&!E&&Kt&&(S.patchFlag>0||g&6)&&S.patchFlag!==32&&Kt.push(S),S}const sr=Sc;function Sc(s,a=null,c=null,h=0,f=null,g=!1){if((!s||s===zl)&&(s=Wr),r1(s)){const I=yn(s,a,!0);return c&&Zs(I,c),jn>0&&!g&&Kt&&(I.shapeFlag&6?Kt[Kt.indexOf(s)]=I:Kt.push(I)),I.patchFlag=-2,I}if(Pc(s)&&(s=s.__vccOpts),a){a=yc(a);let{class:I,style:S}=a;I&&!gt(I)&&(a.class=Ur(I)),ct(S)&&(Hs(S)&&!Ae(S)&&(S=Ft({},S)),a.style=Ms(S))}const E=gt(s)?1:Ja(s)?128:Pl(s)?64:ct(s)?4:Se(s)?2:0;return mt(s,a,c,h,f,E,g,!0)}function yc(s){return s?Hs(s)||Wa(s)?Ft({},s):s:null}function yn(s,a,c=!1,h=!1){const{props:f,ref:g,patchFlag:E,children:I,transition:S}=s,C=a?Tc(f||{},a):f,N={__v_isVNode:!0,__v_skip:!0,type:s.type,props:C,key:C&&n1(C),ref:a&&a.ref?c&&g?Ae(g)?g.concat(wi(a)):[g,wi(a)]:wi(a):g,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:I,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:a&&s.type!==wr?E===-1?16:E|16:E,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:S,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&yn(s.ssContent),ssFallback:s.ssFallback&&yn(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return S&&h&&Gs(N,S.clone(N)),N}function _c(s=" ",a=0){return sr(Li,null,s,a)}function Ln(s="",a=!1){return a?(tr(),t1(Wr,null,s)):sr(Wr,null,s)}function mr(s){return s==null||typeof s=="boolean"?sr(Wr):Ae(s)?sr(wr,null,s.slice()):r1(s)?kr(s):sr(Li,null,String(s))}function kr(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:yn(s)}function Zs(s,a){let c=0;const{shapeFlag:h}=s;if(a==null)a=null;else if(Ae(a))c=16;else if(typeof a=="object")if(h&65){const f=a.default;f&&(f._c&&(f._d=!1),Zs(s,f()),f._c&&(f._d=!0));return}else{c=32;const f=a._;!f&&!Wa(a)?a._ctx=Zt:f===3&&Zt&&(Zt.slots._===1?a._=1:(a._=2,s.patchFlag|=1024))}else Se(a)?(a={default:a,_ctx:Zt},c=32):(a=String(a),h&64?(c=16,a=[_c(a)]):c=8);s.children=a,s.shapeFlag|=c}function Tc(...s){const a={};for(let c=0;c<s.length;c++){const h=s[c];for(const f in h)if(f==="class")a.class!==h.class&&(a.class=Ur([a.class,h.class]));else if(f==="style")a.style=Ms([a.style,h.style]);else if(Ri(f)){const g=a[f],E=h[f];E&&g!==E&&!(Ae(g)&&g.includes(E))&&(a[f]=g?[].concat(g,E):E)}else f!==""&&(a[f]=h[f])}return a}function gr(s,a,c,h=null){Er(s,a,7,[c,h])}const bc=Ua();let Nc=0;function Rc(s,a,c){const h=s.type,f=(a?a.appContext:s.appContext)||bc,g={uid:Nc++,vnode:s,type:h,parent:a,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new J1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(f.provides),ids:a?a.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xa(h,f),emitsOptions:qa(h,f),emit:null,emitted:null,propsDefaults:Ze,inheritAttrs:h.inheritAttrs,ctx:Ze,data:Ze,props:Ze,attrs:Ze,slots:Ze,refs:Ze,setupState:Ze,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return g.ctx={_:g},g.root=a?a.root:g,g.emit=pc.bind(null,g),s.ce&&s.ce(g),g}let Nt=null;const Oc=()=>Nt||Zt;let yi,_s;{const s=vi(),a=(c,h)=>{let f;return(f=s[c])||(f=s[c]=[]),f.push(h),g=>{f.length>1?f.forEach(E=>E(g)):f[0](g)}};yi=a("__VUE_INSTANCE_SETTERS__",c=>Nt=c),_s=a("__VUE_SSR_SETTERS__",c=>Qn=c)}const qn=s=>{const a=Nt;return yi(s),s.scope.on(),()=>{s.scope.off(),yi(a)}},bo=()=>{Nt&&Nt.scope.off(),yi(null)};function i1(s){return s.vnode.shapeFlag&4}let Qn=!1;function Dc(s,a=!1,c=!1){a&&_s(a);const{props:h,children:f}=s.vnode,g=i1(s);tc(s,h,g,a),sc(s,f,c||a);const E=g?vc(s,a):void 0;return a&&_s(!1),E}function vc(s,a){const c=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,Yl);const{setup:h}=c;if(h){br();const f=s.setupContext=h.length>1?Bc(s):null,g=qn(s),E=$n(h,s,0,[s.props,f]),I=na(E);if(Nr(),g(),(I||s.sp)&&!Gn(s)&&Ba(s),I){if(E.then(bo,bo),a)return E.then(S=>{No(s,S)}).catch(S=>{Mi(S,s,0)});s.asyncDep=E}else No(s,E)}else s1(s)}function No(s,a,c){Se(a)?s.type.__ssrInlineRender?s.ssrRender=a:s.render=a:ct(a)&&(s.setupState=Ta(a)),s1(s)}function s1(s,a,c){const h=s.type;s.render||(s.render=h.render||rr);{const f=qn(s);br();try{Zl(s)}finally{Nr(),f()}}}const Mc={get(s,a){return bt(s,"get",""),s[a]}};function Bc(s){const a=c=>{s.exposed=c||{}};return{attrs:new Proxy(s.attrs,Mc),slots:s.slots,emit:s.emit,expose:a}}function xi(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(Ta(Al(s.exposed)),{get(a,c){if(c in a)return a[c];if(c in Xn)return Xn[c](s)},has(a,c){return c in a||c in Xn}})):s.proxy}function Pc(s){return Se(s)&&"__vccOpts"in s}const Fc=(s,a)=>bl(s,a,Qn),Lc="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ts;const Ro=typeof window<"u"&&window.trustedTypes;if(Ro)try{Ts=Ro.createPolicy("vue",{createHTML:s=>s})}catch{}const o1=Ts?s=>Ts.createHTML(s):s=>s,xc="http://www.w3.org/2000/svg",kc="http://www.w3.org/1998/Math/MathML",Sr=typeof document<"u"?document:null,Oo=Sr&&Sr.createElement("template"),Uc={insert:(s,a,c)=>{a.insertBefore(s,c||null)},remove:s=>{const a=s.parentNode;a&&a.removeChild(s)},createElement:(s,a,c,h)=>{const f=a==="svg"?Sr.createElementNS(xc,s):a==="mathml"?Sr.createElementNS(kc,s):c?Sr.createElement(s,{is:c}):Sr.createElement(s);return s==="select"&&h&&h.multiple!=null&&f.setAttribute("multiple",h.multiple),f},createText:s=>Sr.createTextNode(s),createComment:s=>Sr.createComment(s),setText:(s,a)=>{s.nodeValue=a},setElementText:(s,a)=>{s.textContent=a},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>Sr.querySelector(s),setScopeId(s,a){s.setAttribute(a,"")},insertStaticContent(s,a,c,h,f,g){const E=c?c.previousSibling:a.lastChild;if(f&&(f===g||f.nextSibling))for(;a.insertBefore(f.cloneNode(!0),c),!(f===g||!(f=f.nextSibling)););else{Oo.innerHTML=o1(h==="svg"?`<svg>${s}</svg>`:h==="mathml"?`<math>${s}</math>`:s);const I=Oo.content;if(h==="svg"||h==="mathml"){const S=I.firstChild;for(;S.firstChild;)I.appendChild(S.firstChild);I.removeChild(S)}a.insertBefore(I,c)}return[E?E.nextSibling:a.firstChild,c?c.previousSibling:a.lastChild]}},Vc=Symbol("_vtc");function Hc(s,a,c){const h=s[Vc];h&&(a=(a?[a,...h]:[...h]).join(" ")),a==null?s.removeAttribute("class"):c?s.setAttribute("class",a):s.className=a}const Do=Symbol("_vod"),Wc=Symbol("_vsh"),a1=Symbol("");function Gc(s){const a=Oc();if(!a)return;const c=a.ut=(f=s(a.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${a.uid}"]`)).forEach(g=>_i(g,f))},h=()=>{const f=s(a.proxy);a.ce?_i(a.ce,f):bs(a.subTree,f),c(f)};La(()=>{Oa(h)}),Xs(()=>{gi(h,rr,{flush:"post"});const f=new MutationObserver(h);f.observe(a.subTree.el.parentNode,{childList:!0}),Pi(()=>f.disconnect())})}function bs(s,a){if(s.shapeFlag&128){const c=s.suspense;s=c.activeBranch,c.pendingBranch&&!c.isHydrating&&c.effects.push(()=>{bs(c.activeBranch,a)})}for(;s.component;)s=s.component.subTree;if(s.shapeFlag&1&&s.el)_i(s.el,a);else if(s.type===wr)s.children.forEach(c=>bs(c,a));else if(s.type===pi){let{el:c,anchor:h}=s;for(;c&&(_i(c,a),c!==h);)c=c.nextSibling}}function _i(s,a){if(s.nodeType===1){const c=s.style;let h="";for(const f in a)c.setProperty(`--${f}`,a[f]),h+=`--${f}: ${a[f]};`;c[a1]=h}}const Xc=/(^|;)\s*display\s*:/;function zc(s,a,c){const h=s.style,f=gt(c);let g=!1;if(c&&!f){if(a)if(gt(a))for(const E of a.split(";")){const I=E.slice(0,E.indexOf(":")).trim();c[I]==null&&mi(h,I,"")}else for(const E in a)c[E]==null&&mi(h,E,"");for(const E in c)E==="display"&&(g=!0),mi(h,E,c[E])}else if(f){if(a!==c){const E=h[a1];E&&(c+=";"+E),h.cssText=c,g=Xc.test(c)}}else a&&s.removeAttribute("style");Do in s&&(s[Do]=g?h.display:"",s[Wc]&&(h.display="none"))}const vo=/\s*!important$/;function mi(s,a,c){if(Ae(c))c.forEach(h=>mi(s,a,h));else if(c==null&&(c=""),a.startsWith("--"))s.setProperty(a,c);else{const h=Yc(s,a);vo.test(c)?s.setProperty(Xr(h),c.replace(vo,""),"important"):s[h]=c}}const Mo=["Webkit","Moz","ms"],us={};function Yc(s,a){const c=us[a];if(c)return c;let h=Hr(a);if(h!=="filter"&&h in s)return us[a]=h;h=oa(h);for(let f=0;f<Mo.length;f++){const g=Mo[f]+h;if(g in s)return us[a]=g}return a}const Bo="http://www.w3.org/1999/xlink";function Po(s,a,c,h,f,g=q1(a)){h&&a.startsWith("xlink:")?c==null?s.removeAttributeNS(Bo,a.slice(6,a.length)):s.setAttributeNS(Bo,a,c):c==null||g&&!aa(c)?s.removeAttribute(a):s.setAttribute(a,g?"":Gr(c)?String(c):c)}function Fo(s,a,c,h,f){if(a==="innerHTML"||a==="textContent"){c!=null&&(s[a]=a==="innerHTML"?o1(c):c);return}const g=s.tagName;if(a==="value"&&g!=="PROGRESS"&&!g.includes("-")){const I=g==="OPTION"?s.getAttribute("value")||"":s.value,S=c==null?s.type==="checkbox"?"on":"":String(c);(I!==S||!("_value"in s))&&(s.value=S),c==null&&s.removeAttribute(a),s._value=c;return}let E=!1;if(c===""||c==null){const I=typeof s[a];I==="boolean"?c=aa(c):c==null&&I==="string"?(c="",E=!0):I==="number"&&(c=0,E=!0)}try{s[a]=c}catch{}E&&s.removeAttribute(f||a)}function wn(s,a,c,h){s.addEventListener(a,c,h)}function Zc(s,a,c,h){s.removeEventListener(a,c,h)}const Lo=Symbol("_vei");function Kc(s,a,c,h,f=null){const g=s[Lo]||(s[Lo]={}),E=g[a];if(h&&E)E.value=h;else{const[I,S]=jc(a);if(h){const C=g[a]=qc(h,f);wn(s,I,C,S)}else E&&(Zc(s,I,E,S),g[a]=void 0)}}const xo=/(?:Once|Passive|Capture)$/;function jc(s){let a;if(xo.test(s)){a={};let c;for(;c=s.match(xo);)s=s.slice(0,s.length-c[0].length),a[c[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):Xr(s.slice(2)),a]}let hs=0;const Qc=Promise.resolve(),$c=()=>hs||(Qc.then(()=>hs=0),hs=Date.now());function qc(s,a){const c=h=>{if(!h._vts)h._vts=Date.now();else if(h._vts<=c.attached)return;Er(Jc(h,c.value),a,5,[h])};return c.value=s,c.attached=$c(),c}function Jc(s,a){if(Ae(a)){const c=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{c.call(s),s._stopped=!0},a.map(h=>f=>!f._stopped&&h&&h(f))}else return a}const ko=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,eu=(s,a,c,h,f,g)=>{const E=f==="svg";a==="class"?Hc(s,h,E):a==="style"?zc(s,c,h):Ri(a)?Os(a)||Kc(s,a,c,h,g):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):tu(s,a,h,E))?(Fo(s,a,h),!s.tagName.includes("-")&&(a==="value"||a==="checked"||a==="selected")&&Po(s,a,h,E,g,a!=="value")):s._isVueCE&&(/[A-Z]/.test(a)||!gt(h))?Fo(s,Hr(a),h,g,a):(a==="true-value"?s._trueValue=h:a==="false-value"&&(s._falseValue=h),Po(s,a,h,E))};function tu(s,a,c,h){if(h)return!!(a==="innerHTML"||a==="textContent"||a in s&&ko(a)&&Se(c));if(a==="spellcheck"||a==="draggable"||a==="translate"||a==="autocorrect"||a==="form"||a==="list"&&s.tagName==="INPUT"||a==="type"&&s.tagName==="TEXTAREA")return!1;if(a==="width"||a==="height"){const f=s.tagName;if(f==="IMG"||f==="VIDEO"||f==="CANVAS"||f==="SOURCE")return!1}return ko(a)&&gt(c)?!1:a in s}const Uo=s=>{const a=s.props["onUpdate:modelValue"]||!1;return Ae(a)?c=>di(a,c):a};function ru(s){s.target.composing=!0}function Vo(s){const a=s.target;a.composing&&(a.composing=!1,a.dispatchEvent(new Event("input")))}const ds=Symbol("_assign"),nu={created(s,{modifiers:{lazy:a,trim:c,number:h}},f){s[ds]=Uo(f);const g=h||f.props&&f.props.type==="number";wn(s,a?"change":"input",E=>{if(E.target.composing)return;let I=s.value;c&&(I=I.trim()),g&&(I=gs(I)),s[ds](I)}),c&&wn(s,"change",()=>{s.value=s.value.trim()}),a||(wn(s,"compositionstart",ru),wn(s,"compositionend",Vo),wn(s,"change",Vo))},mounted(s,{value:a}){s.value=a??""},beforeUpdate(s,{value:a,oldValue:c,modifiers:{lazy:h,trim:f,number:g}},E){if(s[ds]=Uo(E),s.composing)return;const I=(g||s.type==="number")&&!/^0\d/.test(s.value)?gs(s.value):s.value,S=a??"";I!==S&&(document.activeElement===s&&s.type!=="range"&&(h&&a===c||f&&s.value.trim()===S)||(s.value=S))}},iu=["ctrl","shift","alt","meta"],su={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,a)=>iu.some(c=>s[`${c}Key`]&&!a.includes(c))},Ho=(s,a)=>{const c=s._withMods||(s._withMods={}),h=a.join(".");return c[h]||(c[h]=(f,...g)=>{for(let E=0;E<a.length;E++){const I=su[a[E]];if(I&&I(f,a))return}return s(f,...g)})},ou={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},au=(s,a)=>{const c=s._withKeys||(s._withKeys={}),h=a.join(".");return c[h]||(c[h]=f=>{if(!("key"in f))return;const g=Xr(f.key);if(a.some(E=>E===g||ou[E]===g))return s(f)})},lu=Ft({patchProp:eu},Uc);let Wo;function cu(){return Wo||(Wo=ac(lu))}const uu=(...s)=>{const a=cu().createApp(...s),{mount:c}=a;return a.mount=h=>{const f=du(h);if(!f)return;const g=a._component;!Se(g)&&!g.render&&!g.template&&(g.template=f.innerHTML),f.nodeType===1&&(f.textContent="");const E=c(f,!1,hu(f));return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),E},a};function hu(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function du(s){return gt(s)?document.querySelector(s):s}var oe;(function(s){s[s.QR_CODE=0]="QR_CODE",s[s.AZTEC=1]="AZTEC",s[s.CODABAR=2]="CODABAR",s[s.CODE_39=3]="CODE_39",s[s.CODE_93=4]="CODE_93",s[s.CODE_128=5]="CODE_128",s[s.DATA_MATRIX=6]="DATA_MATRIX",s[s.MAXICODE=7]="MAXICODE",s[s.ITF=8]="ITF",s[s.EAN_13=9]="EAN_13",s[s.EAN_8=10]="EAN_8",s[s.PDF_417=11]="PDF_417",s[s.RSS_14=12]="RSS_14",s[s.RSS_EXPANDED=13]="RSS_EXPANDED",s[s.UPC_A=14]="UPC_A",s[s.UPC_E=15]="UPC_E",s[s.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(oe||(oe={}));var Go=new Map([[oe.QR_CODE,"QR_CODE"],[oe.AZTEC,"AZTEC"],[oe.CODABAR,"CODABAR"],[oe.CODE_39,"CODE_39"],[oe.CODE_93,"CODE_93"],[oe.CODE_128,"CODE_128"],[oe.DATA_MATRIX,"DATA_MATRIX"],[oe.MAXICODE,"MAXICODE"],[oe.ITF,"ITF"],[oe.EAN_13,"EAN_13"],[oe.EAN_8,"EAN_8"],[oe.PDF_417,"PDF_417"],[oe.RSS_14,"RSS_14"],[oe.RSS_EXPANDED,"RSS_EXPANDED"],[oe.UPC_A,"UPC_A"],[oe.UPC_E,"UPC_E"],[oe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Xo;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.URL=1]="URL"})(Xo||(Xo={}));function fu(s){return Object.values(oe).includes(s)}var Ti;(function(s){s[s.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",s[s.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ti||(Ti={}));var gu=function(){function s(){}return s.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",s.SCAN_DEFAULT_FPS=2,s.DEFAULT_DISABLE_FLIP=!1,s.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,s.DEFAULT_SUPPORTED_SCAN_TYPE=[Ti.SCAN_TYPE_CAMERA,Ti.SCAN_TYPE_FILE],s}(),l1=function(){function s(a,c){this.format=a,this.formatName=c}return s.prototype.toString=function(){return this.formatName},s.create=function(a){if(!Go.has(a))throw"".concat(a," not in html5QrcodeSupportedFormatsTextMap");return new s(a,Go.get(a))},s}(),zo=function(){function s(){}return s.createFromText=function(a){var c={text:a};return{decodedText:a,result:c}},s.createFromQrcodeResult=function(a){return{decodedText:a.text,result:a}},s}(),Ns;(function(s){s[s.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",s[s.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",s[s.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ns||(Ns={}));var pu=function(){function s(){}return s.createFrom=function(a){return{errorMessage:a,type:Ns.UNKWOWN_ERROR}},s}(),wu=function(){function s(a){this.verbose=a}return s.prototype.log=function(a){this.verbose&&console.log(a)},s.prototype.warn=function(a){this.verbose&&console.warn(a)},s.prototype.logError=function(a,c){(this.verbose||c===!0)&&console.error(a)},s.prototype.logErrors=function(a){if(a.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(a)},s}();function Ir(s){return typeof s>"u"||s===null}var En=function(){function s(){}return s.codeParseError=function(a){return"QR code parse error, error = ".concat(a)},s.errorGettingUserMedia=function(a){return"Error getting userMedia, error = ".concat(a)},s.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},s.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},s.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},s.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},s.scannerPaused=function(){return"Scanner paused"},s}(),c1=function(){function s(){}return s.isMediaStreamConstraintsValid=function(a,c){if(typeof a!="object"){var h=typeof a;return c.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(h,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],g=new Set(f),E=Object.keys(a),I=0,S=E;I<S.length;I++){var C=S[I];if(g.has(C))return c.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},s}(),hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mu(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ei={exports:{}},Eu=Ei.exports,Yo;function Cu(){return Yo||(Yo=1,function(s,a){(function(c,h){h(a)})(Eu,function(c){function h(w){return w==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,e){w.__proto__=e}||function(w,e){for(var t in e)e.hasOwnProperty(t)&&(w[t]=e[t])};function g(w,e){f(w,e);function t(){this.constructor=w}w.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function E(w,e){var t=Object.setPrototypeOf;t?t(w,e):w.__proto__=e}function I(w,e){e===void 0&&(e=w.constructor);var t=Error.captureStackTrace;t&&t(w,e)}var S=function(w){g(e,w);function e(t){var r=this.constructor,n=w.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),E(n,r.prototype),I(n),n}return e}(Error);class C extends S{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}C.kind="Exception";class N extends C{}N.kind="ArgumentException";class R extends C{}R.kind="IllegalArgumentException";class z{constructor(e){if(this.binarizer=e,e===null)throw new R("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const i=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new z(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new z(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new z(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class Z extends C{static getChecksumInstance(){return new Z}}Z.kind="ChecksumException";class de{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class re{static arraycopy(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class Fe extends C{}Fe.kind="IndexOutOfBoundsException";class _e extends Fe{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}_e.kind="ArrayIndexOutOfBoundsException";class we{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){we.rangeCheck(e.length,t,r);for(let i=t;i<r;i++)e[i]=n}static rangeCheck(e,t,r){if(t>r)throw new R("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new _e(t);if(r>e)throw new _e(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(n=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(n=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,i=new Int32Array(n);return re.arraycopy(e,t,i,0,n),i}static binarySearch(e,t,r){r===void 0&&(r=we.numberComparator);let n=0,i=e.length-1;for(;n<=i;){const o=i+n>>1,l=r(t,e[o]);if(l>0)n=o+1;else if(l<0)i=o-1;else return o}return-n-1}static numberComparator(e,t){return e-t}}class ne{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}ne.MIN_VALUE_32_BITS=-2147483648,ne.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=ee.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=ee.makeArray(e);re.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=r[n];i&=~((1<<(e&31))-1);const o=r.length;for(;i===0;){if(++n===o)return t;i=r[n]}const l=n*32+ne.numberOfTrailingZeros(i);return l>t?t:l}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=~r[n];i&=~((1<<(e&31))-1);const o=r.length;for(;i===0;){if(++n===o)return t;i=~r[n]}const l=n*32+ne.numberOfTrailingZeros(i);return l>t?t:l}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new R;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits;for(let o=r;o<=n;o++){const l=o>r?0:e&31,u=(2<<(o<n?31:t&31))-(1<<l);i[o]|=u}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new R;if(t===e)return!0;t--;const n=Math.floor(e/32),i=Math.floor(t/32),o=this.bits;for(let l=n;l<=i;l++){const u=l>n?0:e&31,d=(2<<(l<i?31:t&31))-(1<<u)&4294967295;if((o[l]&d)!==(r?d:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new R("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new R("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let i=0;i<n;i++){let o=0;for(let l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;t[r+i]=o}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let i=0;i<r;i++){let o=n[i];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-i]=o}if(this.size!==r*32){const i=r*32-this.size;let o=e[0]>>>i;for(let l=1;l<r;l++){const u=e[l];o|=u<<32-i,e[l-1]=o,o=u>>>i}e[r-1]=o}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof ee))return!1;const t=e;return this.size===t.size&&we.equals(this.bits,t.bits)}hashCode(){return 31*this.size+we.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new ee(this.size,this.bits.slice())}}var Me;(function(w){w[w.OTHER=0]="OTHER",w[w.PURE_BARCODE=1]="PURE_BARCODE",w[w.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",w[w.TRY_HARDER=3]="TRY_HARDER",w[w.CHARACTER_SET=4]="CHARACTER_SET",w[w.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",w[w.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",w[w.ASSUME_GS1=7]="ASSUME_GS1",w[w.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",w[w.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",w[w.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Me||(Me={}));var Ne=Me;class Q extends C{static getFormatInstance(){return new Q}}Q.kind="FormatException";var Te;(function(w){w[w.Cp437=0]="Cp437",w[w.ISO8859_1=1]="ISO8859_1",w[w.ISO8859_2=2]="ISO8859_2",w[w.ISO8859_3=3]="ISO8859_3",w[w.ISO8859_4=4]="ISO8859_4",w[w.ISO8859_5=5]="ISO8859_5",w[w.ISO8859_6=6]="ISO8859_6",w[w.ISO8859_7=7]="ISO8859_7",w[w.ISO8859_8=8]="ISO8859_8",w[w.ISO8859_9=9]="ISO8859_9",w[w.ISO8859_10=10]="ISO8859_10",w[w.ISO8859_11=11]="ISO8859_11",w[w.ISO8859_13=12]="ISO8859_13",w[w.ISO8859_14=13]="ISO8859_14",w[w.ISO8859_15=14]="ISO8859_15",w[w.ISO8859_16=15]="ISO8859_16",w[w.SJIS=16]="SJIS",w[w.Cp1250=17]="Cp1250",w[w.Cp1251=18]="Cp1251",w[w.Cp1252=19]="Cp1252",w[w.Cp1256=20]="Cp1256",w[w.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",w[w.UTF8=22]="UTF8",w[w.ASCII=23]="ASCII",w[w.Big5=24]="Big5",w[w.GB18030=25]="GB18030",w[w.EUC_KR=26]="EUC_KR"})(Te||(Te={}));class K{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=n,K.VALUE_IDENTIFIER_TO_ECI.set(e,this),K.NAME_TO_ECI.set(r,this);const i=this.values;for(let o=0,l=i.length;o!==l;o++){const u=i[o];K.VALUES_TO_ECI.set(u,this)}for(const o of n)K.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new Q("incorect value");const t=K.VALUES_TO_ECI.get(e);if(t===void 0)throw new Q("incorect value");return t}static getCharacterSetECIByName(e){const t=K.NAME_TO_ECI.get(e);if(t===void 0)throw new Q("incorect value");return t}equals(e){if(!(e instanceof K))return!1;const t=e;return this.getName()===t.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(Te.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(Te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(Te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(Te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(Te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(Te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(Te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(Te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(Te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(Te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(Te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(Te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(Te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(Te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(Te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(Te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(Te.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(Te.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(Te.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(Te.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(Te.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(Te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(Te.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(Te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(Te.Big5,28,"Big5"),K.GB18030=new K(Te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(Te.EUC_KR,30,"EUC_KR","EUC-KR");class Et extends C{}Et.kind="UnsupportedOperationException";class nt{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!nt.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof K?e:K.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(nt.isDecodeFallbackSupported(r)){let n="";for(let i=0,o=e.length;i<o;i++){let l=e[i].toString(16);l.length<2&&(l="0"+l),n+="%"+l}return decodeURIComponent(n)}if(r.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Et(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(K.UTF8)||e.equals(K.ISO8859_1)||e.equals(K.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let n=0;n<t.length;n++)r.push(t[n].charCodeAt(0));return new Uint8Array(r)}}class fe{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return nt.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(t!=null&&t.get(Ne.CHARACTER_SET)!==void 0)return t.get(Ne.CHARACTER_SET).toString();const r=e.length;let n=!0,i=!0,o=!0,l=0,u=0,d=0,p=0,m=0,A=0,_=0,b=0,D=0,B=0,L=0;const J=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let q=0;q<r&&(n||i||o);q++){const X=e[q]&255;o&&(l>0?(X&128)===0?o=!1:l--:(X&128)!==0&&((X&64)===0?o=!1:(l++,(X&32)===0?u++:(l++,(X&16)===0?d++:(l++,(X&8)===0?p++:o=!1))))),n&&(X>127&&X<160?n=!1:X>159&&(X<192||X===215||X===247)&&L++),i&&(m>0?X<64||X===127||X>252?i=!1:m--:X===128||X===160||X>239?i=!1:X>160&&X<224?(A++,b=0,_++,_>D&&(D=_)):X>127?(m++,_=0,b++,b>B&&(B=b)):(_=0,b=0))}return o&&l>0&&(o=!1),i&&m>0&&(i=!1),o&&(J||u+d+p>0)?fe.UTF8:i&&(fe.ASSUME_SHIFT_JIS||D>=3||B>=3)?fe.SHIFT_JIS:n&&i?D===2&&A===2||L*10>=r?fe.SHIFT_JIS:fe.ISO88591:n?fe.ISO88591:i?fe.SHIFT_JIS:o?fe.UTF8:fe.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function n(o,l,u,d,p,m){if(o==="%%")return"%";if(t[++r]===void 0)return;o=d?parseInt(d.substr(1)):void 0;let A=p?parseInt(p.substr(1)):void 0,_;switch(m){case"s":_=t[r];break;case"c":_=t[r][0];break;case"f":_=parseFloat(t[r]).toFixed(o);break;case"p":_=parseFloat(t[r]).toPrecision(o);break;case"e":_=parseFloat(t[r]).toExponential(o);break;case"x":_=parseInt(t[r]).toString(A||16);break;case"d":_=parseFloat(parseInt(t[r],A||10).toPrecision(o)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(A);let b=parseInt(u),D=u&&u[0]+""=="0"?"0":" ";for(;_.length<b;)_=l!==void 0?_+D:D+_;return _}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}static getBytes(e,t){return nt.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}fe.SHIFT_JIS=K.SJIS.getName(),fe.GB2312="GB2312",fe.ISO88591=K.ISO8859_1.getName(),fe.EUC_JP="EUC_JP",fe.UTF8=K.UTF8.getName(),fe.PLATFORM_DEFAULT_ENCODING=fe.UTF8,fe.ASSUME_SHIFT_JIS=!1;class ae{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=fe.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class ge{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,t==null&&(t=e),this.height=t,e<1||t<1)throw new R("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,n==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new ge(r,t);for(let i=0;i<t;i++){const o=e[i];for(let l=0;l<r;l++)o[l]&&n.set(l,i)}return n}static parseFromString(e,t,r){if(e===null)throw new R("stringRepresentation cannot be null");const n=new Array(e.length);let i=0,o=0,l=-1,u=0,d=0;for(;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new R("row lengths do not match");o=i,u++}d++}else if(e.substring(d,d+t.length)===t)d+=t.length,n[i]=!0,i++;else if(e.substring(d,d+r.length)===r)d+=r.length,n[i]=!1,i++;else throw new R("illegal character encountered: "+e.substring(d));if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new R("row lengths do not match");u++}const p=new ge(l,u);for(let m=0;m<i;m++)n[m]&&p.set(Math.floor(m%l),Math.floor(m/l));return p}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new R("input matrix dimensions do not match");const t=new ee(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,o=this.height;i<o;i++){const l=i*r,u=e.getRow(i,t).getBitArray();for(let d=0;d<r;d++)n[l+d]^=u[d]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new R("Left and top must be nonnegative");if(n<1||r<1)throw new R("Height and width must be at least 1");const i=e+r,o=t+n;if(o>this.height||i>this.width)throw new R("The region must fit inside the matrix");const l=this.rowSize,u=this.bits;for(let d=t;d<o;d++){const p=d*l;for(let m=e;m<i;m++)u[p+Math.floor(m/32)]|=1<<(m&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new ee(this.width):t.clear();const r=this.rowSize,n=this.bits,i=e*r;for(let o=0;o<r;o++)t.setBulk(o*32,n[i+o]);return t}setRow(e,t){re.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new ee(e),n=new ee(e);for(let i=0,o=Math.floor((t+1)/2);i<o;i++)r=this.getRow(i,r),n=this.getRow(t-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(t-1-i,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let i=e,o=t,l=-1,u=-1;for(let d=0;d<t;d++)for(let p=0;p<r;p++){const m=n[d*r+p];if(m!==0){if(d<o&&(o=d),d>u&&(u=d),p*32<i){let A=0;for(;(m<<31-A&4294967295)===0;)A++;p*32+A<i&&(i=p*32+A)}if(p*32+31>l){let A=31;for(;!(m>>>A);)A--;p*32+A>l&&(l=p*32+A)}}}return l<i||u<o?null:Int32Array.from([i,o,l-i+1,u-o+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;const n=r/e;let i=r%e*32;const o=t[r];let l=0;for(;(o<<31-l&4294967295)===0;)l++;return i+=l,Int32Array.from([i,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&t[r]===0;)r--;if(r<0)return null;const n=Math.floor(r/e);let i=Math.floor(r%e)*32;const o=t[r];let l=31;for(;!(o>>>l);)l--;return i+=l,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ge))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&we.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+we.hashCode(this.bits),e}toString(e="X ",t="  ",r=`
`){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new ae;for(let i=0,o=this.height;i<o;i++){for(let l=0,u=this.width;l<u;l++)n.append(this.get(l,i)?e:t);n.append(r)}return n.toString()}clone(){return new ge(this.width,this.height,this.rowSize,this.bits.slice())}}class M extends C{static getNotFoundInstance(){return new M}}M.kind="NotFoundException";class Ce extends de{constructor(e){super(e),this.luminances=Ce.EMPTY,this.buckets=new Int32Array(Ce.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();t==null||t.getSize()<n?t=new ee(n):t.clear(),this.initArrays(n);const i=r.getRow(e,this.luminances),o=this.buckets;for(let u=0;u<n;u++)o[(i[u]&255)>>Ce.LUMINANCE_SHIFT]++;const l=Ce.estimateBlackPoint(o);if(n<3)for(let u=0;u<n;u++)(i[u]&255)<l&&t.set(u);else{let u=i[0]&255,d=i[1]&255;for(let p=1;p<n-1;p++){const m=i[p+1]&255;(d*4-u-m)/2<l&&t.set(p),u=d,d=m}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new ge(t,r);this.initArrays(t);const i=this.buckets;for(let u=1;u<5;u++){const d=Math.floor(r*u/5),p=e.getRow(d,this.luminances),m=Math.floor(t*4/5);for(let A=Math.floor(t/5);A<m;A++){const _=p[A]&255;i[_>>Ce.LUMINANCE_SHIFT]++}}const o=Ce.estimateBlackPoint(i),l=e.getMatrix();for(let u=0;u<r;u++){const d=u*t;for(let p=0;p<t;p++)(l[d+p]&255)<o&&n.set(p,u)}return n}createBinarizer(e){return new Ce(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<Ce.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,i=0;for(let p=0;p<t;p++)e[p]>i&&(n=p,i=e[p]),e[p]>r&&(r=e[p]);let o=0,l=0;for(let p=0;p<t;p++){const m=p-n,A=e[p]*m*m;A>l&&(o=p,l=A)}if(n>o){const p=n;n=o,o=p}if(o-n<=t/16)throw new M;let u=o-1,d=-1;for(let p=o-1;p>n;p--){const m=p-n,A=m*m*(o-p)*(r-e[p]);A>d&&(u=p,d=A)}return u<<Ce.LUMINANCE_SHIFT}}Ce.LUMINANCE_BITS=5,Ce.LUMINANCE_SHIFT=8-Ce.LUMINANCE_BITS,Ce.LUMINANCE_BUCKETS=1<<Ce.LUMINANCE_BITS,Ce.EMPTY=Uint8ClampedArray.from([0]);class ie extends Ce{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=ie.MINIMUM_DIMENSION&&r>=ie.MINIMUM_DIMENSION){const n=e.getMatrix();let i=t>>ie.BLOCK_SIZE_POWER;(t&ie.BLOCK_SIZE_MASK)!==0&&i++;let o=r>>ie.BLOCK_SIZE_POWER;(r&ie.BLOCK_SIZE_MASK)!==0&&o++;const l=ie.calculateBlackPoints(n,i,o,t,r),u=new ge(t,r);ie.calculateThresholdForBlock(n,i,o,t,r,l,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ie(e)}static calculateThresholdForBlock(e,t,r,n,i,o,l){const u=i-ie.BLOCK_SIZE,d=n-ie.BLOCK_SIZE;for(let p=0;p<r;p++){let m=p<<ie.BLOCK_SIZE_POWER;m>u&&(m=u);const A=ie.cap(p,2,r-3);for(let _=0;_<t;_++){let b=_<<ie.BLOCK_SIZE_POWER;b>d&&(b=d);const D=ie.cap(_,2,t-3);let B=0;for(let J=-2;J<=2;J++){const q=o[A+J];B+=q[D-2]+q[D-1]+q[D]+q[D+1]+q[D+2]}const L=B/25;ie.thresholdBlock(e,b,m,L,n,l)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,i,o){for(let l=0,u=r*i+t;l<ie.BLOCK_SIZE;l++,u+=i)for(let d=0;d<ie.BLOCK_SIZE;d++)(e[u+d]&255)<=n&&o.set(t+d,r+l)}static calculateBlackPoints(e,t,r,n,i){const o=i-ie.BLOCK_SIZE,l=n-ie.BLOCK_SIZE,u=new Array(r);for(let d=0;d<r;d++){u[d]=new Int32Array(t);let p=d<<ie.BLOCK_SIZE_POWER;p>o&&(p=o);for(let m=0;m<t;m++){let A=m<<ie.BLOCK_SIZE_POWER;A>l&&(A=l);let _=0,b=255,D=0;for(let L=0,J=p*n+A;L<ie.BLOCK_SIZE;L++,J+=n){for(let q=0;q<ie.BLOCK_SIZE;q++){const X=e[J+q]&255;_+=X,X<b&&(b=X),X>D&&(D=X)}if(D-b>ie.MIN_DYNAMIC_RANGE)for(L++,J+=n;L<ie.BLOCK_SIZE;L++,J+=n)for(let q=0;q<ie.BLOCK_SIZE;q++)_+=e[J+q]&255}let B=_>>ie.BLOCK_SIZE_POWER*2;if(D-b<=ie.MIN_DYNAMIC_RANGE&&(B=b/2,d>0&&m>0)){const L=(u[d-1][m]+2*u[d][m-1]+u[d-1][m-1])/4;b<L&&(B=L)}u[d][m]=B}}return u}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class ut{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new Et("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Et("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Et("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new ae;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let i=0;i<this.width;i++){const o=n[i]&255;let l;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",t.append(l)}t.append(`
`)}return t.toString()}}class yt extends ut{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let i=0;i<n;i++)r[i]=255-(r[i]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(e[n]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new yt(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new yt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new yt(this.delegate.rotateCounterClockwise45())}}class Lt extends ut{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Lt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Lt.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let i=0,o=0,l=e.length;i<l;i+=4,o++){let u;if(e[i+3]===0)u=255;else{const d=e[i],p=e[i+1],m=e[i+2];u=306*d+601*p+117*m+512>>10}n[o]=u}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new R("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return t===null?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*Lt.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*o),u=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*o);return t.width=l,t.height=u,r.translate(l/2,u/2),r.rotate(n),r.drawImage(this.canvas,i/-2,o/-2),this.buffer=Lt.makeBufferFromCanvasImageData(t),this}invert(){return new yt(this)}}Lt.DEGREE_TO_RADIANS=Math.PI/180;class Cr{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var qe=(globalThis||hi||self||window||void 0)&&(globalThis||hi||self||window||void 0).__awaiter||function(w,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(p){try{d(r.next(p))}catch(m){o(m)}}function u(p){try{d(r.throw(p))}catch(m){o(m)}}function d(p){p.done?i(p.value):n(p.value).then(l,u)}d((r=r.apply(w,e||[])).next())})};class or{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return qe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const n=r.kind==="video"?"videoinput":r.kind;if(n!=="videoinput")continue;const i=r.deviceId||r.id,o=r.label||`Video device ${t.length+1}`,l=r.groupId,u={deviceId:i,label:o,kind:n,groupId:l};t.push(u)}return t})}getVideoInputDevices(){return qe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(e=>new Cr(e.deviceId,e.label))})}findDeviceById(e){return qe(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return qe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return qe(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)})}decodeOnceFromConstraints(e,t){return qe(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return qe(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return qe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return qe(this,void 0,void 0,function*(){let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const i={video:n};return yield this.decodeFromConstraints(i,t,r)})}decodeFromConstraints(e,t,r){return qe(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)})}decodeFromStream(e,t,r){return qe(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return qe(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return qe(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new N(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new N(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new N("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new N("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(e===void 0&&t===void 0)throw new N("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new N("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new N("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new N("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new N("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new N("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return qe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return qe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,o)=>{if(this._stopAsyncDecode){o(new M("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const l=this.decode(e);i(l)}catch(l){const u=t&&l instanceof M,d=(l instanceof Z||l instanceof Q)&&r;if(u||d)return setTimeout(n,this._timeBetweenDecodingAttempts,i,o);o(l)}};return new Promise((i,o)=>n(i,o))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(n){t(null,n);const i=n instanceof Z||n instanceof Q,o=n instanceof M;(i||o)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new Lt(t),n=new ie(r);return new z(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Ct{constructor(e,t,r=t==null?0:8*t.length,n,i,o=re.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=o,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=n,this.format=i,this.resultMetadata=null,o==null?this.timestamp=re.currentTimeMillis():this.timestamp=o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(t.length+e.length);re.arraycopy(t,0,r,0,t.length),re.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var _n;(function(w){w[w.AZTEC=0]="AZTEC",w[w.CODABAR=1]="CODABAR",w[w.CODE_39=2]="CODE_39",w[w.CODE_93=3]="CODE_93",w[w.CODE_128=4]="CODE_128",w[w.DATA_MATRIX=5]="DATA_MATRIX",w[w.EAN_8=6]="EAN_8",w[w.EAN_13=7]="EAN_13",w[w.ITF=8]="ITF",w[w.MAXICODE=9]="MAXICODE",w[w.PDF_417=10]="PDF_417",w[w.QR_CODE=11]="QR_CODE",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_n||(_n={}));var le=_n,Or;(function(w){w[w.OTHER=0]="OTHER",w[w.ORIENTATION=1]="ORIENTATION",w[w.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",w[w.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",w[w.ISSUE_NUMBER=4]="ISSUE_NUMBER",w[w.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",w[w.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",w[w.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",w[w.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",w[w.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",w[w.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Or||(Or={}));var it=Or;class Dr{constructor(e,t,r,n,i=-1,o=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ar{exp(e){return this.expTable[e]}log(e){if(e===0)throw new R;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class T{constructor(e,t){if(t.length===0)throw new R;this.field=e;const r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),re.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let r;if(e===1){r=0;for(let o=0,l=t.length;o!==l;o++){const u=t[o];r=ar.addOrSubtract(r,u)}return r}r=t[0];const n=t.length,i=this.field;for(let o=1;o<n;o++)r=ar.addOrSubtract(i.multiply(e,r),t[o]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const o=t;t=r,r=o}let n=new Int32Array(r.length);const i=r.length-t.length;re.arraycopy(r,0,n,0,i);for(let o=i;o<r.length;o++)n[o]=ar.addOrSubtract(t[o-i],r[o]);return new T(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,o=new Int32Array(r+i-1),l=this.field;for(let u=0;u<r;u++){const d=t[u];for(let p=0;p<i;p++)o[u+p]=ar.addOrSubtract(o[u+p],l.multiply(d,n[p]))}return new T(l,o)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),i=this.coefficients;for(let o=0;o<t;o++)n[o]=r.multiply(i[o],e);return new T(r,n)}multiplyByMonomial(e,t){if(e<0)throw new R;if(t===0)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+e),o=this.field;for(let l=0;l<n;l++)i[l]=o.multiply(r[l],t);return new T(o,i)}divide(e){if(!this.field.equals(e.field))throw new R("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new R("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const i=e.getCoefficient(e.getDegree()),o=t.inverse(i);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const l=n.getDegree()-e.getDegree(),u=t.multiply(n.getCoefficient(n.getDegree()),o),d=e.multiplyByMonomial(l,u),p=t.buildMonomial(l,u);r=r.addOrSubtract(p),n=n.addOrSubtract(d)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){const n=this.field.log(r);n===0?e+="1":n===1?e+="a":(e+="a^",e+=n)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class O extends C{}O.kind="ArithmeticException";class P extends ar{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let i=1;for(let l=0;l<t;l++)n[l]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=n;const o=new Int32Array(t);for(let l=0;l<t-1;l++)o[n[l]]=l;this.logTable=o,this.zero=new T(this,Int32Array.from([0])),this.one=new T(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new R;if(t===0)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new T(this,r)}inverse(e){if(e===0)throw new O;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ne.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}P.AZTEC_DATA_12=new P(4201,4096,1),P.AZTEC_DATA_10=new P(1033,1024,1),P.AZTEC_DATA_6=new P(67,64,1),P.AZTEC_PARAM=new P(19,16,1),P.QR_CODE_FIELD_256=new P(285,256,0),P.DATA_MATRIX_FIELD_256=new P(301,256,1),P.AZTEC_DATA_8=P.DATA_MATRIX_FIELD_256,P.MAXICODE_FIELD_64=P.AZTEC_DATA_6;class G extends C{}G.kind="ReedSolomonException";class U extends C{}U.kind="IllegalStateException";class W{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new T(r,e),i=new Int32Array(t);let o=!0;for(let _=0;_<t;_++){const b=n.evaluateAt(r.exp(_+r.getGeneratorBase()));i[i.length-1-_]=b,b!==0&&(o=!1)}if(o)return;const l=new T(r,i),u=this.runEuclideanAlgorithm(r.buildMonomial(t,1),l,t),d=u[0],p=u[1],m=this.findErrorLocations(d),A=this.findErrorMagnitudes(p,m);for(let _=0;_<m.length;_++){const b=e.length-1-r.log(m[_]);if(b<0)throw new G("Bad error location");e[b]=P.addOrSubtract(e[b],A[_])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const _=e;e=t,t=_}const n=this.field;let i=e,o=t,l=n.getZero(),u=n.getOne();for(;o.getDegree()>=(r/2|0);){let _=i,b=l;if(i=o,l=u,i.isZero())throw new G("r_{i-1} was zero");o=_;let D=n.getZero();const B=i.getCoefficient(i.getDegree()),L=n.inverse(B);for(;o.getDegree()>=i.getDegree()&&!o.isZero();){const J=o.getDegree()-i.getDegree(),q=n.multiply(o.getCoefficient(o.getDegree()),L);D=D.addOrSubtract(n.buildMonomial(J,q)),o=o.addOrSubtract(i.multiplyByMonomial(J,q))}if(u=D.multiply(l).addOrSubtract(b),o.getDegree()>=i.getDegree())throw new U("Division algorithm failed to reduce polynomial?")}const d=u.getCoefficient(0);if(d===0)throw new G("sigmaTilde(0) was zero");const p=n.inverse(d),m=u.multiplyScalar(p),A=o.multiplyScalar(p);return[m,A]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const i=this.field;for(let o=1;o<i.getSize()&&n<t;o++)e.evaluateAt(o)===0&&(r[n]=i.inverse(o),n++);if(n!==t)throw new G("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),i=this.field;for(let o=0;o<r;o++){const l=i.inverse(t[o]);let u=1;for(let d=0;d<r;d++)if(o!==d){const p=i.multiply(t[d],l),m=(p&1)===0?p|1:p&-2;u=i.multiply(u,m)}n[o]=i.multiply(e.evaluateAt(l),i.inverse(u)),i.getGeneratorBase()!==0&&(n[o]=i.multiply(n[o],l))}return n}}var $;(function(w){w[w.UPPER=0]="UPPER",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.DIGIT=3]="DIGIT",w[w.PUNCT=4]="PUNCT",w[w.BINARY=5]="BINARY"})($||($={}));class H{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),i=H.convertBoolArrayToByteArray(n),o=H.getEncodedData(n),l=new Dr(i,o,null,null);return l.setNumBits(n.length),l}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=$.UPPER,n=$.UPPER,i="",o=0;for(;o<t;)if(n===$.BINARY){if(t-o<5)break;let l=H.readCode(e,o,5);if(o+=5,l===0){if(t-o<11)break;l=H.readCode(e,o,11)+31,o+=11}for(let u=0;u<l;u++){if(t-o<8){o=t;break}const d=H.readCode(e,o,8);i+=fe.castAsNonUtf8Char(d),o+=8}n=r}else{let l=n===$.DIGIT?4:5;if(t-o<l)break;let u=H.readCode(e,o,l);o+=l;let d=H.getCharacter(n,u);d.startsWith("CTRL_")?(r=n,n=H.getTable(d.charAt(5)),d.charAt(6)==="L"&&(r=n)):(i+=d,n=r)}return i}static getTable(e){switch(e){case"L":return $.LOWER;case"P":return $.PUNCT;case"M":return $.MIXED;case"D":return $.DIGIT;case"B":return $.BINARY;case"U":default:return $.UPPER}}static getCharacter(e,t){switch(e){case $.UPPER:return H.UPPER_TABLE[t];case $.LOWER:return H.LOWER_TABLE[t];case $.MIXED:return H.MIXED_TABLE[t];case $.PUNCT:return H.PUNCT_TABLE[t];case $.DIGIT:return H.DIGIT_TABLE[t];default:throw new U("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=P.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=P.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=P.AZTEC_DATA_10):(r=12,t=P.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=e.length/r;if(i<n)throw new Q;let o=e.length%r,l=new Int32Array(i);for(let A=0;A<i;A++,o+=r)l[A]=H.readCode(e,o,r);try{new W(t).decode(l,i-n)}catch(A){throw new Q(A)}let u=(1<<r)-1,d=0;for(let A=0;A<n;A++){let _=l[A];if(_===0||_===u)throw new Q;(_===1||_===u-1)&&d++}let p=new Array(n*r-d),m=0;for(let A=0;A<n;A++){let _=l[A];if(_===1||_===u-1)p.fill(_>1,m,m+r-1),m+=r-1;else for(let b=r-1;b>=0;--b)p[m++]=(_&1<<b)!==0}return p}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+r*4,i=new Int32Array(n),o=new Array(this.totalBitsInLayer(r,t));if(t)for(let l=0;l<i.length;l++)i[l]=l;else{let l=n+1+2*ne.truncDivision(ne.truncDivision(n,2)-1,15),u=n/2,d=ne.truncDivision(l,2);for(let p=0;p<u;p++){let m=p+ne.truncDivision(p,15);i[u-p-1]=d-m-1,i[u+p]=d+m+1}}for(let l=0,u=0;l<r;l++){let d=(r-l)*4+(t?9:12),p=l*2,m=n-1-p;for(let A=0;A<d;A++){let _=A*2;for(let b=0;b<2;b++)o[u+_+b]=e.get(i[p+b],i[p+A]),o[u+2*d+_+b]=e.get(i[p+A],i[m-b]),o[u+4*d+_+b]=e.get(i[m-b],i[m-A]),o[u+6*d+_+b]=e.get(i[m-A],i[p+b])}u+=d*8}return o}static readCode(e,t,r){let n=0;for(let i=t;i<t+r;i++)n<<=1,e[i]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?H.readCode(e,t,8):H.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=H.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}H.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],H.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],H.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],H.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],H.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class k{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const i=e-r,o=t-n;return Math.sqrt(i*i+o*o)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++){const i=e[r];t+=i}return t}}class Y{static floatToIntBits(e){return e}}Y.MAX_VALUE=Number.MAX_SAFE_INTEGER;class x{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof x){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*Y.floatToIntBits(this.x)+Y.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let i,o,l;if(r>=t&&r>=n?(o=e[0],i=e[1],l=e[2]):n>=r&&n>=t?(o=e[1],i=e[0],l=e[2]):(o=e[2],i=e[0],l=e[1]),this.crossProductZ(i,o,l)<0){const u=i;i=l,l=u}e[0]=i,e[1]=o,e[2]=l}static distance(e,t){return k.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}}class te{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ce extends te{constructor(e,t,r,n,i){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class he{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=he.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),n==null&&(n=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=n-i,this.downInit=n+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new M}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,o=!0,l=!1,u=!1,d=!1,p=!1,m=!1;const A=this.width,_=this.height;for(;o;){o=!1;let b=!0;for(;(b||!u)&&t<A;)b=this.containsBlackPoint(r,n,t,!1),b?(t++,o=!0,u=!0):u||t++;if(t>=A){i=!0;break}let D=!0;for(;(D||!d)&&n<_;)D=this.containsBlackPoint(e,t,n,!0),D?(n++,o=!0,d=!0):d||n++;if(n>=_){i=!0;break}let B=!0;for(;(B||!p)&&e>=0;)B=this.containsBlackPoint(r,n,e,!1),B?(e--,o=!0,p=!0):p||e--;if(e<0){i=!0;break}let L=!0;for(;(L||!m)&&r>=0;)L=this.containsBlackPoint(e,t,r,!0),L?(r--,o=!0,m=!0):m||r--;if(r<0){i=!0;break}o&&(l=!0)}if(!i&&l){const b=t-e;let D=null;for(let q=1;D===null&&q<b;q++)D=this.getBlackPointOnSegment(e,n-q,e+q,n);if(D==null)throw new M;let B=null;for(let q=1;B===null&&q<b;q++)B=this.getBlackPointOnSegment(e,r+q,e+q,r);if(B==null)throw new M;let L=null;for(let q=1;L===null&&q<b;q++)L=this.getBlackPointOnSegment(t,r+q,t-q,r);if(L==null)throw new M;let J=null;for(let q=1;J===null&&q<b;q++)J=this.getBlackPointOnSegment(t,n-q,t-q,n);if(J==null)throw new M;return this.centerEdges(J,D,L,B)}else throw new M}getBlackPointOnSegment(e,t,r,n){const i=k.round(k.distance(e,t,r,n)),o=(r-e)/i,l=(n-t)/i,u=this.image;for(let d=0;d<i;d++){const p=k.round(e+d*o),m=k.round(t+d*l);if(u.get(p,m))return new x(p,m)}return null}centerEdges(e,t,r,n){const i=e.getX(),o=e.getY(),l=t.getX(),u=t.getY(),d=r.getX(),p=r.getY(),m=n.getX(),A=n.getY(),_=he.CORR;return i<this.width/2?[new x(m-_,A+_),new x(l+_,u+_),new x(d-_,p-_),new x(i+_,o-_)]:[new x(m+_,A+_),new x(l+_,u-_),new x(d-_,p+_),new x(i-_,o-_)]}containsBlackPoint(e,t,r,n){const i=this.image;if(n){for(let o=e;o<=t;o++)if(i.get(o,r))return!0}else for(let o=e;o<=t;o++)if(i.get(r,o))return!0;return!1}}he.INIT_SIZE=10,he.CORR=1;class Re{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let i=!0;for(let o=0;o<t.length&&i;o+=2){const l=Math.floor(t[o]),u=Math.floor(t[o+1]);if(l<-1||l>r||u<-1||u>n)throw new M;i=!1,l===-1?(t[o]=0,i=!0):l===r&&(t[o]=r-1,i=!0),u===-1?(t[o+1]=0,i=!0):u===n&&(t[o+1]=n-1,i=!0)}i=!0;for(let o=t.length-2;o>=0&&i;o-=2){const l=Math.floor(t[o]),u=Math.floor(t[o+1]);if(l<-1||l>r||u<-1||u>n)throw new M;i=!1,l===-1?(t[o]=0,i=!0):l===r&&(t[o]=r-1,i=!0),u===-1?(t[o+1]=0,i=!0):u===n&&(t[o+1]=n-1,i=!0)}}}class De{constructor(e,t,r,n,i,o,l,u,d){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=o,this.a13=l,this.a23=u,this.a33=d}static quadrilateralToQuadrilateral(e,t,r,n,i,o,l,u,d,p,m,A,_,b,D,B){const L=De.quadrilateralToSquare(e,t,r,n,i,o,l,u);return De.squareToQuadrilateral(d,p,m,A,_,b,D,B).times(L)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,i=this.a13,o=this.a21,l=this.a22,u=this.a23,d=this.a31,p=this.a32,m=this.a33;for(let A=0;A<t;A+=2){const _=e[A],b=e[A+1],D=i*_+u*b+m;e[A]=(r*_+o*b+d)/D,e[A+1]=(n*_+l*b+p)/D}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,i=this.a13,o=this.a21,l=this.a22,u=this.a23,d=this.a31,p=this.a32,m=this.a33,A=e.length;for(let _=0;_<A;_++){const b=e[_],D=t[_],B=i*b+u*D+m;e[_]=(r*b+o*D+d)/B,t[_]=(n*b+l*D+p)/B}}static squareToQuadrilateral(e,t,r,n,i,o,l,u){const d=e-r+i-l,p=t-n+o-u;if(d===0&&p===0)return new De(r-e,i-r,e,n-t,o-n,t,0,0,1);{const m=r-i,A=l-i,_=n-o,b=u-o,D=m*b-A*_,B=(d*b-A*p)/D,L=(m*p-d*_)/D;return new De(r-e+B*r,l-e+L*l,e,n-t+B*n,u-t+L*u,t,B,L,1)}}static quadrilateralToSquare(e,t,r,n,i,o,l,u){return De.squareToQuadrilateral(e,t,r,n,i,o,l,u).buildAdjoint()}buildAdjoint(){return new De(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new De(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Pe extends Re{sampleGrid(e,t,r,n,i,o,l,u,d,p,m,A,_,b,D,B,L,J,q){const X=De.quadrilateralToQuadrilateral(n,i,o,l,u,d,p,m,A,_,b,D,B,L,J,q);return this.sampleGridWithTransform(e,t,r,X)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new M;const i=new ge(t,r),o=new Float32Array(2*t);for(let l=0;l<r;l++){const u=o.length,d=l+.5;for(let p=0;p<u;p+=2)o[p]=p/2+.5,o[p+1]=d;n.transformPoints(o),Re.checkAndNudgePoints(e,o);try{for(let p=0;p<u;p+=2)e.get(Math.floor(o[p]),Math.floor(o[p+1]))&&i.set(p/2,l)}catch{throw new M}}return i}}class et{static setGridSampler(e){et.gridSampler=e}static getInstance(){return et.gridSampler}}et.gridSampler=new Pe;class ke{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new x(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Gt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let o=r[0];r[0]=r[2],r[2]=o}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),i=this.getMatrixCornerPoints(r);return new ce(n,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new M;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let o=0;o<4;o++){let l=r[(this.shift+o)%4];this.compact?(n<<=7,n+=l>>1&127):(n<<=10,n+=(l>>2&992)+(l>>1&31))}let i=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=(i>>6)+1,this.nbDataBlocks=(i&63)+1):(this.nbLayers=(i>>11)+1,this.nbDataBlocks=(i&2047)+1)}getRotation(e,t){let r=0;e.forEach((n,i,o)=>{let l=(n>>t-2<<1)+(n&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(let n=0;n<4;n++)if(ne.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new M}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let i=r-n,o=new Int32Array(r);for(let u=r-1;u>=0;--u)o[u]=e&15,e>>=4;try{new W(P.AZTEC_PARAM).decode(o,i)}catch{throw new M}let l=0;for(let u=0;u<n;u++)l=(l<<4)+o[u];return l}getBullsEyeCorners(e){let t=e,r=e,n=e,i=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let m=this.getFirstDifferent(t,o,1,-1),A=this.getFirstDifferent(r,o,1,1),_=this.getFirstDifferent(n,o,-1,1),b=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){let D=this.distancePoint(b,m)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(D<.75||D>1.25||!this.isWhiteOrBlackRectangle(m,A,_,b))break}t=m,r=A,n=_,i=b,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new M;this.compact=this.nbCenterLayers===5;let l=new x(t.getX()+.5,t.getY()-.5),u=new x(r.getX()+.5,r.getY()+.5),d=new x(n.getX()-.5,n.getY()+.5),p=new x(i.getX()-.5,i.getY()-.5);return this.expandSquare([l,u,d,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let l=new he(this.image).detect();e=l[0],t=l[1],r=l[2],n=l[3]}catch{let l=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new ke(l+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ke(l+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ke(l-7,u+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new ke(l-7,u-7),!1,-1,-1).toResultPoint()}let i=k.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=k.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let l=new he(this.image,15,i,o).detect();e=l[0],t=l[1],r=l[2],n=l[3]}catch{e=this.getFirstDifferent(new ke(i+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new ke(i+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new ke(i-7,o+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new ke(i-7,o-7),!1,-1,-1).toResultPoint()}return i=k.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=k.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new ke(i,o)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,i){let o=et.getInstance(),l=this.getDimension(),u=l/2-this.nbCenterLayers,d=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,u,u,d,u,d,d,u,d,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())}sampleLine(e,t,r){let n=0,i=this.distanceResultPoint(e,t),o=i/r,l=e.getX(),u=e.getY(),d=o*(t.getX()-e.getX())/i,p=o*(t.getY()-e.getY())/i;for(let m=0;m<r;m++)this.image.get(k.round(l+m*d),k.round(u+m*p))&&(n|=1<<r-m-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let i=3;e=new ke(e.getX()-i,e.getY()+i),t=new ke(t.getX()-i,t.getY()-i),r=new ke(r.getX()+i,r.getY()-i),n=new ke(n.getX()+i,n.getY()+i);let o=this.getColor(n,e);if(o===0)return!1;let l=this.getColor(e,t);return l!==o||(l=this.getColor(t,r),l!==o)?!1:(l=this.getColor(r,n),l===o)}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,i=(t.getY()-e.getY())/r,o=0,l=e.getX(),u=e.getY(),d=this.image.get(e.getX(),e.getY()),p=Math.ceil(r);for(let A=0;A<p;A++)l+=n,u+=i,this.image.get(k.round(l),k.round(u))!==d&&o++;let m=o/r;return m>.1&&m<.9?0:m<=.1===d?1:-1}getFirstDifferent(e,t,r,n){let i=e.getX()+r,o=e.getY()+n;for(;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r,o+=n;for(i-=r,o-=n;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r;for(i-=r;this.isValid(i,o)&&this.image.get(i,o)===t;)o+=n;return o-=n,new ke(i,o)}expandSquare(e,t,r){let n=r/(2*t),i=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,d=new x(l+n*i,u+n*o),p=new x(l-n*i,u-n*o);i=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;let m=new x(l+n*i,u+n*o),A=new x(l-n*i,u-n*o);return[d,m,p,A]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=k.round(e.getX()),r=k.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return k.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return k.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ne.truncDivision(this.nbLayers-4,8)+1)+15}}class Ot{decode(e,t=null){let r=null,n=new Gt(e.getBlackMatrix()),i=null,o=null;try{let p=n.detectMirror(!1);i=p.getPoints(),this.reportFoundResultPoints(t,i),o=new H().decode(p)}catch(p){r=p}if(o==null)try{let p=n.detectMirror(!0);i=p.getPoints(),this.reportFoundResultPoints(t,i),o=new H().decode(p)}catch(p){throw r??p}let l=new Ct(o.getText(),o.getRawBytes(),o.getNumBits(),i,le.AZTEC,re.currentTimeMillis()),u=o.getByteSegments();u!=null&&l.putMetadata(it.BYTE_SEGMENTS,u);let d=o.getECLevel();return d!=null&&l.putMetadata(it.ERROR_CORRECTION_LEVEL,d),l}reportFoundResultPoints(e,t){if(e!=null){let r=e.get(Ne.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach((n,i,o)=>{r.foundPossibleResultPoint(n)})}}reset(){}}class zr extends or{constructor(e=500){super(new Ot,e)}}class tt{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(Ne.TRY_HARDER)===!0&&e.isRotateSupported()){const r=e.rotateCounterClockwise(),n=this.doDecode(r,t),i=n.getResultMetadata();let o=270;i!==null&&i.get(it.ORIENTATION)===!0&&(o=o+i.get(it.ORIENTATION)%360),n.putMetadata(it.ORIENTATION,o);const l=n.getResultPoints();if(l!==null){const u=r.getHeight();for(let d=0;d<l.length;d++)l[d]=new x(u-l[d].getY()-1,l[d].getX())}return n}else throw new M}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let i=new ee(r);const o=t&&t.get(Ne.TRY_HARDER)===!0,l=Math.max(1,n>>(o?8:5));let u;o?u=n:u=15;const d=Math.trunc(n/2);for(let p=0;p<u;p++){const m=Math.trunc((p+1)/2),A=(p&1)===0,_=d+l*(A?m:-m);if(_<0||_>=n)break;try{i=e.getBlackRow(_,i)}catch{continue}for(let b=0;b<2;b++){if(b===1&&(i.reverse(),t&&t.get(Ne.NEED_RESULT_POINT_CALLBACK)===!0)){const D=new Map;t.forEach((B,L)=>D.set(L,B)),D.delete(Ne.NEED_RESULT_POINT_CALLBACK),t=D}try{const D=this.decodeRow(_,i,t);if(b===1){D.putMetadata(it.ORIENTATION,180);const B=D.getResultPoints();B!==null&&(B[0]=new x(r-B[0].getX()-1,B[0].getY()),B[1]=new x(r-B[1].getX()-1,B[1].getY()))}return D}catch{}}}throw new M}static recordPattern(e,t,r){const n=r.length;for(let d=0;d<n;d++)r[d]=0;const i=e.getSize();if(t>=i)throw new M;let o=!e.get(t),l=0,u=t;for(;u<i;){if(e.get(u)!==o)r[l]++;else{if(++l===n)break;r[l]=1,o=!o}u++}if(!(l===n||l===n-1&&u===i))throw new M}static recordPatternInReverse(e,t,r){let n=r.length,i=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==i&&(n--,i=!i);if(n>=0)throw new M;tt.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let i=0,o=0;for(let d=0;d<n;d++)i+=e[d],o+=t[d];if(i<o)return Number.POSITIVE_INFINITY;const l=i/o;r*=l;let u=0;for(let d=0;d<n;d++){const p=e[d],m=t[d]*l,A=p>m?p-m:m-p;if(A>r)return Number.POSITIVE_INFINITY;u+=A}return u/i}}class j extends tt{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,i=Int32Array.from([0,0,0,0,0,0]),o=r,l=!1;const u=6;for(let d=r;d<t;d++)if(e.get(d)!==l)i[n]++;else{if(n===u-1){let p=j.MAX_AVG_VARIANCE,m=-1;for(let A=j.CODE_START_A;A<=j.CODE_START_C;A++){const _=tt.patternMatchVariance(i,j.CODE_PATTERNS[A],j.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,m=A)}if(m>=0&&e.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,m]);o+=i[0]+i[1],i=i.slice(2,i.length-1),i[n-1]=0,i[n]=0,n--}else n++;i[n]=1,l=!l}throw new M}static decodeCode(e,t,r){tt.recordPattern(e,r,t);let n=j.MAX_AVG_VARIANCE,i=-1;for(let o=0;o<j.CODE_PATTERNS.length;o++){const l=j.CODE_PATTERNS[o],u=this.patternMatchVariance(t,l,j.MAX_INDIVIDUAL_VARIANCE);u<n&&(n=u,i=o)}if(i>=0)return i;throw new M}decodeRow(e,t,r){const n=r&&r.get(Ne.ASSUME_GS1)===!0,i=j.findStartPattern(t),o=i[2];let l=0;const u=new Uint8Array(20);u[l++]=o;let d;switch(o){case j.CODE_START_A:d=j.CODE_CODE_A;break;case j.CODE_START_B:d=j.CODE_CODE_B;break;case j.CODE_START_C:d=j.CODE_CODE_C;break;default:throw new Q}let p=!1,m=!1,A="",_=i[0],b=i[1];const D=Int32Array.from([0,0,0,0,0,0]);let B=0,L=0,J=o,q=0,X=!0,Oe=!1,Ie=!1;for(;!p;){const fn=m;switch(m=!1,B=L,L=j.decodeCode(t,D,b),u[l++]=L,L!==j.CODE_STOP&&(X=!0),L!==j.CODE_STOP&&(q++,J+=q*L),_=b,b+=D.reduce((U1,V1)=>U1+V1,0),L){case j.CODE_START_A:case j.CODE_START_B:case j.CODE_START_C:throw new Q}switch(d){case j.CODE_CODE_A:if(L<64)Ie===Oe?A+=String.fromCharCode(32+L):A+=String.fromCharCode(32+L+128),Ie=!1;else if(L<96)Ie===Oe?A+=String.fromCharCode(L-64):A+=String.fromCharCode(L+64),Ie=!1;else switch(L!==j.CODE_STOP&&(X=!1),L){case j.CODE_FNC_1:n&&(A.length===0?A+="]C1":A+="");break;case j.CODE_FNC_2:case j.CODE_FNC_3:break;case j.CODE_FNC_4_A:!Oe&&Ie?(Oe=!0,Ie=!1):Oe&&Ie?(Oe=!1,Ie=!1):Ie=!0;break;case j.CODE_SHIFT:m=!0,d=j.CODE_CODE_B;break;case j.CODE_CODE_B:d=j.CODE_CODE_B;break;case j.CODE_CODE_C:d=j.CODE_CODE_C;break;case j.CODE_STOP:p=!0;break}break;case j.CODE_CODE_B:if(L<96)Ie===Oe?A+=String.fromCharCode(32+L):A+=String.fromCharCode(32+L+128),Ie=!1;else switch(L!==j.CODE_STOP&&(X=!1),L){case j.CODE_FNC_1:n&&(A.length===0?A+="]C1":A+="");break;case j.CODE_FNC_2:case j.CODE_FNC_3:break;case j.CODE_FNC_4_B:!Oe&&Ie?(Oe=!0,Ie=!1):Oe&&Ie?(Oe=!1,Ie=!1):Ie=!0;break;case j.CODE_SHIFT:m=!0,d=j.CODE_CODE_A;break;case j.CODE_CODE_A:d=j.CODE_CODE_A;break;case j.CODE_CODE_C:d=j.CODE_CODE_C;break;case j.CODE_STOP:p=!0;break}break;case j.CODE_CODE_C:if(L<100)L<10&&(A+="0"),A+=L;else switch(L!==j.CODE_STOP&&(X=!1),L){case j.CODE_FNC_1:n&&(A.length===0?A+="]C1":A+="");break;case j.CODE_CODE_A:d=j.CODE_CODE_A;break;case j.CODE_CODE_B:d=j.CODE_CODE_B;break;case j.CODE_STOP:p=!0;break}break}fn&&(d=d===j.CODE_CODE_A?j.CODE_CODE_B:j.CODE_CODE_A)}const Vt=b-_;if(b=t.getNextUnset(b),!t.isRange(b,Math.min(t.getSize(),b+(b-_)/2),!1))throw new M;if(J-=q*B,J%103!==B)throw new Z;const er=A.length;if(er===0)throw new M;er>0&&X&&(d===j.CODE_CODE_C?A=A.substring(0,er-2):A=A.substring(0,er-1));const Ht=(i[1]+i[0])/2,Ye=_+Vt/2,St=u.length,Xt=new Uint8Array(St);for(let fn=0;fn<St;fn++)Xt[fn]=u[fn];const dn=[new x(Ht,e),new x(Ye,e)];return new Ct(A,Xt,0,dn,le.CODE_128,new Date().getTime())}}j.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],j.MAX_AVG_VARIANCE=.25,j.MAX_INDIVIDUAL_VARIANCE=.7,j.CODE_SHIFT=98,j.CODE_CODE_C=99,j.CODE_CODE_B=100,j.CODE_CODE_A=101,j.CODE_FNC_1=102,j.CODE_FNC_2=97,j.CODE_FNC_3=96,j.CODE_FNC_4_A=101,j.CODE_FNC_4_B=100,j.CODE_START_A=103,j.CODE_START_B=104,j.CODE_START_C=105,j.CODE_STOP=106;class Ue extends tt{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let i=Ue.findAsteriskPattern(t,n),o=t.getNextSet(i[1]),l=t.getSize(),u,d;do{Ue.recordPattern(t,o,n);let D=Ue.toNarrowWidePattern(n);if(D<0)throw new M;u=Ue.patternToChar(D),this.decodeRowResult+=u,d=o;for(let B of n)o+=B;o=t.getNextSet(o)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let D of n)p+=D;let m=o-d-p;if(o!==l&&m*2<p)throw new M;if(this.usingCheckDigit){let D=this.decodeRowResult.length-1,B=0;for(let L=0;L<D;L++)B+=Ue.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(L));if(this.decodeRowResult.charAt(D)!==Ue.ALPHABET_STRING.charAt(B%43))throw new Z;this.decodeRowResult=this.decodeRowResult.substring(0,D)}if(this.decodeRowResult.length===0)throw new M;let A;this.extendedMode?A=Ue.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let _=(i[1]+i[0])/2,b=d+p/2;return new Ct(A,null,0,[new x(_,e),new x(b,e)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),i=0,o=n,l=!1,u=t.length;for(let d=n;d<r;d++)if(e.get(d)!==l)t[i]++;else{if(i===u-1){if(this.toNarrowWidePattern(t)===Ue.ASTERISK_ENCODING&&e.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,l=!l}throw new M}static toNarrowWidePattern(e){let t=e.length,r=0,n;do{let i=2147483647;for(let u of e)u<i&&u>r&&(i=u);r=i,n=0;let o=0,l=0;for(let u=0;u<t;u++){let d=e[u];d>r&&(l|=1<<t-1-u,n++,o+=d)}if(n===3){for(let u=0;u<t&&n>0;u++){let d=e[u];if(d>r&&(n--,d*2>=o))return-1}return l}}while(n>3);return-1}static patternToChar(e){for(let t=0;t<Ue.CHARACTER_ENCODINGS.length;t++)if(Ue.CHARACTER_ENCODINGS[t]===e)return Ue.ALPHABET_STRING.charAt(t);if(e===Ue.ASTERISK_ENCODING)return"*";throw new M}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let i=e.charAt(n);if(i==="+"||i==="$"||i==="%"||i==="/"){let o=e.charAt(n+1),l="\0";switch(i){case"+":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new Q;break;case"$":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new Q;break;case"%":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o==="X"||o==="Y"||o==="Z")l="";else throw new Q;break;case"/":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new Q;break}r+=l,n++}else r+=i}return r}}Ue.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ue.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ue.ASTERISK_ENCODING=148;class Ve extends tt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),i=this.decodeEnd(t),o=new ae;Ve.decodeMiddle(t,n[1],i[0],o);let l=o.toString(),u=null;r!=null&&(u=r.get(Ne.ALLOWED_LENGTHS)),u==null&&(u=Ve.DEFAULT_ALLOWED_LENGTHS);let d=l.length,p=!1,m=0;for(let _ of u){if(d===_){p=!0;break}_>m&&(m=_)}if(!p&&d>m&&(p=!0),!p)throw new Q;const A=[new x(n[1],e),new x(i[0],e)];return new Ct(l,null,0,A,le.ITF,new Date().getTime())}static decodeMiddle(e,t,r,n){let i=new Int32Array(10),o=new Int32Array(5),l=new Int32Array(5);for(i.fill(0),o.fill(0),l.fill(0);t<r;){tt.recordPattern(e,t,i);for(let d=0;d<5;d++){let p=2*d;o[d]=i[p],l[d]=i[p+1]}let u=Ve.decodeDigit(o);n.append(u.toString()),u=this.decodeDigit(l),n.append(u.toString()),i.forEach(function(d){t+=d})}}decodeStart(e){let t=Ve.skipWhiteSpace(e),r=Ve.findGuardPattern(e,t,Ve.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=this.narrowLineWidth*10;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(r!==0)throw new M}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new M;return r}decodeEnd(e){e.reverse();try{let t=Ve.skipWhiteSpace(e),r;try{r=Ve.findGuardPattern(e,t,Ve.END_PATTERN_REVERSED[0])}catch(i){i instanceof M&&(r=Ve.findGuardPattern(e,t,Ve.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let n=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-n,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,i=new Int32Array(n),o=e.getSize(),l=!1,u=0,d=t;i.fill(0);for(let p=t;p<o;p++)if(e.get(p)!==l)i[u]++;else{if(u===n-1){if(tt.patternMatchVariance(i,r,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return[d,p];d+=i[0]+i[1],re.arraycopy(i,2,i,0,u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,l=!l}throw new M}static decodeDigit(e){let t=Ve.MAX_AVG_VARIANCE,r=-1,n=Ve.PATTERNS.length;for(let i=0;i<n;i++){let o=Ve.PATTERNS[i],l=tt.patternMatchVariance(e,o,Ve.MAX_INDIVIDUAL_VARIANCE);l<t?(t=l,r=i):l===t&&(r=-1)}if(r>=0)return r%10;throw new M}}Ve.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ve.MAX_AVG_VARIANCE=.38,Ve.MAX_INDIVIDUAL_VARIANCE=.5,Ve.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ve.START_PATTERN=Int32Array.from([1,1,1,1]),Ve.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class st extends tt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,r,n=0,i=Int32Array.from([0,0,0]);for(;!t;){i=Int32Array.from([0,0,0]),r=st.findGuardPattern(e,n,!1,this.START_END_PATTERN,i);let o=r[0];n=r[1];let l=o-(n-o);l>=0&&(t=e.isRange(l,o,!1))}return r}static checkChecksum(e){return st.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return st.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new Q;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new Q;r+=i}return(1e3-r)%10}static decodeEnd(e,t){return st.findGuardPattern(e,t,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,i){let o=e.getSize();t=r?e.getNextUnset(t):e.getNextSet(t);let l=0,u=t,d=n.length,p=r;for(let m=t;m<o;m++)if(e.get(m)!==p)i[l]++;else{if(l===d-1){if(tt.patternMatchVariance(i,n,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return Int32Array.from([u,m]);u+=i[0]+i[1];let A=i.slice(2,i.length-1);for(let _=0;_<l-1;_++)i[_]=A[_];i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,p=!p}throw new M}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let i=this.MAX_AVG_VARIANCE,o=-1,l=n.length;for(let u=0;u<l;u++){let d=n[u],p=tt.patternMatchVariance(t,d,st.MAX_INDIVIDUAL_VARIANCE);p<i&&(i=p,o=u)}if(o>=0)return o;throw new M}}st.MAX_AVG_VARIANCE=.48,st.MAX_INDIVIDUAL_VARIANCE=.7,st.START_END_PATTERN=Int32Array.from([1,1,1]),st.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),st.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),st.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Tn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),o=n.toString(),l=Tn.parseExtensionString(o),u=[new x((r[0]+r[1])/2,e),new x(i,e)],d=new Ct(o,null,0,u,le.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&d.putAllMetadata(l),d}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],l=0;for(let d=0;d<5&&o<i;d++){let p=st.decodeDigit(e,n,o,st.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let m of n)o+=m;p>=10&&(l|=1<<4-d),d!==4&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(r.length!==5)throw new M;let u=this.determineCheckDigit(l);if(Tn.extensionChecksum(r.toString())!==u)throw new M;return o}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new M}static parseExtensionString(e){if(e.length!==5)return null;let t=Tn.parseExtension5String(e);return t==null?null:new Map([[it.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let r=parseInt(e.substring(1)),n=(r/100).toString(),i=r%100,o=i<10?"0"+i:i.toString();return t+n+"."+o}}class ki{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),o=n.toString(),l=ki.parseExtensionString(o),u=[new x((r[0]+r[1])/2,e),new x(i,e)],d=new Ct(o,null,0,u,le.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&d.putAllMetadata(l),d}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],l=0;for(let u=0;u<2&&o<i;u++){let d=st.decodeDigit(e,n,o,st.L_AND_G_PATTERNS);r+=String.fromCharCode(48+d%10);for(let p of n)o+=p;d>=10&&(l|=1<<1-u),u!==1&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(r.length!==2)throw new M;if(parseInt(r.toString())%4!==l)throw new M;return o}static parseExtensionString(e){return e.length!==2?null:new Map([[it.ISSUE_NUMBER,parseInt(e)]])}}class js{static decodeRow(e,t,r){let n=st.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Tn().decodeRow(e,t,n)}catch{return new ki().decodeRow(e,t,n)}}}js.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Le extends st{constructor(){super(),this.decodeRowStringBuffer="",Le.L_AND_G_PATTERNS=Le.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Le.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[t.length-n-1];Le.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=Le.findStartGuardPattern(t),i=r==null?null:r.get(Ne.NEED_RESULT_POINT_CALLBACK);if(i!=null){const X=new x((n[0]+n[1])/2,e);i.foundPossibleResultPoint(X)}let o=this.decodeMiddle(t,n,this.decodeRowStringBuffer),l=o.rowOffset,u=o.resultString;if(i!=null){const X=new x(l,e);i.foundPossibleResultPoint(X)}let d=this.decodeEnd(t,l);if(i!=null){const X=new x((d[0]+d[1])/2,e);i.foundPossibleResultPoint(X)}let p=d[1],m=p+(p-d[0]);if(m>=t.getSize()||!t.isRange(p,m,!1))throw new M;let A=u.toString();if(A.length<8)throw new Q;if(!Le.checkChecksum(A))throw new Z;let _=(n[1]+n[0])/2,b=(d[1]+d[0])/2,D=this.getBarcodeFormat(),B=[new x(_,e),new x(b,e)],L=new Ct(A,null,0,B,D,new Date().getTime()),J=0;try{let X=js.decodeRow(e,t,d[1]);L.putMetadata(it.UPC_EAN_EXTENSION,X.getText()),L.putAllMetadata(X.getResultMetadata()),L.addResultPoints(X.getResultPoints()),J=X.getText().length}catch{}let q=r==null?null:r.get(Ne.ALLOWED_EAN_EXTENSIONS);if(q!=null){let X=!1;for(let Oe in q)if(J.toString()===Oe){X=!0;break}if(!X)throw new M}return L}decodeEnd(e,t){return Le.findGuardPattern(e,t,!1,Le.START_END_PATTERN,new Int32Array(Le.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Le.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return Le.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new Q;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new Q;r+=i}return(1e3-r)%10}}class Yr extends Le{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],l=0;for(let u=0;u<6&&o<i;u++){let d=Le.decodeDigit(e,n,o,Le.L_AND_G_PATTERNS);r+=String.fromCharCode(48+d%10);for(let p of n)o+=p;d>=10&&(l|=1<<5-u)}r=Yr.determineFirstDigit(r,l),o=Le.findGuardPattern(e,o,!0,Le.MIDDLE_PATTERN,new Int32Array(Le.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<6&&o<i;u++){let d=Le.decodeDigit(e,n,o,Le.L_PATTERNS);r+=String.fromCharCode(48+d);for(let p of n)o+=p}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new M}}Yr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Qs extends Le{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1];for(let l=0;l<4&&o<i;l++){let u=Le.decodeDigit(e,n,o,Le.L_PATTERNS);r+=String.fromCharCode(48+u);for(let d of n)o+=d}o=Le.findGuardPattern(e,o,!0,Le.MIDDLE_PATTERN,new Int32Array(Le.MIDDLE_PATTERN.length).fill(0))[1];for(let l=0;l<4&&o<i;l++){let u=Le.decodeDigit(e,n,o,Le.L_PATTERNS);r+=String.fromCharCode(48+u);for(let d of n)o+=d}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return le.EAN_8}}class $s extends Le{constructor(){super(...arguments),this.ean13Reader=new Yr}getBarcodeFormat(){return le.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let r=new Ct(t.substring(1),null,null,e.getResultPoints(),le.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new M}reset(){this.ean13Reader.reset()}}class Jt extends Le{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map(d=>d);n[0]=0,n[1]=0,n[2]=0,n[3]=0;const i=e.getSize();let o=t[1],l=0;for(let d=0;d<6&&o<i;d++){const p=Jt.decodeDigit(e,n,o,Jt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let m of n)o+=m;p>=10&&(l|=1<<5-d)}let u=Jt.determineNumSysAndCheckDigit(r,l);return{rowOffset:o,resultString:u}}decodeEnd(e,t){return Jt.findGuardPatternWithoutCounters(e,t,!0,Jt.MIDDLE_END_PATTERN)}checkChecksum(e){return Le.checkChecksum(Jt.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n]){let i=String.fromCharCode(48+r),o=String.fromCharCode(48+n);return i+e+o}throw M.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(i=>i.charCodeAt(0)),r=new ae;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Jt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Jt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ui extends tt{constructor(e){super();let t=e==null?null:e.get(Ne.POSSIBLE_FORMATS),r=[];h(t)?(r.push(new Yr),r.push(new $s),r.push(new Qs),r.push(new Jt)):(t.indexOf(le.EAN_13)>-1&&r.push(new Yr),t.indexOf(le.UPC_A)>-1&&r.push(new $s),t.indexOf(le.EAN_8)>-1&&r.push(new Qs),t.indexOf(le.UPC_E)>-1&&r.push(new Jt)),this.readers=r}decodeRow(e,t,r){for(let n of this.readers)try{const i=n.decodeRow(e,t,r),o=i.getBarcodeFormat()===le.EAN_13&&i.getText().charAt(0)==="0",l=r==null?null:r.get(Ne.POSSIBLE_FORMATS),u=l==null||l.includes(le.UPC_A);if(o&&u){const d=i.getRawBytes(),p=new Ct(i.getText().substring(1),d,d?d.length:null,i.getResultPoints(),le.UPC_A);return p.putAllMetadata(i.getResultMetadata()),p}return i}catch{}throw new M}reset(){for(let e of this.readers)e.reset()}}class _t extends tt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(tt.patternMatchVariance(e,t[r],_t.MAX_INDIVIDUAL_VARIANCE)<_t.MAX_AVG_VARIANCE)return r;throw new M}static count(e){return k.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]>n&&(n=t[i],r=i);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]<n&&(n=t[i],r=i);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t+e[2]+e[3],n=t/r;if(n>=_t.MIN_FINDER_PATTERN_RATIO&&n<=_t.MAX_FINDER_PATTERN_RATIO){let i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;for(let l of e)l>o&&(o=l),l<i&&(i=l);return o<10*i}return!1}}_t.MAX_AVG_VARIANCE=.2,_t.MAX_INDIVIDUAL_VARIANCE=.45,_t.MIN_FINDER_PATTERN_RATIO=9.5/12,_t.MAX_FINDER_PATTERN_RATIO=12.5/14;class sn{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof sn))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Jn{constructor(e,t,r,n,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new x(r,i)),this.resultPoints.push(new x(n,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Jn))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class lr{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let u of e)n+=u;let i=0,o=0,l=e.length;for(let u=0;u<l-1;u++){let d;for(d=1,o|=1<<u;d<e[u];d++,o&=~(1<<u)){let p=lr.combins(n-d-1,l-u-2);if(r&&o===0&&n-d-(l-u-1)>=l-u-1&&(p-=lr.combins(n-d-(l-u),l-u-2)),l-u-1>1){let m=0;for(let A=n-d-(l-u-2);A>t;A--)m+=lr.combins(n-d-A-1,l-u-3);p-=m*(l-1-u)}else n-d>t&&p--;i+=p}n-=d}return i}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let i=1,o=1;for(let l=e;l>r;l--)i*=l,o<=n&&(i/=o,o++);for(;o<=n;)i/=o,o++;return i}}class h1{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let r=12*t,n=new ee(r),i=0,o=e[0].getRightChar().getValue();for(let l=11;l>=0;--l)(o&1<<l)!=0&&n.set(i),i++;for(let l=1;l<e.length;++l){let u=e[l],d=u.getLeftChar().getValue();for(let p=11;p>=0;--p)(d&1<<p)!=0&&n.set(i),i++;if(u.getRightChar()!=null){let p=u.getRightChar().getValue();for(let m=11;m>=0;--m)(p&1<<m)!=0&&n.set(i),i++}}return n}}class Zr{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Vi{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class xt extends Vi{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===xt.FNC1}}xt.FNC1="$";class Kr extends Vi{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class jt extends Vi{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new Q;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===jt.FNC1}isSecondDigitFNC1(){return this.secondDigit===jt.FNC1}isAnyFNC1(){return this.firstDigit===jt.FNC1||this.secondDigit===jt.FNC1}}jt.FNC1=10;class se{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new M;let t=e.substring(0,2);for(let i of se.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===se.VARIABLE_LENGTH?se.processVariableAI(2,i[2],e):se.processFixedAI(2,i[1],e);if(e.length<3)throw new M;let r=e.substring(0,3);for(let i of se.THREE_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===se.VARIABLE_LENGTH?se.processVariableAI(3,i[2],e):se.processFixedAI(3,i[1],e);for(let i of se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,i[2],e):se.processFixedAI(4,i[1],e);if(e.length<4)throw new M;let n=e.substring(0,4);for(let i of se.FOUR_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,i[2],e):se.processFixedAI(4,i[1],e);throw new M}static processFixedAI(e,t,r){if(r.length<e)throw new M;let n=r.substring(0,e);if(r.length<e+t)throw new M;let i=r.substring(e,e+t),o=r.substring(e+t),l="("+n+")"+i,u=se.parseFieldsInGeneralPurpose(o);return u==null?l:l+u}static processVariableAI(e,t,r){let n=r.substring(0,e),i;r.length<e+t?i=r.length:i=e+t;let o=r.substring(e,i),l=r.substring(i),u="("+n+")"+o,d=se.parseFieldsInGeneralPurpose(l);return d==null?u:u+d}}se.VARIABLE_LENGTH=[],se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",se.VARIABLE_LENGTH,20],["22",se.VARIABLE_LENGTH,29],["30",se.VARIABLE_LENGTH,8],["37",se.VARIABLE_LENGTH,8],["90",se.VARIABLE_LENGTH,30],["91",se.VARIABLE_LENGTH,30],["92",se.VARIABLE_LENGTH,30],["93",se.VARIABLE_LENGTH,30],["94",se.VARIABLE_LENGTH,30],["95",se.VARIABLE_LENGTH,30],["96",se.VARIABLE_LENGTH,30],["97",se.VARIABLE_LENGTH,3],["98",se.VARIABLE_LENGTH,30],["99",se.VARIABLE_LENGTH,30]],se.THREE_DIGIT_DATA_LENGTH=[["240",se.VARIABLE_LENGTH,30],["241",se.VARIABLE_LENGTH,30],["242",se.VARIABLE_LENGTH,6],["250",se.VARIABLE_LENGTH,30],["251",se.VARIABLE_LENGTH,30],["253",se.VARIABLE_LENGTH,17],["254",se.VARIABLE_LENGTH,20],["400",se.VARIABLE_LENGTH,30],["401",se.VARIABLE_LENGTH,30],["402",17],["403",se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",se.VARIABLE_LENGTH,20],["421",se.VARIABLE_LENGTH,15],["422",3],["423",se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",se.VARIABLE_LENGTH,15],["391",se.VARIABLE_LENGTH,18],["392",se.VARIABLE_LENGTH,15],["393",se.VARIABLE_LENGTH,18],["703",se.VARIABLE_LENGTH,30]],se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",se.VARIABLE_LENGTH,20],["8003",se.VARIABLE_LENGTH,30],["8004",se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",se.VARIABLE_LENGTH,30],["8008",se.VARIABLE_LENGTH,12],["8018",18],["8020",se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",se.VARIABLE_LENGTH,70],["8200",se.VARIABLE_LENGTH,70]];class on{constructor(e){this.buffer=new ae,this.information=e}decodeAllCodes(e,t){let r=t,n=null;do{let i=this.decodeGeneralPurposeField(r,n),o=se.parseFieldsInGeneralPurpose(i.getNewString());if(o!=null&&e.append(o),i.isRemaining()?n=""+i.getRemainingValue():n=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let i=this.extractNumericValueFromBitArray(e,4);return i===0?new jt(this.information.getSize(),jt.FNC1,jt.FNC1):new jt(this.information.getSize(),i-1,jt.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),r=(t-8)/11,n=(t-8)%11;return new jt(e+7,r,n)}extractNumericValueFromBitArray(e,t){return on.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let i=0;i<r;++i)e.get(t+i)&&(n|=1<<r-i-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Kr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Kr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),r===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Kr(this.current.getPosition(),this.buffer.toString()):t=new Kr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Zr(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Kr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Kr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Kr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new xt(e+5,xt.FNC1);if(t>=5&&t<15)return new xt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new xt(e+7,""+(r+1));if(r>=90&&r<116)return new xt(e+7,""+(r+7));let n=this.extractNumericValueFromBitArray(e,8),i;switch(n){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new Q}return new xt(e+8,i)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new xt(e+5,xt.FNC1);if(t>=5&&t<15)return new xt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new xt(e+6,""+(r+33));let n;switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new U("Decoding invalid alphanumeric value: "+r)}return new xt(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Hi{constructor(e){this.information=e,this.generalDecoder=new on(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class kt extends Hi{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let n=0;n<4;++n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i)}kt.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let i=e.charAt(n+t).charCodeAt(0)-48;r+=(n&1)===0?3*i:i}r=10-r%10,r===10&&(r=0),e.append(r)}}kt.GTIN_SIZE=40;class an extends kt{constructor(e){super(e)}parseInformation(){let e=new ae;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,an.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,an.HEADER_SIZE+44)}}an.HEADER_SIZE=4;class ei extends Hi{constructor(e){super(e)}parseInformation(){let e=new ae;return this.getGeneralDecoder().decodeAllCodes(e,ei.HEADER_SIZE)}}ei.HEADER_SIZE=5;class ti extends kt{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let i=this.checkWeight(n),o=1e5;for(let l=0;l<5;++l)i/o===0&&e.append("0"),o/=10;e.append(i)}}class cr extends ti{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=cr.HEADER_SIZE+ti.GTIN_SIZE+cr.WEIGHT_SIZE)throw new M;let e=new ae;return this.encodeCompressedGtin(e,cr.HEADER_SIZE),this.encodeCompressedWeight(e,cr.HEADER_SIZE+ti.GTIN_SIZE,cr.WEIGHT_SIZE),e.toString()}}cr.HEADER_SIZE=5,cr.WEIGHT_SIZE=15;class d1 extends cr{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class f1 extends cr{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class ur extends kt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<ur.HEADER_SIZE+kt.GTIN_SIZE)throw new M;let e=new ae;this.encodeCompressedGtin(e,ur.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(ur.HEADER_SIZE+kt.GTIN_SIZE,ur.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(ur.HEADER_SIZE+kt.GTIN_SIZE+ur.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}ur.HEADER_SIZE=8,ur.LAST_DIGIT_SIZE=2;class Dt extends kt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Dt.HEADER_SIZE+kt.GTIN_SIZE)throw new M;let e=new ae;this.encodeCompressedGtin(e,Dt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Dt.HEADER_SIZE+kt.GTIN_SIZE,Dt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Dt.HEADER_SIZE+kt.GTIN_SIZE+Dt.LAST_DIGIT_SIZE,Dt.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(Dt.HEADER_SIZE+kt.GTIN_SIZE+Dt.LAST_DIGIT_SIZE+Dt.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}Dt.HEADER_SIZE=8,Dt.LAST_DIGIT_SIZE=2,Dt.FIRST_THREE_DIGITS_SIZE=10;class Je extends ti{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=Je.HEADER_SIZE+Je.GTIN_SIZE+Je.WEIGHT_SIZE+Je.DATE_SIZE)throw new M;let e=new ae;return this.encodeCompressedGtin(e,Je.HEADER_SIZE),this.encodeCompressedWeight(e,Je.HEADER_SIZE+Je.GTIN_SIZE,Je.WEIGHT_SIZE),this.encodeCompressedDate(e,Je.HEADER_SIZE+Je.GTIN_SIZE+Je.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,Je.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let i=r%12+1;r/=12;let o=r;o/10==0&&e.append("0"),e.append(o),i/10==0&&e.append("0"),e.append(i),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}Je.HEADER_SIZE=8,Je.WEIGHT_SIZE=20,Je.DATE_SIZE=16;function qs(w){try{if(w.get(1))return new an(w);if(!w.get(2))return new ei(w);switch(on.extractNumericValueFromBitArray(w,1,4)){case 4:return new d1(w);case 5:return new f1(w)}switch(on.extractNumericValueFromBitArray(w,1,5)){case 12:return new ur(w);case 13:return new Dt(w)}switch(on.extractNumericValueFromBitArray(w,1,7)){case 56:return new Je(w,"310","11");case 57:return new Je(w,"320","11");case 58:return new Je(w,"310","13");case 59:return new Je(w,"320","13");case 60:return new Je(w,"310","15");case 61:return new Je(w,"320","15");case 62:return new Je(w,"310","17");case 63:return new Je(w,"320","17")}}catch(e){throw console.log(e),new U("unknown decoder: "+w)}}class vr{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof vr?vr.equalsOrNull(e.leftchar,t.leftchar)&&vr.equalsOrNull(e.rightchar,t.rightchar)&&vr.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:vr.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Wi{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Wi?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((n,i)=>{t.forEach(o=>{n.getLeftChar().getValue()===o.getLeftChar().getValue()&&n.getRightChar().getValue()===o.getRightChar().getValue()&&n.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}}class V extends _t{constructor(e){super(...arguments),this.pairs=new Array(V.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return V.constructResult(this.decodeRow2pairs(e,t))}catch(n){this.verbose&&console.log(n)}return this.pairs.length=0,this.startFromEven=!0,V.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof M){if(!this.pairs.length)throw new M;r=!0}}if(this.checkChecksum())return this.pairs;let n;if(this.rows.length?n=!0:n=!1,this.storeRow(e,!1),n){let i=this.checkRowsBoolean(!1);if(i!=null||(i=this.checkRowsBoolean(!0),i!=null))return i}throw new M}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let n=this.rows[r];this.pairs.length=0;for(let o of e)this.pairs.push(o.getPairs());if(this.pairs.push(n.getPairs()),!V.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(n);try{return this.checkRows(i,r+1)}catch(o){this.verbose&&console.log(o)}}throw new M}static isValidSequence(e){for(let t of V.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,i=!1;for(;r<this.rows.length;){let o=this.rows[r];if(o.getRowNumber()>e){i=o.isEquivalent(this.pairs);break}n=o.isEquivalent(this.pairs),r++}i||n||V.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Wi(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length){for(let n of r.getPairs())for(let i of e)if(vr.equals(n,i))break}}static isPartialRow(e,t){for(let r of t){let n=!0;for(let i of e){let o=!1;for(let l of r.getPairs())if(i.equals(l)){o=!0;break}if(!o){n=!1;break}}if(n)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=h1.buildBitArray(e),r=qs(t).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),i=e[e.length-1].getFinderPattern().getResultPoints(),o=[n[0],n[1],i[0],i[1]];return new Ct(r,null,null,o,le.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let n=r.getChecksumPortion(),i=2;for(let o=1;o<this.pairs.size();++o){let l=this.pairs.get(o);n+=l.getLeftChar().getChecksumPortion(),i++;let u=l.getRightChar();u!=null&&(n+=u.getChecksumPortion(),i++)}return n%=211,211*(i-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n=t.length%2==0;this.startFromEven&&(n=!n);let i,o=!0,l=-1;do this.findNextPair(e,t,l),i=this.parseFoundFinderPattern(e,r,n),i==null?l=V.getNextSecondBar(e,this.startEnd[0]):o=!1;while(o);let u=this.decodeDataCharacter(e,i,n,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new M;let d;try{d=this.decodeDataCharacter(e,i,n,!1)}catch(p){d=null,this.verbose&&console.log(p)}return new vr(u,d,i,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o;r>=0?o=r:this.isEmptyPair(t)?o=0:o=t[t.length-1].getFinderPattern().getStartEnd()[1];let l=t.length%2!=0;this.startFromEven&&(l=!l);let u=!1;for(;o<i&&(u=!e.get(o),!!u);)o++;let d=0,p=o;for(let m=o;m<i;m++)if(e.get(m)!=u)n[d]++;else{if(d==3){if(l&&V.reverseCounters(n),V.isFinderPattern(n)){this.startEnd[0]=p,this.startEnd[1]=m;return}l&&V.reverseCounters(n),p+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,d--}else d++;n[d]=1,u=!u}throw new M}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,i,o;if(r){let d=this.startEnd[0]-1;for(;d>=0&&!e.get(d);)d--;d++,n=this.startEnd[0]-d,i=d,o=this.startEnd[1]}else i=this.startEnd[0],o=e.getNextUnset(this.startEnd[1]+1),n=o-this.startEnd[1];let l=this.getDecodeFinderCounters();re.arraycopy(l,0,l,1,l.length-1),l[0]=n;let u;try{u=this.parseFinderValue(l,V.FINDER_PATTERNS)}catch{return null}return new Jn(u,[i,o],i,o,t)}decodeDataCharacter(e,t,r,n){let i=this.getDataCharacterCounters();for(let Ye=0;Ye<i.length;Ye++)i[Ye]=0;if(n)V.recordPatternInReverse(e,t.getStartEnd()[0],i);else{V.recordPattern(e,t.getStartEnd()[1],i);for(let Ye=0,St=i.length-1;Ye<St;Ye++,St--){let Xt=i[Ye];i[Ye]=i[St],i[St]=Xt}}let o=17,l=k.sum(new Int32Array(i))/o,u=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(l-u)/u>.3)throw new M;let d=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Ye=0;Ye<i.length;Ye++){let St=1*i[Ye]/l,Xt=St+.5;if(Xt<1){if(St<.3)throw new M;Xt=1}else if(Xt>8){if(St>8.7)throw new M;Xt=8}let dn=Ye/2;(Ye&1)==0?(d[dn]=Xt,m[dn]=St-Xt):(p[dn]=Xt,A[dn]=St-Xt)}this.adjustOddEvenCounts(o);let _=4*t.getValue()+(r?0:2)+(n?0:1)-1,b=0,D=0;for(let Ye=d.length-1;Ye>=0;Ye--){if(V.isNotA1left(t,r,n)){let St=V.WEIGHTS[_][2*Ye];D+=d[Ye]*St}b+=d[Ye]}let B=0;for(let Ye=p.length-1;Ye>=0;Ye--)if(V.isNotA1left(t,r,n)){let St=V.WEIGHTS[_][2*Ye+1];B+=p[Ye]*St}let L=D+B;if((b&1)!=0||b>13||b<4)throw new M;let J=(13-b)/2,q=V.SYMBOL_WIDEST[J],X=9-q,Oe=lr.getRSSvalue(d,q,!0),Ie=lr.getRSSvalue(p,X,!1),Vt=V.EVEN_TOTAL_SUBSET[J],er=V.GSUM[J],Ht=Oe*Vt+Ie+er;return new sn(Ht,L)}static isNotA1left(e,t,r){return!(e.getValue()==0&&t&&r)}adjustOddEvenCounts(e){let t=k.sum(new Int32Array(this.getOddCounts())),r=k.sum(new Int32Array(this.getEvenCounts())),n=!1,i=!1;t>13?i=!0:t<4&&(n=!0);let o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let u=t+r-e,d=(t&1)==1,p=(r&1)==0;if(u==1)if(d){if(p)throw new M;i=!0}else{if(!p)throw new M;l=!0}else if(u==-1)if(d){if(p)throw new M;n=!0}else{if(!p)throw new M;o=!0}else if(u==0){if(d){if(!p)throw new M;t<r?(n=!0,l=!0):(i=!0,o=!0)}else if(p)throw new M}else throw new M;if(n){if(i)throw new M;V.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&V.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(l)throw new M;V.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&V.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}V.SYMBOL_WIDEST=[7,5,4,3,1],V.EVEN_TOTAL_SUBSET=[4,20,52,104,204],V.GSUM=[0,348,1388,2948,3988],V.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],V.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],V.FINDER_PAT_A=0,V.FINDER_PAT_B=1,V.FINDER_PAT_C=2,V.FINDER_PAT_D=3,V.FINDER_PAT_E=4,V.FINDER_PAT_F=5,V.FINDER_PATTERN_SEQUENCES=[[V.FINDER_PAT_A,V.FINDER_PAT_A],[V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B],[V.FINDER_PAT_A,V.FINDER_PAT_C,V.FINDER_PAT_B,V.FINDER_PAT_D],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_C],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_D,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_E,V.FINDER_PAT_B,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_D],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_E],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F],[V.FINDER_PAT_A,V.FINDER_PAT_A,V.FINDER_PAT_B,V.FINDER_PAT_B,V.FINDER_PAT_C,V.FINDER_PAT_D,V.FINDER_PAT_D,V.FINDER_PAT_E,V.FINDER_PAT_E,V.FINDER_PAT_F,V.FINDER_PAT_F]],V.MAX_PAIRS=11;class g1 extends sn{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ot extends _t{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);ot.addOrTally(this.possibleLeftPairs,n),t.reverse();let i=this.decodePair(t,!0,e,r);ot.addOrTally(this.possibleRightPairs,i),t.reverse();for(let o of this.possibleLeftPairs)if(o.getCount()>1){for(let l of this.possibleRightPairs)if(l.getCount()>1&&ot.checkChecksum(o,l))return ot.constructResult(o,l)}throw new M}static addOrTally(e,t){if(t==null)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),i=new ae;for(let d=13-n.length;d>0;d--)i.append("0");i.append(n);let o=0;for(let d=0;d<13;d++){let p=i.charAt(d).charCodeAt(0)-48;o+=(d&1)===0?3*p:p}o=10-o%10,o===10&&(o=0),i.append(o.toString());let l=e.getFinderPattern().getResultPoints(),u=t.getFinderPattern().getResultPoints();return new Ct(i.toString(),null,0,[l[0],l[1],u[0],u[1]],le.RSS_14,new Date().getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let i=this.findFinderPattern(e,t),o=this.parseFoundFinderPattern(e,r,t,i),l=n==null?null:n.get(Ne.NEED_RESULT_POINT_CALLBACK);if(l!=null){let p=(i[0]+i[1])/2;t&&(p=e.getSize()-1-p),l.foundPossibleResultPoint(new x(p,r))}let u=this.decodeDataCharacter(e,o,!0),d=this.decodeDataCharacter(e,o,!1);return new g1(1597*u.getValue()+d.getValue(),u.getChecksumPortion()+4*d.getChecksumPortion(),o)}catch{return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let B=0;B<n.length;B++)n[B]=0;if(r)tt.recordPatternInReverse(e,t.getStartEnd()[0],n);else{tt.recordPattern(e,t.getStartEnd()[1]+1,n);for(let B=0,L=n.length-1;B<L;B++,L--){let J=n[B];n[B]=n[L],n[L]=J}}let i=r?16:15,o=k.sum(new Int32Array(n))/i,l=this.getOddCounts(),u=this.getEvenCounts(),d=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let B=0;B<n.length;B++){let L=n[B]/o,J=Math.floor(L+.5);J<1?J=1:J>8&&(J=8);let q=Math.floor(B/2);(B&1)===0?(l[q]=J,d[q]=L-J):(u[q]=J,p[q]=L-J)}this.adjustOddEvenCounts(r,i);let m=0,A=0;for(let B=l.length-1;B>=0;B--)A*=9,A+=l[B],m+=l[B];let _=0,b=0;for(let B=u.length-1;B>=0;B--)_*=9,_+=u[B],b+=u[B];let D=A+3*_;if(r){if((m&1)!==0||m>12||m<4)throw new M;let B=(12-m)/2,L=ot.OUTSIDE_ODD_WIDEST[B],J=9-L,q=lr.getRSSvalue(l,L,!1),X=lr.getRSSvalue(u,J,!0),Oe=ot.OUTSIDE_EVEN_TOTAL_SUBSET[B],Ie=ot.OUTSIDE_GSUM[B];return new sn(q*Oe+X+Ie,D)}else{if((b&1)!==0||b>10||b<4)throw new M;let B=(10-b)/2,L=ot.INSIDE_ODD_WIDEST[B],J=9-L,q=lr.getRSSvalue(l,L,!0),X=lr.getRSSvalue(u,J,!1),Oe=ot.INSIDE_ODD_TOTAL_SUBSET[B],Ie=ot.INSIDE_GSUM[B];return new sn(X*Oe+q+Ie,D)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),i=!1,o=0;for(;o<n&&(i=!e.get(o),t!==i);)o++;let l=0,u=o;for(let d=o;d<n;d++)if(e.get(d)!==i)r[l]++;else{if(l===3){if(_t.isFinderPattern(r))return[u,d];u+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,l--}else l++;r[l]=1,i=!i}throw new M}parseFoundFinderPattern(e,t,r,n){let i=e.get(n[0]),o=n[0]-1;for(;o>=0&&i!==e.get(o);)o--;o++;const l=n[0]-o,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);re.arraycopy(u,0,d,1,u.length-1),d[0]=l;const p=this.parseFinderValue(d,ot.FINDER_PATTERNS);let m=o,A=n[1];return r&&(m=e.getSize()-1-m,A=e.getSize()-1-A),new Jn(p,[o,n[1]],m,A,t)}adjustOddEvenCounts(e,t){let r=k.sum(new Int32Array(this.getOddCounts())),n=k.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,l=!1,u=!1;e?(r>12?o=!0:r<4&&(i=!0),n>12?u=!0:n<4&&(l=!0)):(r>11?o=!0:r<5&&(i=!0),n>10?u=!0:n<4&&(l=!0));let d=r+n-t,p=(r&1)===(e?1:0),m=(n&1)===1;if(d===1)if(p){if(m)throw new M;o=!0}else{if(!m)throw new M;u=!0}else if(d===-1)if(p){if(m)throw new M;i=!0}else{if(!m)throw new M;l=!0}else if(d===0){if(p){if(!m)throw new M;r<n?(i=!0,u=!0):(o=!0,l=!0)}else if(m)throw new M}else throw new M;if(i){if(o)throw new M;_t.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&_t.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new M;_t.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&_t.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ot.OUTSIDE_GSUM=[0,161,961,2015,2715],ot.INSIDE_GSUM=[0,336,1036,1516],ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ot.INSIDE_ODD_WIDEST=[2,4,6,8],ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ln extends tt{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const r=e?e.get(Ne.POSSIBLE_FORMATS):null,n=e&&e.get(Ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(le.EAN_13)||r.includes(le.UPC_A)||r.includes(le.EAN_8)||r.includes(le.UPC_E))&&this.readers.push(new Ui(e)),r.includes(le.CODE_39)&&this.readers.push(new Ue(n)),r.includes(le.CODE_128)&&this.readers.push(new j),r.includes(le.ITF)&&this.readers.push(new Ve),r.includes(le.RSS_14)&&this.readers.push(new ot),r.includes(le.RSS_EXPANDED)&&this.readers.push(new V(this.verbose))):(this.readers.push(new Ui(e)),this.readers.push(new Ue),this.readers.push(new Ui(e)),this.readers.push(new j),this.readers.push(new Ve),this.readers.push(new ot),this.readers.push(new V(this.verbose)))}decodeRow(e,t,r){for(let n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch{}throw new M}reset(){this.readers.forEach(e=>e.reset())}}class p1 extends or{constructor(e=500,t){super(new ln(t),e,t)}}class He{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xe{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ve{constructor(e,t,r,n,i,o){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=o;let l=0;const u=o.getECCodewords(),d=o.getECBlocks();for(let p of d)l+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if((e&1)!==0||(t&1)!==0)throw new Q;for(let r of ve.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new Q}toString(){return""+this.versionNumber}static buildVersions(){return[new ve(1,10,10,8,8,new He(5,new xe(1,3))),new ve(2,12,12,10,10,new He(7,new xe(1,5))),new ve(3,14,14,12,12,new He(10,new xe(1,8))),new ve(4,16,16,14,14,new He(12,new xe(1,12))),new ve(5,18,18,16,16,new He(14,new xe(1,18))),new ve(6,20,20,18,18,new He(18,new xe(1,22))),new ve(7,22,22,20,20,new He(20,new xe(1,30))),new ve(8,24,24,22,22,new He(24,new xe(1,36))),new ve(9,26,26,24,24,new He(28,new xe(1,44))),new ve(10,32,32,14,14,new He(36,new xe(1,62))),new ve(11,36,36,16,16,new He(42,new xe(1,86))),new ve(12,40,40,18,18,new He(48,new xe(1,114))),new ve(13,44,44,20,20,new He(56,new xe(1,144))),new ve(14,48,48,22,22,new He(68,new xe(1,174))),new ve(15,52,52,24,24,new He(42,new xe(2,102))),new ve(16,64,64,14,14,new He(56,new xe(2,140))),new ve(17,72,72,16,16,new He(36,new xe(4,92))),new ve(18,80,80,18,18,new He(48,new xe(4,114))),new ve(19,88,88,20,20,new He(56,new xe(4,144))),new ve(20,96,96,22,22,new He(68,new xe(4,174))),new ve(21,104,104,24,24,new He(56,new xe(6,136))),new ve(22,120,120,18,18,new He(68,new xe(6,175))),new ve(23,132,132,20,20,new He(62,new xe(8,163))),new ve(24,144,144,22,22,new He(62,new xe(8,156),new xe(2,155))),new ve(25,8,18,6,16,new He(7,new xe(1,5))),new ve(26,8,32,6,14,new He(11,new xe(1,10))),new ve(27,12,26,10,24,new He(14,new xe(1,16))),new ve(28,12,36,10,16,new He(18,new xe(1,22))),new ve(29,16,36,14,16,new He(24,new xe(1,32))),new ve(30,16,48,14,22,new He(28,new xe(1,49)))]}}ve.VERSIONS=ve.buildVersions();class Gi{constructor(e){const t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new Q;this.version=Gi.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ge(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return ve.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let l=!1,u=!1,d=!1,p=!1;do if(r===i&&n===0&&!l)e[t++]=this.readCorner1(i,o)&255,r-=2,n+=2,l=!0;else if(r===i-2&&n===0&&(o&3)!==0&&!u)e[t++]=this.readCorner2(i,o)&255,r-=2,n+=2,u=!0;else if(r===i+4&&n===2&&(o&7)===0&&!d)e[t++]=this.readCorner3(i,o)&255,r-=2,n+=2,d=!0;else if(r===i-2&&n===0&&(o&7)===4&&!p)e[t++]=this.readCorner4(i,o)&255,r-=2,n+=2,p=!0;else{do r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,o)&255),r-=2,n+=2;while(r>=0&&n<o);r+=1,n+=3;do r>=0&&n<o&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,o)&255),r+=2,n-=2;while(r<i&&n>=0);r+=3,n+=1}while(r<i||n<o);if(t!==this.version.getTotalCodewords())throw new Q;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new R("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=t/n|0,l=r/i|0,u=o*n,d=l*i,p=new ge(d,u);for(let m=0;m<o;++m){const A=m*n;for(let _=0;_<l;++_){const b=_*i;for(let D=0;D<n;++D){const B=m*(n+2)+1+D,L=A+D;for(let J=0;J<i;++J){const q=_*(i+2)+1+J;if(e.get(q,B)){const X=b+J;p.set(X,L)}}}}}return p}}class Xi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const i=r.getECBlocks();for(let b of i)n+=b.getCount();const o=new Array(n);let l=0;for(let b of i)for(let D=0;D<b.getCount();D++){const B=b.getDataCodewords(),L=r.getECCodewords()+B;o[l++]=new Xi(B,new Uint8Array(L))}const u=o[0].codewords.length-r.getECCodewords(),d=u-1;let p=0;for(let b=0;b<d;b++)for(let D=0;D<l;D++)o[D].codewords[b]=e[p++];const m=t.getVersionNumber()===24,A=m?8:l;for(let b=0;b<A;b++)o[b].codewords[u-1]=e[p++];const _=o[0].codewords.length;for(let b=u;b<_;b++)for(let D=0;D<l;D++){const B=m?(D+8)%l:D,L=m&&B>7?b-1:b;o[B].codewords[L]=e[p++]}if(p!==e.length)throw new R;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class zi{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new R(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const i=this.bytes;if(r>0){const o=8-r,l=e<o?e:o,u=o-l,d=255>>8-l<<u;t=(i[n]&d)>>u,e-=l,r+=l,r===8&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|i[n]&255,n++,e-=8;if(e>0){const o=8-e,l=255>>o<<o;t=t<<e|(i[n]&l)>>o,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var dt;(function(w){w[w.PAD_ENCODE=0]="PAD_ENCODE",w[w.ASCII_ENCODE=1]="ASCII_ENCODE",w[w.C40_ENCODE=2]="C40_ENCODE",w[w.TEXT_ENCODE=3]="TEXT_ENCODE",w[w.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",w[w.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",w[w.BASE256_ENCODE=6]="BASE256_ENCODE"})(dt||(dt={}));class Mr{static decode(e){const t=new zi(e),r=new ae,n=new ae,i=new Array;let o=dt.ASCII_ENCODE;do if(o===dt.ASCII_ENCODE)o=this.decodeAsciiSegment(t,r,n);else{switch(o){case dt.C40_ENCODE:this.decodeC40Segment(t,r);break;case dt.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case dt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case dt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case dt.BASE256_ENCODE:this.decodeBase256Segment(t,r,i);break;default:throw new Q}o=dt.ASCII_ENCODE}while(o!==dt.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new Dr(e,r.toString(),i.length===0?null:i,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let i=e.readBits(8);if(i===0)throw new Q;if(i<=128)return n&&(i+=128),t.append(String.fromCharCode(i-1)),dt.ASCII_ENCODE;if(i===129)return dt.PAD_ENCODE;if(i<=229){const o=i-130;o<10&&t.append("0"),t.append(""+o)}else switch(i){case 230:return dt.C40_ENCODE;case 231:return dt.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return dt.ANSIX12_ENCODE;case 239:return dt.TEXT_ENCODE;case 240:return dt.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new Q;break}}while(e.available()>0);return dt.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let i=0;do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),n);for(let l=0;l<3;l++){const u=n[l];switch(i){case 0:if(u<3)i=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const d=this.C40_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else throw new Q;break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const d=this.C40_SHIFT2_SET_CHARS[u];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else switch(u){case 27:t.append("");break;case 30:r=!0;break;default:throw new Q}i=0;break;case 3:r?(t.append(String.fromCharCode(u+224)),r=!1):t.append(String.fromCharCode(u+96)),i=0;break;default:throw new Q}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],i=0;do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),n);for(let l=0;l<3;l++){const u=n[l];switch(i){case 0:if(u<3)i=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const d=this.TEXT_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else throw new Q;break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const d=this.TEXT_SHIFT2_SET_CHARS[u];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d)}else switch(u){case 27:t.append("");break;case 30:r=!0;break;default:throw new Q}i=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const d=this.TEXT_SHIFT3_SET_CHARS[u];r?(t.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):t.append(d),i=0}else throw new Q;break;default:throw new Q}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(e.available()===8)return;const n=e.readBits(8);if(n===254)return;this.parseTwoBytes(n,e.readBits(8),r);for(let i=0;i<3;i++){const o=r[i];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new Q;break}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=i*1600,i=Math.floor(n/40),r[1]=i,r[2]=n-i*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let n=e.readBits(6);if(n===31){const i=8-e.getBitOffset();i!==8&&e.readBits(i);return}(n&32)===0&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),n++);let o;if(i===0?o=e.available()/8|0:i<250?o=i:o=250*(i-249)+this.unrandomize255State(e.readBits(8),n++),o<0)throw new Q;const l=new Uint8Array(o);for(let u=0;u<o;u++){if(e.available()<8)throw new Q;l[u]=this.unrandomize255State(e.readBits(8),n++)}r.push(l);try{t.append(nt.decode(l,fe.ISO88591))}catch(u){throw new U("Platform does not support required encoding: "+u.message)}}static unrandomize255State(e,t){const r=149*t%255+1,n=e-r;return n>=0?n:n+256}}Mr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Mr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Mr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Mr.TEXT_SHIFT2_SET_CHARS=Mr.C40_SHIFT2_SET_CHARS,Mr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class w1{constructor(){this.rsDecoder=new W(P.DATA_MATRIX_FIELD_256)}decode(e){const t=new Gi(e),r=t.getVersion(),n=t.readCodewords(),i=Xi.getDataBlocks(n,r);let o=0;for(let d of i)o+=d.getNumDataCodewords();const l=new Uint8Array(o),u=i.length;for(let d=0;d<u;d++){const p=i[d],m=p.getCodewords(),A=p.getNumDataCodewords();this.correctErrors(m,A);for(let _=0;_<A;_++)l[_*u+d]=m[_]}return Mr.decode(l)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Z}for(let n=0;n<t;n++)e[n]=r[n]}}class ht{constructor(e){this.image=e,this.rectangleDetector=new he(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new M;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],i=t[2],o=t[3];let l=this.transitionsBetween(r,o)+1,u=this.transitionsBetween(i,o)+1;(l&1)===1&&(l+=1),(u&1)===1&&(u+=1),4*l<7*u&&4*u<7*l&&(l=u=Math.max(l,u));let d=ht.sampleGrid(this.image,r,n,i,o,l,u);return new te(d,[r,n,i,o])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),i=(t.getY()-e.getY())/(r+1);return new x(e.getX()+n,e.getY()+i)}static moveAway(e,t,r){let n=e.getX(),i=e.getY();return n<t?n-=1:n+=1,i<r?i-=1:i+=1,new x(n,i)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],i=e[2],o=this.transitionsBetween(t,r),l=this.transitionsBetween(r,n),u=this.transitionsBetween(n,i),d=this.transitionsBetween(i,t),p=o,m=[i,t,r,n];return p>l&&(p=l,m[0]=t,m[1]=r,m[2]=n,m[3]=i),p>u&&(p=u,m[0]=r,m[1]=n,m[2]=i,m[3]=t),p>d&&(m[0]=n,m[1]=i,m[2]=t,m[3]=r),m}detectSolid2(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i),l=ht.shiftPoint(r,n,(o+1)*4),u=ht.shiftPoint(n,r,(o+1)*4),d=this.transitionsBetween(l,t),p=this.transitionsBetween(u,i);return d<p?(e[0]=t,e[1]=r,e[2]=n,e[3]=i):(e[0]=r,e[1]=n,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i),l=this.transitionsBetween(r,i),u=ht.shiftPoint(t,r,(l+1)*4),d=ht.shiftPoint(n,r,(o+1)*4);o=this.transitionsBetween(u,i),l=this.transitionsBetween(d,i);let p=new x(i.getX()+(n.getX()-r.getX())/(o+1),i.getY()+(n.getY()-r.getY())/(o+1)),m=new x(i.getX()+(t.getX()-r.getX())/(l+1),i.getY()+(t.getY()-r.getY())/(l+1));if(!this.isValid(p))return this.isValid(m)?m:null;if(!this.isValid(m))return p;let A=this.transitionsBetween(u,p)+this.transitionsBetween(d,p),_=this.transitionsBetween(u,m)+this.transitionsBetween(d,m);return A>_?p:m}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i)+1,l=this.transitionsBetween(n,i)+1,u=ht.shiftPoint(t,r,l*4),d=ht.shiftPoint(n,r,o*4);o=this.transitionsBetween(u,i)+1,l=this.transitionsBetween(d,i)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);let p=(t.getX()+r.getX()+n.getX()+i.getX())/4,m=(t.getY()+r.getY()+n.getY()+i.getY())/4;t=ht.moveAway(t,p,m),r=ht.moveAway(r,p,m),n=ht.moveAway(n,p,m),i=ht.moveAway(i,p,m);let A,_;return u=ht.shiftPoint(t,r,l*4),u=ht.shiftPoint(u,i,o*4),A=ht.shiftPoint(r,t,l*4),A=ht.shiftPoint(A,n,o*4),d=ht.shiftPoint(n,i,l*4),d=ht.shiftPoint(d,r,o*4),_=ht.shiftPoint(i,n,l*4),_=ht.shiftPoint(_,t,o*4),[u,A,d,_]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,i,o,l){return et.getInstance().sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.abs(o-n)>Math.abs(i-r);if(l){let D=r;r=n,n=D,D=i,i=o,o=D}let u=Math.abs(i-r),d=Math.abs(o-n),p=-u/2,m=n<o?1:-1,A=r<i?1:-1,_=0,b=this.image.get(l?n:r,l?r:n);for(let D=r,B=n;D!==i;D+=A){let L=this.image.get(l?B:D,l?D:B);if(L!==b&&(_++,b=L),p+=d,p>0){if(B===o)break;B+=m,p-=u}}return _}}class Br{constructor(){this.decoder=new w1}decode(e,t=null){let r,n;if(t!=null&&t.has(Ne.PURE_BARCODE)){const d=Br.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(d),n=Br.NO_POINTS}else{const d=new ht(e.getBlackMatrix()).detect();r=this.decoder.decode(d.getBits()),n=d.getPoints()}const i=r.getRawBytes(),o=new Ct(r.getText(),i,8*i.length,n,le.DATA_MATRIX,re.currentTimeMillis()),l=r.getByteSegments();l!=null&&o.putMetadata(it.BYTE_SEGMENTS,l);const u=r.getECLevel();return u!=null&&o.putMetadata(it.ERROR_CORRECTION_LEVEL,u),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new M;const n=this.moduleSize(t,e);let i=t[1];const o=r[1];let l=t[0];const u=(r[0]-l+1)/n,d=(o-i+1)/n;if(u<=0||d<=0)throw new M;const p=n/2;i+=p,l+=p;const m=new ge(u,d);for(let A=0;A<d;A++){const _=i+A*n;for(let b=0;b<u;b++)e.get(l+b*n,_)&&m.set(b,A)}return m}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const i=e[1];for(;n<r&&t.get(n,i);)n++;if(n===r)throw new M;const o=n-e[0];if(o===0)throw new M;return o}}Br.NO_POINTS=[];class m1 extends or{constructor(e=500){super(new Br,e)}}var cn;(function(w){w[w.L=0]="L",w[w.M=1]="M",w[w.Q=2]="Q",w[w.H=3]="H"})(cn||(cn={}));class Ke{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,Ke.FOR_BITS.set(r,this),Ke.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Ke.L;case"M":return Ke.M;case"Q":return Ke.Q;case"H":return Ke.H;default:throw new N(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Ke))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Ke.FOR_BITS.size)throw new R;return Ke.FOR_BITS.get(e)}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.L=new Ke(cn.L,"L",1),Ke.M=new Ke(cn.M,"M",0),Ke.Q=new Ke(cn.Q,"Q",3),Ke.H=new Ke(cn.H,"H",2);class Tt{constructor(e){this.errorCorrectionLevel=Ke.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return ne.bitCount(e^t)}static decodeFormatInformation(e,t){const r=Tt.doDecodeFormatInformation(e,t);return r!==null?r:Tt.doDecodeFormatInformation(e^Tt.FORMAT_INFO_MASK_QR,t^Tt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const i of Tt.FORMAT_INFO_DECODE_LOOKUP){const o=i[0];if(o===e||o===t)return new Tt(i[1]);let l=Tt.numBitsDiffering(e,o);l<r&&(n=i[1],r=l),e!==t&&(l=Tt.numBitsDiffering(t,o),l<r&&(n=i[1],r=l))}return r<=3?new Tt(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Tt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Tt.FORMAT_INFO_MASK_QR=21522,Tt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class v{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class y{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ue{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const i=r[0].getECCodewordsPerBlock(),o=r[0].getECBlocks();for(const l of o)n+=l.getCount()*(l.getDataCodewords()+i);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new Q;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Q}}static getVersionForNumber(e){if(e<1||e>40)throw new R;return ue.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<ue.VERSION_DECODE_INFO.length;n++){const i=ue.VERSION_DECODE_INFO[n];if(i===e)return ue.getVersionForNumber(n+7);const o=Tt.numBitsDiffering(e,i);o<t&&(r=n+7,t=o)}return t<=3?ue.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new ge(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let n=0;n<r;n++){const i=this.alignmentPatternCenters[n]-2;for(let o=0;o<r;o++)n===0&&(o===0||o===r-1)||n===r-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,i,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}ue.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ue.VERSIONS=[new ue(1,new Int32Array(0),new v(7,new y(1,19)),new v(10,new y(1,16)),new v(13,new y(1,13)),new v(17,new y(1,9))),new ue(2,Int32Array.from([6,18]),new v(10,new y(1,34)),new v(16,new y(1,28)),new v(22,new y(1,22)),new v(28,new y(1,16))),new ue(3,Int32Array.from([6,22]),new v(15,new y(1,55)),new v(26,new y(1,44)),new v(18,new y(2,17)),new v(22,new y(2,13))),new ue(4,Int32Array.from([6,26]),new v(20,new y(1,80)),new v(18,new y(2,32)),new v(26,new y(2,24)),new v(16,new y(4,9))),new ue(5,Int32Array.from([6,30]),new v(26,new y(1,108)),new v(24,new y(2,43)),new v(18,new y(2,15),new y(2,16)),new v(22,new y(2,11),new y(2,12))),new ue(6,Int32Array.from([6,34]),new v(18,new y(2,68)),new v(16,new y(4,27)),new v(24,new y(4,19)),new v(28,new y(4,15))),new ue(7,Int32Array.from([6,22,38]),new v(20,new y(2,78)),new v(18,new y(4,31)),new v(18,new y(2,14),new y(4,15)),new v(26,new y(4,13),new y(1,14))),new ue(8,Int32Array.from([6,24,42]),new v(24,new y(2,97)),new v(22,new y(2,38),new y(2,39)),new v(22,new y(4,18),new y(2,19)),new v(26,new y(4,14),new y(2,15))),new ue(9,Int32Array.from([6,26,46]),new v(30,new y(2,116)),new v(22,new y(3,36),new y(2,37)),new v(20,new y(4,16),new y(4,17)),new v(24,new y(4,12),new y(4,13))),new ue(10,Int32Array.from([6,28,50]),new v(18,new y(2,68),new y(2,69)),new v(26,new y(4,43),new y(1,44)),new v(24,new y(6,19),new y(2,20)),new v(28,new y(6,15),new y(2,16))),new ue(11,Int32Array.from([6,30,54]),new v(20,new y(4,81)),new v(30,new y(1,50),new y(4,51)),new v(28,new y(4,22),new y(4,23)),new v(24,new y(3,12),new y(8,13))),new ue(12,Int32Array.from([6,32,58]),new v(24,new y(2,92),new y(2,93)),new v(22,new y(6,36),new y(2,37)),new v(26,new y(4,20),new y(6,21)),new v(28,new y(7,14),new y(4,15))),new ue(13,Int32Array.from([6,34,62]),new v(26,new y(4,107)),new v(22,new y(8,37),new y(1,38)),new v(24,new y(8,20),new y(4,21)),new v(22,new y(12,11),new y(4,12))),new ue(14,Int32Array.from([6,26,46,66]),new v(30,new y(3,115),new y(1,116)),new v(24,new y(4,40),new y(5,41)),new v(20,new y(11,16),new y(5,17)),new v(24,new y(11,12),new y(5,13))),new ue(15,Int32Array.from([6,26,48,70]),new v(22,new y(5,87),new y(1,88)),new v(24,new y(5,41),new y(5,42)),new v(30,new y(5,24),new y(7,25)),new v(24,new y(11,12),new y(7,13))),new ue(16,Int32Array.from([6,26,50,74]),new v(24,new y(5,98),new y(1,99)),new v(28,new y(7,45),new y(3,46)),new v(24,new y(15,19),new y(2,20)),new v(30,new y(3,15),new y(13,16))),new ue(17,Int32Array.from([6,30,54,78]),new v(28,new y(1,107),new y(5,108)),new v(28,new y(10,46),new y(1,47)),new v(28,new y(1,22),new y(15,23)),new v(28,new y(2,14),new y(17,15))),new ue(18,Int32Array.from([6,30,56,82]),new v(30,new y(5,120),new y(1,121)),new v(26,new y(9,43),new y(4,44)),new v(28,new y(17,22),new y(1,23)),new v(28,new y(2,14),new y(19,15))),new ue(19,Int32Array.from([6,30,58,86]),new v(28,new y(3,113),new y(4,114)),new v(26,new y(3,44),new y(11,45)),new v(26,new y(17,21),new y(4,22)),new v(26,new y(9,13),new y(16,14))),new ue(20,Int32Array.from([6,34,62,90]),new v(28,new y(3,107),new y(5,108)),new v(26,new y(3,41),new y(13,42)),new v(30,new y(15,24),new y(5,25)),new v(28,new y(15,15),new y(10,16))),new ue(21,Int32Array.from([6,28,50,72,94]),new v(28,new y(4,116),new y(4,117)),new v(26,new y(17,42)),new v(28,new y(17,22),new y(6,23)),new v(30,new y(19,16),new y(6,17))),new ue(22,Int32Array.from([6,26,50,74,98]),new v(28,new y(2,111),new y(7,112)),new v(28,new y(17,46)),new v(30,new y(7,24),new y(16,25)),new v(24,new y(34,13))),new ue(23,Int32Array.from([6,30,54,78,102]),new v(30,new y(4,121),new y(5,122)),new v(28,new y(4,47),new y(14,48)),new v(30,new y(11,24),new y(14,25)),new v(30,new y(16,15),new y(14,16))),new ue(24,Int32Array.from([6,28,54,80,106]),new v(30,new y(6,117),new y(4,118)),new v(28,new y(6,45),new y(14,46)),new v(30,new y(11,24),new y(16,25)),new v(30,new y(30,16),new y(2,17))),new ue(25,Int32Array.from([6,32,58,84,110]),new v(26,new y(8,106),new y(4,107)),new v(28,new y(8,47),new y(13,48)),new v(30,new y(7,24),new y(22,25)),new v(30,new y(22,15),new y(13,16))),new ue(26,Int32Array.from([6,30,58,86,114]),new v(28,new y(10,114),new y(2,115)),new v(28,new y(19,46),new y(4,47)),new v(28,new y(28,22),new y(6,23)),new v(30,new y(33,16),new y(4,17))),new ue(27,Int32Array.from([6,34,62,90,118]),new v(30,new y(8,122),new y(4,123)),new v(28,new y(22,45),new y(3,46)),new v(30,new y(8,23),new y(26,24)),new v(30,new y(12,15),new y(28,16))),new ue(28,Int32Array.from([6,26,50,74,98,122]),new v(30,new y(3,117),new y(10,118)),new v(28,new y(3,45),new y(23,46)),new v(30,new y(4,24),new y(31,25)),new v(30,new y(11,15),new y(31,16))),new ue(29,Int32Array.from([6,30,54,78,102,126]),new v(30,new y(7,116),new y(7,117)),new v(28,new y(21,45),new y(7,46)),new v(30,new y(1,23),new y(37,24)),new v(30,new y(19,15),new y(26,16))),new ue(30,Int32Array.from([6,26,52,78,104,130]),new v(30,new y(5,115),new y(10,116)),new v(28,new y(19,47),new y(10,48)),new v(30,new y(15,24),new y(25,25)),new v(30,new y(23,15),new y(25,16))),new ue(31,Int32Array.from([6,30,56,82,108,134]),new v(30,new y(13,115),new y(3,116)),new v(28,new y(2,46),new y(29,47)),new v(30,new y(42,24),new y(1,25)),new v(30,new y(23,15),new y(28,16))),new ue(32,Int32Array.from([6,34,60,86,112,138]),new v(30,new y(17,115)),new v(28,new y(10,46),new y(23,47)),new v(30,new y(10,24),new y(35,25)),new v(30,new y(19,15),new y(35,16))),new ue(33,Int32Array.from([6,30,58,86,114,142]),new v(30,new y(17,115),new y(1,116)),new v(28,new y(14,46),new y(21,47)),new v(30,new y(29,24),new y(19,25)),new v(30,new y(11,15),new y(46,16))),new ue(34,Int32Array.from([6,34,62,90,118,146]),new v(30,new y(13,115),new y(6,116)),new v(28,new y(14,46),new y(23,47)),new v(30,new y(44,24),new y(7,25)),new v(30,new y(59,16),new y(1,17))),new ue(35,Int32Array.from([6,30,54,78,102,126,150]),new v(30,new y(12,121),new y(7,122)),new v(28,new y(12,47),new y(26,48)),new v(30,new y(39,24),new y(14,25)),new v(30,new y(22,15),new y(41,16))),new ue(36,Int32Array.from([6,24,50,76,102,128,154]),new v(30,new y(6,121),new y(14,122)),new v(28,new y(6,47),new y(34,48)),new v(30,new y(46,24),new y(10,25)),new v(30,new y(2,15),new y(64,16))),new ue(37,Int32Array.from([6,28,54,80,106,132,158]),new v(30,new y(17,122),new y(4,123)),new v(28,new y(29,46),new y(14,47)),new v(30,new y(49,24),new y(10,25)),new v(30,new y(24,15),new y(46,16))),new ue(38,Int32Array.from([6,32,58,84,110,136,162]),new v(30,new y(4,122),new y(18,123)),new v(28,new y(13,46),new y(32,47)),new v(30,new y(48,24),new y(14,25)),new v(30,new y(42,15),new y(32,16))),new ue(39,Int32Array.from([6,26,54,82,110,138,166]),new v(30,new y(20,117),new y(4,118)),new v(28,new y(40,47),new y(7,48)),new v(30,new y(43,24),new y(22,25)),new v(30,new y(10,15),new y(67,16))),new ue(40,Int32Array.from([6,30,58,86,114,142,170]),new v(30,new y(19,118),new y(6,119)),new v(28,new y(18,47),new y(31,48)),new v(30,new y(34,24),new y(34,25)),new v(30,new y(20,15),new y(61,16)))];var pt;(function(w){w[w.DATA_MASK_000=0]="DATA_MASK_000",w[w.DATA_MASK_001=1]="DATA_MASK_001",w[w.DATA_MASK_010=2]="DATA_MASK_010",w[w.DATA_MASK_011=3]="DATA_MASK_011",w[w.DATA_MASK_100=4]="DATA_MASK_100",w[w.DATA_MASK_101=5]="DATA_MASK_101",w[w.DATA_MASK_110=6]="DATA_MASK_110",w[w.DATA_MASK_111=7]="DATA_MASK_111"})(pt||(pt={}));class Qt{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}Qt.values=new Map([[pt.DATA_MASK_000,new Qt(pt.DATA_MASK_000,(w,e)=>(w+e&1)===0)],[pt.DATA_MASK_001,new Qt(pt.DATA_MASK_001,(w,e)=>(w&1)===0)],[pt.DATA_MASK_010,new Qt(pt.DATA_MASK_010,(w,e)=>e%3===0)],[pt.DATA_MASK_011,new Qt(pt.DATA_MASK_011,(w,e)=>(w+e)%3===0)],[pt.DATA_MASK_100,new Qt(pt.DATA_MASK_100,(w,e)=>(Math.floor(w/2)+Math.floor(e/3)&1)===0)],[pt.DATA_MASK_101,new Qt(pt.DATA_MASK_101,(w,e)=>w*e%6===0)],[pt.DATA_MASK_110,new Qt(pt.DATA_MASK_110,(w,e)=>w*e%6<3)],[pt.DATA_MASK_111,new Qt(pt.DATA_MASK_111,(w,e)=>(w+e+w*e%3&1)===0)]]);class E1{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new Q;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let i=t-1;i>=n;i--)r=this.copyBit(8,i,r);for(let i=t-8;i<t;i++)r=this.copyBit(i,8,r);if(this.parsedFormatInfo=Tt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return ue.getVersionForNumber(t);let r=0;const n=e-11;for(let o=5;o>=0;o--)for(let l=e-9;l>=n;l--)r=this.copyBit(l,o,r);let i=ue.decodeVersionInformation(r);if(i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;r=0;for(let o=5;o>=0;o--)for(let l=e-9;l>=n;l--)r=this.copyBit(o,l,r);if(i=ue.decodeVersionInformation(r),i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new Q}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=Qt.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const i=t.buildFunctionPattern();let o=!0;const l=new Uint8Array(t.getTotalCodewords());let u=0,d=0,p=0;for(let m=n-1;m>0;m-=2){m===6&&m--;for(let A=0;A<n;A++){const _=o?n-1-A:A;for(let b=0;b<2;b++)i.get(m-b,_)||(p++,d<<=1,this.bitMatrix.get(m-b,_)&&(d|=1),p===8&&(l[u++]=d,p=0,d=0))}o=!o}if(u!==t.getTotalCodewords())throw new Q;return l}remask(){if(this.parsedFormatInfo===null)return;const e=Qt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class Yi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new R;const n=t.getECBlocksForLevel(r);let i=0;const o=n.getECBlocks();for(const b of o)i+=b.getCount();const l=new Array(i);let u=0;for(const b of o)for(let D=0;D<b.getCount();D++){const B=b.getDataCodewords(),L=n.getECCodewordsPerBlock()+B;l[u++]=new Yi(B,new Uint8Array(L))}const d=l[0].codewords.length;let p=l.length-1;for(;p>=0&&l[p].codewords.length!==d;)p--;p++;const m=d-n.getECCodewordsPerBlock();let A=0;for(let b=0;b<m;b++)for(let D=0;D<u;D++)l[D].codewords[b]=e[A++];for(let b=p;b<u;b++)l[b].codewords[m]=e[A++];const _=l[0].codewords.length;for(let b=m;b<_;b++)for(let D=0;D<u;D++){const B=D<p?b:b+1;l[D].codewords[B]=e[A++]}return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var $t;(function(w){w[w.TERMINATOR=0]="TERMINATOR",w[w.NUMERIC=1]="NUMERIC",w[w.ALPHANUMERIC=2]="ALPHANUMERIC",w[w.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",w[w.BYTE=4]="BYTE",w[w.ECI=5]="ECI",w[w.KANJI=6]="KANJI",w[w.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",w[w.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",w[w.HANZI=9]="HANZI"})($t||($t={}));class pe{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,pe.FOR_BITS.set(n,this),pe.FOR_VALUE.set(e,this)}static forBits(e){const t=pe.FOR_BITS.get(e);if(t===void 0)throw new R;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof pe))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}pe.FOR_BITS=new Map,pe.FOR_VALUE=new Map,pe.TERMINATOR=new pe($t.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),pe.NUMERIC=new pe($t.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),pe.ALPHANUMERIC=new pe($t.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),pe.STRUCTURED_APPEND=new pe($t.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),pe.BYTE=new pe($t.BYTE,"BYTE",Int32Array.from([8,16,16]),4),pe.ECI=new pe($t.ECI,"ECI",Int32Array.from([0,0,0]),7),pe.KANJI=new pe($t.KANJI,"KANJI",Int32Array.from([8,10,12]),8),pe.FNC1_FIRST_POSITION=new pe($t.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),pe.FNC1_SECOND_POSITION=new pe($t.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),pe.HANZI=new pe($t.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class rt{static decode(e,t,r,n){const i=new zi(e);let o=new ae;const l=new Array;let u=-1,d=-1;try{let p=null,m=!1,A;do{if(i.available()<4)A=pe.TERMINATOR;else{const _=i.readBits(4);A=pe.forBits(_)}switch(A){case pe.TERMINATOR:break;case pe.FNC1_FIRST_POSITION:case pe.FNC1_SECOND_POSITION:m=!0;break;case pe.STRUCTURED_APPEND:if(i.available()<16)throw new Q;u=i.readBits(8),d=i.readBits(8);break;case pe.ECI:const _=rt.parseECIValue(i);if(p=K.getCharacterSetECIByValue(_),p===null)throw new Q;break;case pe.HANZI:const b=i.readBits(4),D=i.readBits(A.getCharacterCountBits(t));b===rt.GB2312_SUBSET&&rt.decodeHanziSegment(i,o,D);break;default:const B=i.readBits(A.getCharacterCountBits(t));switch(A){case pe.NUMERIC:rt.decodeNumericSegment(i,o,B);break;case pe.ALPHANUMERIC:rt.decodeAlphanumericSegment(i,o,B,m);break;case pe.BYTE:rt.decodeByteSegment(i,o,B,p,l,n);break;case pe.KANJI:rt.decodeKanjiSegment(i,o,B);break;default:throw new Q}break}}while(A!==pe.TERMINATOR)}catch{throw new Q}return new Dr(e,o.toString(),l.length===0?null:l,r===null?null:r.toString(),u,d)}static decodeHanziSegment(e,t,r){if(r*13>e.available())throw new Q;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const o=e.readBits(13);let l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,n[i]=l>>8&255,n[i+1]=l&255,i+=2,r--}try{t.append(nt.decode(n,fe.GB2312))}catch(o){throw new Q(o)}}static decodeKanjiSegment(e,t,r){if(r*13>e.available())throw new Q;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const o=e.readBits(13);let l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,n[i]=l>>8,n[i+1]=l,i+=2,r--}try{t.append(nt.decode(n,fe.SHIFT_JIS))}catch(o){throw new Q(o)}}static decodeByteSegment(e,t,r,n,i,o){if(8*r>e.available())throw new Q;const l=new Uint8Array(r);for(let d=0;d<r;d++)l[d]=e.readBits(8);let u;n===null?u=fe.guessEncoding(l,o):u=n.getName();try{t.append(nt.decode(l,u))}catch(d){throw new Q(d)}i.push(l)}static toAlphaNumericChar(e){if(e>=rt.ALPHANUMERIC_CHARS.length)throw new Q;return rt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const i=t.length();for(;r>1;){if(e.available()<11)throw new Q;const o=e.readBits(11);t.append(rt.toAlphaNumericChar(Math.floor(o/45))),t.append(rt.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(e.available()<6)throw new Q;t.append(rt.toAlphaNumericChar(e.readBits(6)))}if(n)for(let o=i;o<t.length();o++)t.charAt(o)==="%"&&(o<t.length()-1&&t.charAt(o+1)==="%"?t.deleteCharAt(o+1):t.setCharAt(o,""))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new Q;const n=e.readBits(10);if(n>=1e3)throw new Q;t.append(rt.toAlphaNumericChar(Math.floor(n/100))),t.append(rt.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(rt.toAlphaNumericChar(n%10)),r-=3}if(r===2){if(e.available()<7)throw new Q;const n=e.readBits(7);if(n>=100)throw new Q;t.append(rt.toAlphaNumericChar(Math.floor(n/10))),t.append(rt.toAlphaNumericChar(n%10))}else if(r===1){if(e.available()<4)throw new Q;const n=e.readBits(4);if(n>=10)throw new Q;t.append(rt.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){const r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){const r=e.readBits(16);return(t&31)<<16&4294967295|r}throw new Q}}rt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",rt.GB2312_SUBSET=1;class Js{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class C1{constructor(){this.rsDecoder=new W(P.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(ge.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new E1(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(i){n=i}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const i=this.decodeBitMatrixParser(r,t);return i.setOther(new Js(!0)),i}catch(i){throw n!==null?n:i}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),o=Yi.getDataBlocks(i,r,n);let l=0;for(const p of o)l+=p.getNumDataCodewords();const u=new Uint8Array(l);let d=0;for(const p of o){const m=p.getCodewords(),A=p.getNumDataCodewords();this.correctErrors(m,A);for(let _=0;_<A;_++)u[d++]=m[_]}return rt.decode(u,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new Z}for(let n=0;n<t;n++)e[n]=r[n]}}class Zi extends x{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,i=(this.getY()+e)/2,o=(this.estimatedModuleSize+r)/2;return new Zi(n,i,o)}}class ri{constructor(e,t,r,n,i,o,l){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=this.width,n=e+r,i=this.startY+t/2,o=new Int32Array(3),l=this.image;for(let u=0;u<t;u++){const d=i+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));o[0]=0,o[1]=0,o[2]=0;let p=e;for(;p<n&&!l.get(p,d);)p++;let m=0;for(;p<n;){if(l.get(p,d))if(m===1)o[1]++;else if(m===2){if(this.foundPatternCross(o)){const A=this.handlePossibleCenter(o,d,p);if(A!==null)return A}o[0]=o[2],o[1]=1,o[2]=0,m=1}else o[++m]++;else m===1&&m++,o[m]++;p++}if(this.foundPatternCross(o)){const A=this.handlePossibleCenter(o,d,n);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new M}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const i=this.image,o=i.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;let u=e;for(;u>=0&&i.get(t,u)&&l[1]<=r;)l[1]++,u--;if(u<0||l[1]>r)return NaN;for(;u>=0&&!i.get(t,u)&&l[0]<=r;)l[0]++,u--;if(l[0]>r)return NaN;for(u=e+1;u<o&&i.get(t,u)&&l[1]<=r;)l[1]++,u++;if(u===o||l[1]>r)return NaN;for(;u<o&&!i.get(t,u)&&l[2]<=r;)l[2]++,u++;if(l[2]>r)return NaN;const d=l[0]+l[1]+l[2];return 5*Math.abs(d-n)>=2*n?NaN:this.foundPatternCross(l)?ri.centerFromEnd(l,u):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],i=ri.centerFromEnd(e,r),o=this.crossCheckVertical(t,i,2*e[1],n);if(!isNaN(o)){const l=(e[0]+e[1]+e[2])/3;for(const d of this.possibleCenters)if(d.aboutEquals(l,o,i))return d.combineEstimate(o,i,l);const u=new Zi(i,o,l);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class Ki extends x{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,n===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,i=(this.count*this.getX()+t)/n,o=(this.count*this.getY()+e)/n,l=(this.count*this.estimatedModuleSize+r)/n;return new Ki(i,o,l,n)}}class A1{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(Ne.TRY_HARDER)!==void 0,r=e!=null&&e.get(Ne.PURE_BARCODE)!==void 0,n=this.image,i=n.getHeight(),o=n.getWidth();let l=Math.floor(3*i/(4*wt.MAX_MODULES));(l<wt.MIN_SKIP||t)&&(l=wt.MIN_SKIP);let u=!1;const d=new Int32Array(5);for(let m=l-1;m<i&&!u;m+=l){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;let A=0;for(let _=0;_<o;_++)if(n.get(_,m))(A&1)===1&&A++,d[A]++;else if((A&1)===0)if(A===4)if(wt.foundPatternCross(d)){if(this.handlePossibleCenter(d,m,_,r)===!0)if(l=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const b=this.findRowSkip();b>d[2]&&(m+=b-d[2]-l,_=o-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,A=3;continue}A=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,A=3;else d[++A]++;else d[A]++;wt.foundPatternCross(d)&&this.handlePossibleCenter(d,m,o,r)===!0&&(l=d[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return x.orderBestPatterns(p),new A1(p)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const o=e[i];if(o===0)return!1;t+=o}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const i=this.getCrossCheckStateCount();let o=0;const l=this.image;for(;e>=o&&t>=o&&l.get(t-o,e-o);)i[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!l.get(t-o,e-o)&&i[1]<=r;)i[1]++,o++;if(e<o||t<o||i[1]>r)return!1;for(;e>=o&&t>=o&&l.get(t-o,e-o)&&i[0]<=r;)i[0]++,o++;if(i[0]>r)return!1;const u=l.getHeight(),d=l.getWidth();for(o=1;e+o<u&&t+o<d&&l.get(t+o,e+o);)i[2]++,o++;if(e+o>=u||t+o>=d)return!1;for(;e+o<u&&t+o<d&&!l.get(t+o,e+o)&&i[3]<r;)i[3]++,o++;if(e+o>=u||t+o>=d||i[3]>=r)return!1;for(;e+o<u&&t+o<d&&l.get(t+o,e+o)&&i[4]<r;)i[4]++,o++;if(i[4]>=r)return!1;const p=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(p-n)<2*n&&wt.foundPatternCross(i)}crossCheckVertical(e,t,r,n){const i=this.image,o=i.getHeight(),l=this.getCrossCheckStateCount();let u=e;for(;u>=0&&i.get(t,u);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(t,u)&&l[1]<=r;)l[1]++,u--;if(u<0||l[1]>r)return NaN;for(;u>=0&&i.get(t,u)&&l[0]<=r;)l[0]++,u--;if(l[0]>r)return NaN;for(u=e+1;u<o&&i.get(t,u);)l[2]++,u++;if(u===o)return NaN;for(;u<o&&!i.get(t,u)&&l[3]<r;)l[3]++,u++;if(u===o||l[3]>=r)return NaN;for(;u<o&&i.get(t,u)&&l[4]<r;)l[4]++,u++;if(l[4]>=r)return NaN;const d=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(d-n)>=2*n?NaN:wt.foundPatternCross(l)?wt.centerFromEnd(l,u):NaN}crossCheckHorizontal(e,t,r,n){const i=this.image,o=i.getWidth(),l=this.getCrossCheckStateCount();let u=e;for(;u>=0&&i.get(u,t);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(u,t)&&l[1]<=r;)l[1]++,u--;if(u<0||l[1]>r)return NaN;for(;u>=0&&i.get(u,t)&&l[0]<=r;)l[0]++,u--;if(l[0]>r)return NaN;for(u=e+1;u<o&&i.get(u,t);)l[2]++,u++;if(u===o)return NaN;for(;u<o&&!i.get(u,t)&&l[3]<r;)l[3]++,u++;if(u===o||l[3]>=r)return NaN;for(;u<o&&i.get(u,t)&&l[4]<r;)l[4]++,u++;if(l[4]>=r)return NaN;const d=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(d-n)>=n?NaN:wt.foundPatternCross(l)?wt.centerFromEnd(l,u):NaN}handlePossibleCenter(e,t,r,n){const i=e[0]+e[1]+e[2]+e[3]+e[4];let o=wt.centerFromEnd(e,r),l=this.crossCheckVertical(t,Math.floor(o),e[2],i);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],i),!isNaN(o)&&(!n||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],i)))){const u=i/7;let d=!1;const p=this.possibleCenters;for(let m=0,A=p.length;m<A;m++){const _=p[m];if(_.aboutEquals(u,l,o)){p[m]=_.combineEstimate(l,o,u),d=!0;break}}if(!d){const m=new Ki(o,l,u);p.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=wt.CENTER_QUORUM)if(e==null)e=t;else return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const o of this.possibleCenters)o.getCount()>=wt.CENTER_QUORUM&&(e++,t+=o.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let i=0;for(const o of this.possibleCenters)i+=Math.abs(o.getEstimatedModuleSize()-n);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new M;const t=this.possibleCenters;let r;if(e>3){let n=0,i=0;for(const u of this.possibleCenters){const d=u.getEstimatedModuleSize();n+=d,i+=d*d}r=n/e;let o=Math.sqrt(i/e-r*r);t.sort((u,d)=>{const p=Math.abs(d.getEstimatedModuleSize()-r),m=Math.abs(u.getEstimatedModuleSize()-r);return p<m?-1:p>m?1:0});const l=Math.max(.2*r,o);for(let u=0;u<t.length&&t.length>3;u++){const d=t[u];Math.abs(d.getEstimatedModuleSize()-r)>l&&(t.splice(u,1),u--)}}if(t.length>3){let n=0;for(const i of t)n+=i.getEstimatedModuleSize();r=n/t.length,t.sort((i,o)=>{if(o.getCount()===i.getCount()){const l=Math.abs(o.getEstimatedModuleSize()-r),u=Math.abs(i.getEstimatedModuleSize()-r);return l<u?1:l>u?-1:0}else return o.getCount()-i.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}wt.CENTER_QUORUM=2,wt.MIN_SKIP=3,wt.MAX_MODULES=57;class bn{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Ne.NEED_RESULT_POINT_CALLBACK);const t=new wt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),i=this.calculateModuleSize(t,r,n);if(i<1)throw new M("No pattern found in proccess finder.");const o=bn.computeDimension(t,r,n,i),l=ue.getProvisionalVersionForDimension(o),u=l.getDimensionForVersion()-7;let d=null;if(l.getAlignmentPatternCenters().length>0){const _=r.getX()-t.getX()+n.getX(),b=r.getY()-t.getY()+n.getY(),D=1-3/u,B=Math.floor(t.getX()+D*(_-t.getX())),L=Math.floor(t.getY()+D*(b-t.getY()));for(let J=4;J<=16;J<<=1)try{d=this.findAlignmentInRegion(i,B,L,J);break}catch(q){if(!(q instanceof M))throw q}}const p=bn.createTransform(t,r,n,d,o),m=bn.sampleGrid(this.image,p,o);let A;return d===null?A=[n,t,r]:A=[n,t,r,d],new te(m,A)}static createTransform(e,t,r,n,i){const o=i-3.5;let l,u,d,p;return n!==null?(l=n.getX(),u=n.getY(),d=o-3,p=d):(l=t.getX()-e.getX()+r.getX(),u=t.getY()-e.getY()+r.getY(),d=o,p=o),De.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,d,p,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),l,u,r.getX(),r.getY())}static sampleGrid(e,t,r){return et.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const i=k.round(x.distance(e,t)/n),o=k.round(x.distance(e,r)/n);let l=Math.floor((i+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new M("Dimensions could be not found.")}return l}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),o=1,l=e-(r-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);let u=Math.floor(t-(n-t)*o);return o=1,u<0?(o=t/(t-u),u=0):u>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),i+=this.sizeOfBlackWhiteBlackRun(e,t,l,u),i-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const i=Math.abs(n-t)>Math.abs(r-e);if(i){let _=e;e=t,t=_,_=r,r=n,n=_}const o=Math.abs(r-e),l=Math.abs(n-t);let u=-o/2;const d=e<r?1:-1,p=t<n?1:-1;let m=0;const A=r+d;for(let _=e,b=t;_!==A;_+=d){const D=i?b:_,B=i?_:b;if(m===1===this.image.get(D,B)){if(m===2)return k.distance(_,b,e,t);m++}if(u+=l,u>0){if(b===n)break;b+=p,u-=o}}return m===2?k.distance(r+d,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const i=Math.floor(n*e),o=Math.max(0,t-i),l=Math.min(this.image.getWidth()-1,t+i);if(l-o<e*3)throw new M("Alignment top exceeds estimated module size.");const u=Math.max(0,r-i),d=Math.min(this.image.getHeight()-1,r+i);if(d-u<e*3)throw new M("Alignment bottom exceeds estimated module size.");return new ri(this.image,o,u,l-o,d-u,e,this.resultPointCallback).find()}}class Pr{constructor(){this.decoder=new C1}getDecoder(){return this.decoder}decode(e,t){let r,n;if(t!=null&&t.get(Ne.PURE_BARCODE)!==void 0){const u=Pr.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(u,t),n=Pr.NO_POINTS}else{const u=new bn(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(u.getBits(),t),n=u.getPoints()}r.getOther()instanceof Js&&r.getOther().applyMirroredCorrection(n);const i=new Ct(r.getText(),r.getRawBytes(),void 0,n,le.QR_CODE,void 0),o=r.getByteSegments();o!==null&&i.putMetadata(it.BYTE_SEGMENTS,o);const l=r.getECLevel();return l!==null&&i.putMetadata(it.ERROR_CORRECTION_LEVEL,l),r.hasStructuredAppend()&&(i.putMetadata(it.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),i.putMetadata(it.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new M;const n=this.moduleSize(t,e);let i=t[1],o=r[1],l=t[0],u=r[0];if(l>=u||i>=o)throw new M;if(o-i!==u-l&&(u=l+(o-i),u>=e.getWidth()))throw new M;const d=Math.round((u-l+1)/n),p=Math.round((o-i+1)/n);if(d<=0||p<=0)throw new M;if(p!==d)throw new M;const m=Math.floor(n/2);i+=m,l+=m;const A=l+Math.floor((d-1)*n)-u;if(A>0){if(A>m)throw new M;l-=A}const _=i+Math.floor((p-1)*n)-o;if(_>0){if(_>m)throw new M;i-=_}const b=new ge(d,p);for(let D=0;D<p;D++){const B=i+Math.floor(D*n);for(let L=0;L<d;L++)e.get(l+Math.floor(L*n),B)&&b.set(L,D)}return b}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let i=e[0],o=e[1],l=!0,u=0;for(;i<n&&o<r;){if(l!==t.get(i,o)){if(++u===5)break;l=!l}i++,o++}if(i===n||o===r)throw new M;return(i-e[0])/7}}Pr.NO_POINTS=new Array;class Ee{PDF417Common(){}static getBitCountSum(e){return k.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ee.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=we.binarySearch(Ee.SYMBOL_TABLE,e&262143);return t<0?-1:(Ee.CODEWORD_TABLE[t]-1)%Ee.NUMBER_OF_CODEWORDS}}Ee.NUMBER_OF_CODEWORDS=929,Ee.MAX_CODEWORDS_IN_BARCODE=Ee.NUMBER_OF_CODEWORDS-1,Ee.MIN_ROWS_IN_BARCODE=3,Ee.MAX_ROWS_IN_BARCODE=90,Ee.MODULES_IN_CODEWORD=17,Ee.MODULES_IN_STOP_PATTERN=18,Ee.BARS_IN_MODULE=8,Ee.EMPTY_INT_ARRAY=new Int32Array([]),Ee.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ee.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class I1{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ye{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),i=ye.detect(r,n);return i.length||(n=n.clone(),n.rotate180(),i=ye.detect(r,n)),new I1(n,i)}static detect(e,t){const r=new Array;let n=0,i=0,o=!1;for(;n<t.getHeight();){const l=ye.findVertices(t,n,i);if(l[0]==null&&l[3]==null){if(!o)break;o=!1,i=0;for(const u of r)u[1]!=null&&(n=Math.trunc(Math.max(n,u[1].getY()))),u[3]!=null&&(n=Math.max(n,Math.trunc(u[3].getY())));n+=ye.ROW_STEP;continue}if(o=!0,r.push(l),!e)break;l[2]!=null?(i=Math.trunc(l[2].getX()),n=Math.trunc(l[2].getY())):(i=Math.trunc(l[4].getX()),n=Math.trunc(l[4].getY()))}return r}static findVertices(e,t,r){const n=e.getHeight(),i=e.getWidth(),o=new Array(8);return ye.copyToResult(o,ye.findRowsWithPattern(e,n,i,t,r,ye.START_PATTERN),ye.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),ye.copyToResult(o,ye.findRowsWithPattern(e,n,i,t,r,ye.STOP_PATTERN),ye.INDEXES_STOP_PATTERN),o}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,i,o){const l=new Array(4);let u=!1;const d=new Int32Array(o.length);for(;n<t;n+=ye.ROW_STEP){let m=ye.findGuardPattern(e,i,n,r,!1,o,d);if(m!=null){for(;n>0;){const A=ye.findGuardPattern(e,i,--n,r,!1,o,d);if(A!=null)m=A;else{n++;break}}l[0]=new x(m[0],n),l[1]=new x(m[1],n),u=!0;break}}let p=n+1;if(u){let m=0,A=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);for(;p<t;p++){const _=ye.findGuardPattern(e,A[0],p,r,!1,o,d);if(_!=null&&Math.abs(A[0]-_[0])<ye.MAX_PATTERN_DRIFT&&Math.abs(A[1]-_[1])<ye.MAX_PATTERN_DRIFT)A=_,m=0;else{if(m>ye.SKIPPED_ROW_COUNT_MAX)break;m++}}p-=m+1,l[2]=new x(A[0],p),l[3]=new x(A[1],p)}return p-n<ye.BARCODE_MIN_HEIGHT&&we.fill(l,null),l}static findGuardPattern(e,t,r,n,i,o,l){we.fillWithin(l,0,l.length,0);let u=t,d=0;for(;e.get(u,r)&&u>0&&d++<ye.MAX_PIXEL_DRIFT;)u--;let p=u,m=0,A=o.length;for(let _=i;p<n;p++)if(e.get(p,r)!==_)l[m]++;else{if(m===A-1){if(ye.patternMatchVariance(l,o,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE)return new Int32Array([u,p]);u+=l[0]+l[1],re.arraycopy(l,2,l,0,m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,_=!_}return m===A-1&&ye.patternMatchVariance(l,o,ye.MAX_INDIVIDUAL_VARIANCE)<ye.MAX_AVG_VARIANCE?new Int32Array([u,p-1]):null}static patternMatchVariance(e,t,r){let n=e.length,i=0,o=0;for(let d=0;d<n;d++)i+=e[d],o+=t[d];if(i<o)return 1/0;let l=i/o;r*=l;let u=0;for(let d=0;d<n;d++){let p=e[d],m=t[d]*l,A=p>m?p-m:m-p;if(A>r)return 1/0;u+=A}return u/i}}ye.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ye.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ye.MAX_AVG_VARIANCE=.42,ye.MAX_INDIVIDUAL_VARIANCE=.8,ye.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ye.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ye.MAX_PIXEL_DRIFT=3,ye.MAX_PATTERN_DRIFT=5,ye.SKIPPED_ROW_COUNT_MAX=25,ye.ROW_STEP=5,ye.BARCODE_MIN_HEIGHT=10;class At{constructor(e,t){if(t.length===0)throw new R;this.field=e;let r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-n),re.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let n=0;for(let i of this.coefficients)n=this.field.add(n,i);return n}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let o=t;t=r,r=o}let n=new Int32Array(r.length),i=r.length-t.length;re.arraycopy(r,0,n,0,i);for(let o=i;o<r.length;o++)n[o]=this.field.add(t[o-i],r[o]);return new At(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new R("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof At?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new At(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,o=new Int32Array(r+i-1);for(let l=0;l<r;l++){let u=t[l];for(let d=0;d<i;d++)o[l+d]=this.field.add(o[l+d],this.field.multiply(u,n[d]))}return new At(this.field,o)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new At(this.field,t)}multiplyScalar(e){if(e===0)return new At(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new At(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new R;if(t===0)return new At(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new At(this.field,n)}toString(){let e=new ae;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class S1{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new R;return this.logTable[e]}inverse(e){if(e===0)throw new O;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ji extends S1{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let n=0;n<e-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new At(this,new Int32Array([0])),this.one=new At(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new R;if(t===0)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new At(this,r)}}ji.PDF417_GF=new ji(Ee.NUMBER_OF_CODEWORDS,3);class eo{constructor(){this.field=ji.PDF417_GF}decode(e,t,r){let n=new At(this.field,e),i=new Int32Array(t),o=!1;for(let b=t;b>0;b--){let D=n.evaluateAt(this.field.exp(b));i[t-b]=D,D!==0&&(o=!0)}if(!o)return 0;let l=this.field.getOne();if(r!=null)for(const b of r){let D=this.field.exp(e.length-1-b),B=new At(this.field,new Int32Array([this.field.subtract(0,D),1]));l=l.multiply(B)}let u=new At(this.field,i),d=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),u,t),p=d[0],m=d[1],A=this.findErrorLocations(p),_=this.findErrorMagnitudes(m,p,A);for(let b=0;b<A.length;b++){let D=e.length-1-this.field.log(A[b]);if(D<0)throw Z.getChecksumInstance();e[D]=this.field.subtract(e[D],_[b])}return A.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let A=e;e=t,t=A}let n=e,i=t,o=this.field.getZero(),l=this.field.getOne();for(;i.getDegree()>=Math.round(r/2);){let A=n,_=o;if(n=i,o=l,n.isZero())throw Z.getChecksumInstance();i=A;let b=this.field.getZero(),D=n.getCoefficient(n.getDegree()),B=this.field.inverse(D);for(;i.getDegree()>=n.getDegree()&&!i.isZero();){let L=i.getDegree()-n.getDegree(),J=this.field.multiply(i.getCoefficient(i.getDegree()),B);b=b.add(this.field.buildMonomial(L,J)),i=i.subtract(n.multiplyByMonomial(L,J))}l=b.multiply(o).subtract(_).negative()}let u=l.getCoefficient(0);if(u===0)throw Z.getChecksumInstance();let d=this.field.inverse(u),p=l.multiply(d),m=i.multiply(d);return[p,m]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let i=1;i<this.field.getSize()&&n<t;i++)e.evaluateAt(i)===0&&(r[n]=this.field.inverse(i),n++);if(n!==t)throw Z.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),i=new Int32Array(n);for(let d=1;d<=n;d++)i[n-d]=this.field.multiply(d,t.getCoefficient(d));let o=new At(this.field,i),l=r.length,u=new Int32Array(l);for(let d=0;d<l;d++){let p=this.field.inverse(r[d]),m=this.field.subtract(0,e.evaluateAt(p)),A=this.field.inverse(o.evaluateAt(p));u[d]=this.field.multiply(m,A)}return u}}class jr{constructor(e,t,r,n,i){e instanceof jr?this.constructor_2(e):this.constructor_1(e,t,r,n,i)}constructor_1(e,t,r,n,i){const o=t==null||r==null,l=n==null||i==null;if(o&&l)throw new M;o?(t=new x(0,n.getY()),r=new x(0,i.getY())):l&&(n=new x(e.getWidth()-1,t.getY()),i=new x(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new jr(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,i=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){let u=r?this.topLeft:this.topRight,d=Math.trunc(u.getY()-e);d<0&&(d=0);let p=new x(u.getX(),d);r?n=p:o=p}if(t>0){let u=r?this.bottomLeft:this.bottomRight,d=Math.trunc(u.getY()+t);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);let p=new x(u.getX(),d);r?i=p:l=p}return new jr(this.image,n,i,o,l)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class y1{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Nn{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(o,l,u,d,p,m){if(o==="%%")return"%";if(t[++r]===void 0)return;o=d?parseInt(d.substr(1)):void 0;let A=p?parseInt(p.substr(1)):void 0,_;switch(m){case"s":_=t[r];break;case"c":_=t[r][0];break;case"f":_=parseFloat(t[r]).toFixed(o);break;case"p":_=parseFloat(t[r]).toPrecision(o);break;case"e":_=parseFloat(t[r]).toExponential(o);break;case"x":_=parseInt(t[r]).toString(A||16);break;case"d":_=parseFloat(parseInt(t[r],A||10).toPrecision(o)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(A);let b=parseInt(u),D=u&&u[0]+""=="0"?"0":" ";for(;_.length<b;)_=l!==void 0?_+D:D+_;return _}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}format(e,...t){this.buffer+=Nn.form(e,t)}toString(){return this.buffer}}class Rn{constructor(e){this.boundingBox=new jr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let r=1;r<Rn.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],t!=null)||(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Nn;let t=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue())}return e.toString()}}Rn.MAX_NEARBY_DISTANCE=5;class On{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const i={getKey:()=>r,getValue:()=>n};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return Ee.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class to extends Rn{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=-1,d=1,p=0;for(let m=o;m<l;m++){if(t[m]==null)continue;let A=t[m],_=A.getRowNumber()-u;if(_===0)p++;else if(_===1)d=Math.max(d,p),p=1,u=A.getRowNumber();else if(_<0||A.getRowNumber()>=e.getRowCount()||_>m)t[m]=null;else{let b;d>2?b=(d-2)*_:b=_;let D=b>=m;for(let B=1;B<=b&&!D;B++)D=t[m-B]!=null;D?t[m]=null:(u=A.getRowNumber(),p=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let n=r.getRowNumber();if(n>=t.length)continue;t[n]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),l=this.getCodewords(),u=-1;for(let d=i;d<o;d++){if(l[d]==null)continue;let p=l[d];p.setRowNumberAsRowIndicatorColumn();let m=p.getRowNumber()-u;m===0||(m===1?u=p.getRowNumber():p.getRowNumber()>=e.getRowCount()?l[d]=null:u=p.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new On,r=new On,n=new On,i=new On;for(let l of e){if(l==null)continue;l.setRowNumberAsRowIndicatorColumn();let u=l.getValue()%30,d=l.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:r.setValue(u*3+1);break;case 1:i.setValue(u/3),n.setValue(u%3);break;case 2:t.setValue(u+1);break}}if(t.getValue().length===0||r.getValue().length===0||n.getValue().length===0||i.getValue().length===0||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<Ee.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>Ee.MAX_ROWS_IN_BARCODE)return null;let o=new y1(t.getValue()[0],r.getValue()[0],n.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,o),o}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(e[r]==null)continue;let i=n.getValue()%30,o=n.getRowNumber();if(o>t.getRowCount()){e[r]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:i*3+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(i/3)!==t.getErrorCorrectionLevel()||i%3!==t.getRowCountLowerPart())&&(e[r]=null);break;case 2:i+1!==t.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Dn{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ee.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let r=this.detectionResultColumns[t].getCodewords();for(let n=0;n<r.length;n++)r[n]!=null&&(r[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(let n=1;n<=this.barcodeColumnCount;n++){let i=this.detectionResultColumns[n].getCodewords()[r];i!=null&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[n].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let o=this.barcodeColumnCount+1;o>0&&i<this.ADJUST_ROW_NUMBER_SKIP;o--){let l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(i=Dn.adjustRowNumberIfValid(n,i,l),l.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let o=1;o<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;o++){let l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(i=Dn.adjustRowNumberIfValid(n,i,l),l.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],i=this.detectionResultColumns[e-1].getCodewords(),o=i;this.detectionResultColumns[e+1]!=null&&(o=this.detectionResultColumns[e+1].getCodewords());let l=new Array(14);l[2]=i[t],l[3]=o[t],t>0&&(l[0]=r[t-1],l[4]=i[t-1],l[5]=o[t-1]),t>1&&(l[8]=r[t-2],l[10]=i[t-2],l[11]=o[t-2]),t<r.length-1&&(l[1]=r[t+1],l[6]=i[t+1],l[7]=o[t+1]),t<r.length-2&&(l[9]=r[t+2],l[12]=i[t+2],l[13]=o[t+2]);for(let u of l)if(Dn.adjustRowNumber(n,u))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Nn;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let n=0;n<this.barcodeColumnCount+2;n++){if(this.detectionResultColumns[n]==null){t.format("    |   ");continue}let i=this.detectionResultColumns[n].getCodewords()[r];if(i==null){t.format("    |   ");continue}t.format(" %3d|%3d",i.getRowNumber(),i.getValue())}t.format("%n")}return t.toString()}}class vn{constructor(e,t,r,n){this.rowNumber=vn.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==vn.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}vn.BARCODE_ROW_UNKNOWN=-1;class Ut{static initialize(){for(let e=0;e<Ee.SYMBOL_TABLE.length;e++){let t=Ee.SYMBOL_TABLE[e],r=t&1;for(let n=0;n<Ee.BARS_IN_MODULE;n++){let i=0;for(;(t&1)===r;)i+=1,t>>=1;r=t&1,Ut.RATIOS_TABLE[e]||(Ut.RATIOS_TABLE[e]=new Array(Ee.BARS_IN_MODULE)),Ut.RATIOS_TABLE[e][Ee.BARS_IN_MODULE-n-1]=Math.fround(i/Ee.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Ut.getDecodedCodewordValue(Ut.sampleBitCounts(e));return t!==-1?t:Ut.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=k.sum(e),r=new Int32Array(Ee.BARS_IN_MODULE),n=0,i=0;for(let o=0;o<Ee.MODULES_IN_CODEWORD;o++){let l=t/(2*Ee.MODULES_IN_CODEWORD)+o*t/Ee.MODULES_IN_CODEWORD;i+e[n]<=l&&(i+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=Ut.getBitValue(e);return Ee.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=k.sum(e),r=new Array(Ee.BARS_IN_MODULE);if(t>1)for(let o=0;o<r.length;o++)r[o]=Math.fround(e[o]/t);let n=Y.MAX_VALUE,i=-1;this.bSymbolTableReady||Ut.initialize();for(let o=0;o<Ut.RATIOS_TABLE.length;o++){let l=0,u=Ut.RATIOS_TABLE[o];for(let d=0;d<Ee.BARS_IN_MODULE;d++){let p=Math.fround(u[d]-r[d]);if(l+=Math.fround(p*p),l>=n)break}l<n&&(n=l,i=Ee.SYMBOL_TABLE[o])}return i}}Ut.bSymbolTableReady=!1,Ut.RATIOS_TABLE=new Array(Ee.SYMBOL_TABLE.length).map(w=>new Array(Ee.BARS_IN_MODULE));class ro{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class no{static parseLong(e,t=void 0){return parseInt(e,t)}}class io extends C{}io.kind="NullPointerException";class _1{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(e==null)throw new io;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new Fe;if(r!==0)for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class T1 extends C{}class b1 extends _1{constructor(e=32){if(super(),this.count=0,e<0)throw new R("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new T1;t=ne.MAX_VALUE}this.buf=we.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new Fe;this.ensureCapacity(this.count+r),re.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return we.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Xe;(function(w){w[w.ALPHA=0]="ALPHA",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.PUNCT=3]="PUNCT",w[w.ALPHA_SHIFT=4]="ALPHA_SHIFT",w[w.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Xe||(Xe={}));function so(){if(typeof window<"u")return window.BigInt||null;if(typeof hi<"u")return hi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ni;function Fr(w){if(typeof ni>"u"&&(ni=so()),ni===null)throw new Error("BigInt is not supported!");return ni(w)}function N1(){let w=[];w[0]=Fr(1);let e=Fr(900);w[1]=e;for(let t=2;t<16;t++)w[t]=w[t-1]*e;return w}class F{static decode(e,t){let r=new ae(""),n=K.ISO8859_1;r.enableDecoding(n);let i=1,o=e[i++],l=new ro;for(;i<e[0];){switch(o){case F.TEXT_COMPACTION_MODE_LATCH:i=F.textCompaction(e,i,r);break;case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:i=F.byteCompaction(o,e,n,i,r);break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case F.NUMERIC_COMPACTION_MODE_LATCH:i=F.numericCompaction(e,i,r);break;case F.ECI_CHARSET:K.getCharacterSetECIByValue(e[i++]);break;case F.ECI_GENERAL_PURPOSE:i+=2;break;case F.ECI_USER_DEFINED:i++;break;case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=F.decodeMacroBlock(e,i,l);break;case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:throw new Q;default:i--,i=F.textCompaction(e,i,r);break}if(i<e.length)o=e[i++];else throw Q.getFormatInstance()}if(r.length()===0)throw Q.getFormatInstance();let u=new Dr(null,r.toString(),null,t);return u.setOther(l),u}static decodeMacroBlock(e,t,r){if(t+F.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Q.getFormatInstance();let n=new Int32Array(F.NUMBER_OF_SEQUENCE_CODEWORDS);for(let l=0;l<F.NUMBER_OF_SEQUENCE_CODEWORDS;l++,t++)n[l]=e[t];r.setSegmentIndex(ne.parseInt(F.decodeBase900toBase10(n,F.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new ae;t=F.textCompaction(e,t,i),r.setFileId(i.toString());let o=-1;for(e[t]===F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case F.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let l=new ae;t=F.textCompaction(e,t+1,l),r.setFileName(l.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new ae;t=F.textCompaction(e,t+1,u),r.setSender(u.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let d=new ae;t=F.textCompaction(e,t+1,d),r.setAddressee(d.toString());break;case F.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new ae;t=F.numericCompaction(e,t+1,p),r.setSegmentCount(ne.parseInt(p.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let m=new ae;t=F.numericCompaction(e,t+1,m),r.setTimestamp(no.parseLong(m.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new ae;t=F.numericCompaction(e,t+1,A),r.setChecksum(ne.parseInt(A.toString()));break;case F.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let _=new ae;t=F.numericCompaction(e,t+1,_),r.setFileSize(no.parseLong(_.toString()));break;default:throw Q.getFormatInstance()}break;case F.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw Q.getFormatInstance()}if(o!==-1){let l=t-o;r.isLastSegment()&&l--,r.setOptionalData(we.copyOfRange(e,o,o+l))}return t}static textCompaction(e,t,r){let n=new Int32Array((e[0]-t)*2),i=new Int32Array((e[0]-t)*2),o=0,l=!1;for(;t<e[0]&&!l;){let u=e[t++];if(u<F.TEXT_COMPACTION_MODE_LATCH)n[o]=u/30,n[o+1]=u%30,o+=2;else switch(u){case F.TEXT_COMPACTION_MODE_LATCH:n[o++]=F.TEXT_COMPACTION_MODE_LATCH;break;case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:t--,l=!0;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[o]=F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],i[o]=u,o++;break}}return F.decodeTextCompaction(n,i,o,r),t}static decodeTextCompaction(e,t,r,n){let i=Xe.ALPHA,o=Xe.ALPHA,l=0;for(;l<r;){let u=e[l],d="";switch(i){case Xe.ALPHA:if(u<26)d=String.fromCharCode(65+u);else switch(u){case 26:d=" ";break;case F.LL:i=Xe.LOWER;break;case F.ML:i=Xe.MIXED;break;case F.PS:o=i,i=Xe.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case F.TEXT_COMPACTION_MODE_LATCH:i=Xe.ALPHA;break}break;case Xe.LOWER:if(u<26)d=String.fromCharCode(97+u);else switch(u){case 26:d=" ";break;case F.AS:o=i,i=Xe.ALPHA_SHIFT;break;case F.ML:i=Xe.MIXED;break;case F.PS:o=i,i=Xe.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case F.TEXT_COMPACTION_MODE_LATCH:i=Xe.ALPHA;break}break;case Xe.MIXED:if(u<F.PL)d=F.MIXED_CHARS[u];else switch(u){case F.PL:i=Xe.PUNCT;break;case 26:d=" ";break;case F.LL:i=Xe.LOWER;break;case F.AL:i=Xe.ALPHA;break;case F.PS:o=i,i=Xe.PUNCT_SHIFT;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case F.TEXT_COMPACTION_MODE_LATCH:i=Xe.ALPHA;break}break;case Xe.PUNCT:if(u<F.PAL)d=F.PUNCT_CHARS[u];else switch(u){case F.PAL:i=Xe.ALPHA;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case F.TEXT_COMPACTION_MODE_LATCH:i=Xe.ALPHA;break}break;case Xe.ALPHA_SHIFT:if(i=o,u<26)d=String.fromCharCode(65+u);else switch(u){case 26:d=" ";break;case F.TEXT_COMPACTION_MODE_LATCH:i=Xe.ALPHA;break}break;case Xe.PUNCT_SHIFT:if(i=o,u<F.PAL)d=F.PUNCT_CHARS[u];else switch(u){case F.PAL:i=Xe.ALPHA;break;case F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case F.TEXT_COMPACTION_MODE_LATCH:i=Xe.ALPHA;break}break}d!==""&&n.append(d),l++}}static byteCompaction(e,t,r,n,i){let o=new b1,l=0,u=0,d=!1;switch(e){case F.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),m=t[n++];for(;n<t[0]&&!d;)switch(p[l++]=m,u=900*u+m,m=t[n++],m){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:n--,d=!0;break;default:if(l%5===0&&l>0){for(let A=0;A<6;++A)o.write(Number(Fr(u)>>Fr(8*(5-A))));u=0,l=0}break}n===t[0]&&m<F.TEXT_COMPACTION_MODE_LATCH&&(p[l++]=m);for(let A=0;A<l;A++)o.write(p[A]);break;case F.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!d;){let A=t[n++];if(A<F.TEXT_COMPACTION_MODE_LATCH)l++,u=900*u+A;else switch(A){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.NUMERIC_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:n--,d=!0;break}if(l%5===0&&l>0){for(let _=0;_<6;++_)o.write(Number(Fr(u)>>Fr(8*(5-_))));u=0,l=0}}break}return i.append(nt.decode(o.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,i=!1,o=new Int32Array(F.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let l=e[t++];if(t===e[0]&&(i=!0),l<F.TEXT_COMPACTION_MODE_LATCH)o[n]=l,n++;else switch(l){case F.TEXT_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH:case F.BYTE_COMPACTION_MODE_LATCH_6:case F.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case F.MACRO_PDF417_TERMINATOR:t--,i=!0;break}(n%F.MAX_NUMERIC_CODEWORDS===0||l===F.NUMERIC_COMPACTION_MODE_LATCH||i)&&n>0&&(r.append(F.decodeBase900toBase10(o,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=Fr(0);for(let i=0;i<t;i++)r+=F.EXP900[t-i-1]*Fr(e[i]);let n=r.toString();if(n.charAt(0)!=="1")throw new Q;return n.substring(1)}}F.TEXT_COMPACTION_MODE_LATCH=900,F.BYTE_COMPACTION_MODE_LATCH=901,F.NUMERIC_COMPACTION_MODE_LATCH=902,F.BYTE_COMPACTION_MODE_LATCH_6=924,F.ECI_USER_DEFINED=925,F.ECI_GENERAL_PURPOSE=926,F.ECI_CHARSET=927,F.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,F.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,F.MACRO_PDF417_TERMINATOR=922,F.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,F.MAX_NUMERIC_CODEWORDS=15,F.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,F.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,F.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,F.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,F.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,F.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,F.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,F.PL=25,F.LL=27,F.AS=27,F.ML=28,F.AL=28,F.PS=29,F.PAL=29,F.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,F.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",F.EXP900=so()?N1():[],F.NUMBER_OF_SEQUENCE_CODEWORDS=2;class be{constructor(){}static decode(e,t,r,n,i,o,l){let u=new jr(e,t,r,n,i),d=null,p=null,m;for(let b=!0;;b=!1){if(t!=null&&(d=be.getRowIndicatorColumn(e,u,t,!0,o,l)),n!=null&&(p=be.getRowIndicatorColumn(e,u,n,!1,o,l)),m=be.merge(d,p),m==null)throw M.getNotFoundInstance();let D=m.getBoundingBox();if(b&&D!=null&&(D.getMinY()<u.getMinY()||D.getMaxY()>u.getMaxY()))u=D;else break}m.setBoundingBox(u);let A=m.getBarcodeColumnCount()+1;m.setDetectionResultColumn(0,d),m.setDetectionResultColumn(A,p);let _=d!=null;for(let b=1;b<=A;b++){let D=_?b:A-b;if(m.getDetectionResultColumn(D)!==void 0)continue;let B;D===0||D===A?B=new to(u,D===0):B=new Rn(u),m.setDetectionResultColumn(D,B);let L=-1,J=L;for(let q=u.getMinY();q<=u.getMaxY();q++){if(L=be.getStartColumn(m,D,q,_),L<0||L>u.getMaxX()){if(J===-1)continue;L=J}let X=be.detectCodeword(e,u.getMinX(),u.getMaxX(),_,L,q,o,l);X!=null&&(B.setCodeword(q,X),J=L,o=Math.min(o,X.getWidth()),l=Math.max(l,X.getWidth()))}}return be.createDecoderResult(m)}static merge(e,t){if(e==null&&t==null)return null;let r=be.getBarcodeMetadata(e,t);if(r==null)return null;let n=jr.merge(be.adjustBoundingBox(e),be.adjustBoundingBox(t));return new Dn(r,n)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let r=be.getMax(t),n=0;for(let l of t)if(n+=r-l,l>0)break;let i=e.getCodewords();for(let l=0;n>0&&i[l]==null;l++)n--;let o=0;for(let l=t.length-1;l>=0&&(o+=r-t[l],!(t[l]>0));l--);for(let l=i.length-1;o>0&&i[l]==null;l--)o--;return e.getBoundingBox().addMissingRows(n,o,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let n;return t==null||(n=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,i,o){let l=new to(t,n);for(let u=0;u<2;u++){let d=u===0?1:-1,p=Math.trunc(Math.trunc(r.getX()));for(let m=Math.trunc(Math.trunc(r.getY()));m<=t.getMaxY()&&m>=t.getMinY();m+=d){let A=be.detectCodeword(e,0,e.getWidth(),n,p,m,i,o);A!=null&&(l.setCodeword(m,A),n?p=A.getStartX():p=A.getEndX())}}return l}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-be.getNumberOfECCodeWords(e.getBarcodeECLevel());if(n.length===0){if(i<1||i>Ee.MAX_CODEWORDS_IN_BARCODE)throw M.getNotFoundInstance();r.setValue(i)}else n[0]!==i&&r.setValue(i)}static createDecoderResult(e){let t=be.createBarcodeMatrix(e);be.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],o=new Array;for(let u=0;u<e.getBarcodeRowCount();u++)for(let d=0;d<e.getBarcodeColumnCount();d++){let p=t[u][d+1].getValue(),m=u*e.getBarcodeColumnCount()+d;p.length===0?r.push(m):p.length===1?n[m]=p[0]:(o.push(m),i.push(p))}let l=new Array(i.length);for(let u=0;u<l.length;u++)l[u]=i[u];return be.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,Ee.toIntArray(r),Ee.toIntArray(o),l)}static createDecoderResultFromAmbiguousValues(e,t,r,n,i){let o=new Int32Array(n.length),l=100;for(;l-- >0;){for(let u=0;u<o.length;u++)t[n[u]]=i[u][o[u]];try{return be.decodeCodewords(t,e,r)}catch(u){if(!(u instanceof Z))throw u}if(o.length===0)throw Z.getChecksumInstance();for(let u=0;u<o.length;u++)if(o[u]<i[u].length-1){o[u]++;break}else if(o[u]=0,u===o.length-1)throw Z.getChecksumInstance()}throw Z.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]=new On;let r=0;for(let n of e.getDetectionResultColumns()){if(n!=null){for(let i of n.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=0){if(o>=t.length)continue;t[o][r].setValue(i.getValue())}}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let i=n?1:-1,o=null;if(be.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodeword(r)),o!=null)return n?o.getEndX():o.getStartX();if(o=e.getDetectionResultColumn(t).getCodewordNearby(r),o!=null)return n?o.getStartX():o.getEndX();if(be.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodewordNearby(r)),o!=null)return n?o.getEndX():o.getStartX();let l=0;for(;be.isValidBarcodeColumn(e,t-i);){t-=i;for(let u of e.getDetectionResultColumn(t).getCodewords())if(u!=null)return(n?u.getEndX():u.getStartX())+i*l*(u.getEndX()-u.getStartX());l++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,i,o,l,u){i=be.adjustCodewordStartColumn(e,t,r,n,i,o);let d=be.getModuleBitCount(e,t,r,n,i,o);if(d==null)return null;let p,m=k.sum(d);if(n)p=i+m;else{for(let b=0;b<d.length/2;b++){let D=d[b];d[b]=d[d.length-1-b],d[d.length-1-b]=D}p=i,i=p-m}if(!be.checkCodewordSkew(m,l,u))return null;let A=Ut.getDecodedValue(d),_=Ee.getCodeword(A);return _===-1?null:new vn(i,p,be.getCodewordBucketNumber(A),_)}static getModuleBitCount(e,t,r,n,i,o){let l=i,u=new Int32Array(8),d=0,p=n?1:-1,m=n;for(;(n?l<r:l>=t)&&d<u.length;)e.get(l,o)===m?(u[d]++,l+=p):(d++,m=!m);return d===u.length||l===(n?r:t)&&d===u.length-1?u:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,i,o){let l=i,u=n?-1:1;for(let d=0;d<2;d++){for(;(n?l>=t:l<r)&&n===e.get(l,o);){if(Math.abs(i-l)>be.CODEWORD_SKEW_SIZE)return i;l+=u}u=-u,n=!n}return l}static checkCodewordSkew(e,t,r){return t-be.CODEWORD_SKEW_SIZE<=e&&e<=r+be.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(e.length===0)throw Q.getFormatInstance();let n=1<<t+1,i=be.correctErrors(e,r,n);be.verifyCodewordCount(e,n);let o=F.decode(e,""+t);return o.setErrorsCorrected(i),o.setErasures(r.length),o}static correctErrors(e,t,r){if(t!=null&&t.length>r/2+be.MAX_ERRORS||r<0||r>be.MAX_EC_CODEWORDS)throw Z.getChecksumInstance();return be.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw Q.getFormatInstance();let r=e[0];if(r>e.length)throw Q.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw Q.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((e&1)!==r&&(r=e&1,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return be.getCodewordBucketNumber(be.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Nn;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let i=e[r][n];i.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}be.CODEWORD_SKEW_SIZE=2,be.MAX_ERRORS=3,be.MAX_EC_CODEWORDS=512,be.errorCorrection=new eo;class It{decode(e,t=null){let r=It.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw M.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return It.decode(e,t,!0)}catch(r){throw r instanceof Q||r instanceof Z?M.getNotFoundInstance():r}}static decode(e,t,r){const n=new Array,i=ye.detectMultiple(e,t,r);for(const o of i.getPoints()){const l=be.decode(i.getBits(),o[4],o[5],o[6],o[7],It.getMinCodewordWidth(o),It.getMaxCodewordWidth(o)),u=new Ct(l.getText(),l.getRawBytes(),void 0,o,le.PDF_417);u.putMetadata(it.ERROR_CORRECTION_LEVEL,l.getECLevel());const d=l.getOther();d!=null&&u.putMetadata(it.PDF417_EXTRA_METADATA,d),n.push(u)}return n.map(o=>o)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?ne.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(It.getMaxWidth(e[0],e[4]),It.getMaxWidth(e[6],e[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.max(It.getMaxWidth(e[1],e[5]),It.getMaxWidth(e[7],e[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(It.getMinWidth(e[0],e[4]),It.getMinWidth(e[6],e[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.min(It.getMinWidth(e[1],e[5]),It.getMinWidth(e[7],e[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}reset(){}}class ii extends C{}ii.kind="ReaderException";class oo{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!h(e)&&e.get(Ne.TRY_HARDER)===!0,r=h(e)?null:e.get(Ne.POSSIBLE_FORMATS),n=new Array;if(!h(r)){const i=r.some(o=>o===le.UPC_A||o===le.UPC_E||o===le.EAN_13||o===le.EAN_8||o===le.CODABAR||o===le.CODE_39||o===le.CODE_93||o===le.CODE_128||o===le.ITF||o===le.RSS_14||o===le.RSS_EXPANDED);i&&!t&&n.push(new ln(e,this.verbose)),r.includes(le.QR_CODE)&&n.push(new Pr),r.includes(le.DATA_MATRIX)&&n.push(new Br),r.includes(le.AZTEC)&&n.push(new Ot),r.includes(le.PDF_417)&&n.push(new It),i&&t&&n.push(new ln(e,this.verbose))}n.length===0&&(t||n.push(new ln(e,this.verbose)),n.push(new Pr),n.push(new Br),n.push(new Ot),n.push(new It),t&&n.push(new ln(e,this.verbose))),this.readers=n}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ii("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(r){if(r instanceof ii)continue}throw new M("No MultiFormat Readers were able to detect the code.")}}class R1 extends or{constructor(e=null,t=500){const r=new oo;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class O1 extends or{constructor(e=500){super(new It,e)}}class D1 extends or{constructor(e=500){super(new Pr,e)}}var Qi;(function(w){w[w.ERROR_CORRECTION=0]="ERROR_CORRECTION",w[w.CHARACTER_SET=1]="CHARACTER_SET",w[w.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",w[w.MIN_SIZE=3]="MIN_SIZE",w[w.MAX_SIZE=4]="MAX_SIZE",w[w.MARGIN=5]="MARGIN",w[w.PDF417_COMPACT=6]="PDF417_COMPACT",w[w.PDF417_COMPACTION=7]="PDF417_COMPACTION",w[w.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",w[w.AZTEC_LAYERS=9]="AZTEC_LAYERS",w[w.QR_VERSION=10]="QR_VERSION"})(Qi||(Qi={}));var ft=Qi;class $i{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new T(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let i=t.length;i<=e;i++){const o=r.multiply(new T(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));t.push(o),r=o}}return t[e]}encode(e,t){if(t===0)throw new R("No error correction bytes");const r=e.length-t;if(r<=0)throw new R("No data bytes provided");const n=this.buildGenerator(t),i=new Int32Array(r);re.arraycopy(e,0,i,0,r);let o=new T(this.field,i);o=o.multiplyByMonomial(t,1);const l=o.divide(n)[1].getCoefficients(),u=t-l.length;for(let d=0;d<u;d++)e[r+d]=0;re.arraycopy(l,0,e,r+u,l.length)}}class at{constructor(){}static applyMaskPenaltyRule1(e){return at.applyMaskPenaltyRule1Internal(e,!0)+at.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let o=0;o<i-1;o++){const l=r[o];for(let u=0;u<n-1;u++){const d=l[u];d===l[u+1]&&d===r[o+1][u]&&d===r[o+1][u+1]&&t++}}return at.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o++)for(let l=0;l<n;l++){const u=r[o];l+6<n&&u[l]===1&&u[l+1]===0&&u[l+2]===1&&u[l+3]===1&&u[l+4]===1&&u[l+5]===0&&u[l+6]===1&&(at.isWhiteHorizontal(u,l-4,l)||at.isWhiteHorizontal(u,l+7,l+11))&&t++,o+6<i&&r[o][l]===1&&r[o+1][l]===0&&r[o+2][l]===1&&r[o+3][l]===1&&r[o+4][l]===1&&r[o+5][l]===0&&r[o+6][l]===1&&(at.isWhiteVertical(r,l,o-4,o)||at.isWhiteVertical(r,l,o+7,o+11))&&t++}return t*at.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(e[n]===1)return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let i=r;i<n;i++)if(e[i][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let l=0;l<i;l++){const u=r[l];for(let d=0;d<n;d++)u[d]===1&&t++}const o=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-o)*10/o)*at.N4}static getDataMaskBit(e,t,r){let n,i;switch(e){case 0:n=r+t&1;break;case 1:n=r&1;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:i=r*t,n=(i&1)+i%3;break;case 6:i=r*t,n=(i&1)+i%3&1;break;case 7:i=r*t,n=i%3+(r+t&1)&1;break;default:throw new R("Invalid mask pattern: "+e)}return n===0}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),o=e.getArray();for(let l=0;l<n;l++){let u=0,d=-1;for(let p=0;p<i;p++){const m=t?o[l][p]:o[p][l];m===d?u++:(u>=5&&(r+=at.N1+(u-5)),u=1,d=m)}u>=5&&(r+=at.N1+(u-5))}return r}}at.N1=3,at.N2=3,at.N3=40,at.N4=10;class si{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)we.fill(t,e)}equals(e){if(!(e instanceof si))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let r=0,n=this.height;r<n;++r){const i=this.bytes[r],o=t.bytes[r];for(let l=0,u=this.width;l<u;++l)if(i[l]!==o[l])return!1}return!0}toString(){const e=new ae;for(let t=0,r=this.height;t<r;++t){const n=this.bytes[t];for(let i=0,o=this.width;i<o;++i)switch(n[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Qr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new ae;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Qr.NUM_MASK_PATTERNS}}Qr.NUM_MASK_PATTERNS=8;class ze extends C{}ze.kind="WriterException";class me{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,i){me.clearMatrix(i),me.embedBasicPatterns(r,i),me.embedTypeInfo(t,n,i),me.maybeEmbedVersionInfo(r,i),me.embedDataBits(e,n,i)}static embedBasicPatterns(e,t){me.embedPositionDetectionPatternsAndSeparators(t),me.embedDarkDotAtLeftBottomCorner(t),me.maybeEmbedPositionAdjustmentPatterns(e,t),me.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new ee;me.makeTypeInfoBits(e,t,n);for(let i=0,o=n.getSize();i<o;++i){const l=n.get(n.getSize()-1-i),u=me.TYPE_INFO_COORDINATES[i],d=u[0],p=u[1];if(r.setBoolean(d,p,l),i<8){const m=r.getWidth()-i-1;r.setBoolean(m,8,l)}else{const m=r.getHeight()-7+(i-8);r.setBoolean(8,m,l)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new ee;me.makeVersionInfoBits(e,r);let n=6*3-1;for(let i=0;i<6;++i)for(let o=0;o<3;++o){const l=r.get(n);n--,t.setBoolean(i,t.getHeight()-11+o,l),t.setBoolean(t.getHeight()-11+o,i,l)}}static embedDataBits(e,t,r){let n=0,i=-1,o=r.getWidth()-1,l=r.getHeight()-1;for(;o>0;){for(o===6&&(o-=1);l>=0&&l<r.getHeight();){for(let u=0;u<2;++u){const d=o-u;if(!me.isEmpty(r.get(d,l)))continue;let p;n<e.getSize()?(p=e.get(n),++n):p=!1,t!==255&&at.getDataMaskBit(t,d,l)&&(p=!p),r.setBoolean(d,l,p)}l+=i}i=-i,l+=i,o-=2}if(n!==e.getSize())throw new ze("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-ne.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new R("0 polynomial");const r=me.findMSBSet(t);for(e<<=r-1;me.findMSBSet(e)>=r;)e^=t<<me.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!Qr.isValidMaskPattern(t))throw new ze("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const i=me.calculateBCHCode(n,me.TYPE_INFO_POLY);r.appendBits(i,10);const o=new ee;if(o.appendBits(me.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new ze("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=me.calculateBCHCode(e.getVersionNumber(),me.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new ze("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;me.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),me.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new ze;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!me.isEmpty(r.get(e+n,t)))throw new ze;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!me.isEmpty(r.get(e,t+n)))throw new ze;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const i=me.POSITION_ADJUSTMENT_PATTERN[n];for(let o=0;o<5;++o)r.setNumber(e+o,t+n,i[o])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const i=me.POSITION_DETECTION_PATTERN[n];for(let o=0;o<7;++o)r.setNumber(e+o,t+n,i[o])}}static embedPositionDetectionPatternsAndSeparators(e){const t=me.POSITION_DETECTION_PATTERN[0].length;me.embedPositionDetectionPattern(0,0,e),me.embedPositionDetectionPattern(e.getWidth()-t,0,e),me.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;me.embedHorizontalSeparationPattern(0,r-1,e),me.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),me.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;me.embedVerticalSeparationPattern(n,0,e),me.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),me.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let i=0,o=n.length;i!==o;i++){const l=n[i];if(l>=0)for(let u=0;u!==o;u++){const d=n[u];d>=0&&me.isEmpty(t.get(d,l))&&me.embedPositionAdjustmentPattern(d-2,l-2,t)}}}}me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),me.VERSION_INFO_POLY=7973,me.TYPE_INFO_POLY=1335,me.TYPE_INFO_MASK_PATTERN=21522;class v1{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Qe{constructor(){}static calculateMaskPenalty(e){return at.applyMaskPenaltyRule1(e)+at.applyMaskPenaltyRule2(e)+at.applyMaskPenaltyRule3(e)+at.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=Qe.DEFAULT_BYTE_MODE_ENCODING;const i=r!==null&&r.get(ft.CHARACTER_SET)!==void 0;i&&(n=r.get(ft.CHARACTER_SET).toString());const o=this.chooseMode(e,n),l=new ee;if(o===pe.BYTE&&(i||Qe.DEFAULT_BYTE_MODE_ENCODING!==n)){const q=K.getCharacterSetECIByName(n);q!==void 0&&this.appendECI(q,l)}this.appendModeInfo(o,l);const u=new ee;this.appendBytes(e,o,u,n);let d;if(r!==null&&r.get(ft.QR_VERSION)!==void 0){const q=Number.parseInt(r.get(ft.QR_VERSION).toString(),10);d=ue.getVersionForNumber(q);const X=this.calculateBitsNeeded(o,l,u,d);if(!this.willFit(X,d,t))throw new ze("Data too big for requested version")}else d=this.recommendVersion(t,o,l,u);const p=new ee;p.appendBitArray(l);const m=o===pe.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(m,d,o,p),p.appendBitArray(u);const A=d.getECBlocksForLevel(t),_=d.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(_,p);const b=this.interleaveWithECBytes(p,d.getTotalCodewords(),_,A.getNumBlocks()),D=new Qr;D.setECLevel(t),D.setMode(o),D.setVersion(d);const B=d.getDimensionForVersion(),L=new si(B,B),J=this.chooseMaskPattern(b,t,d,L);return D.setMaskPattern(J),me.buildMatrix(b,t,d,J,L),D.setMatrix(L),D}static recommendVersion(e,t,r,n){const i=this.calculateBitsNeeded(t,r,n,ue.getVersionForNumber(1)),o=this.chooseVersion(i,e),l=this.calculateBitsNeeded(t,r,n,o);return this.chooseVersion(l,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<Qe.ALPHANUMERIC_TABLE.length?Qe.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(K.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return pe.KANJI;let r=!1,n=!1;for(let i=0,o=e.length;i<o;++i){const l=e.charAt(i);if(Qe.isDigit(l))r=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)n=!0;else return pe.BYTE}return n?pe.ALPHANUMERIC:r?pe.NUMERIC:pe.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=nt.encode(e,K.SJIS)}catch{return!1}const r=t.length;if(r%2!==0)return!1;for(let n=0;n<r;n+=2){const i=t[n]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let i=Number.MAX_SAFE_INTEGER,o=-1;for(let l=0;l<Qr.NUM_MASK_PATTERNS;l++){me.buildMatrix(e,t,r,l,n);let u=this.calculateMaskPenalty(n);u<i&&(i=u,o=l)}return o}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=ue.getVersionForNumber(r);if(Qe.willFit(e,n,t))return n}throw new ze("Data too big")}static willFit(e,t,r){const n=t.getTotalCodewords(),i=t.getECBlocksForLevel(r).getTotalECCodewords(),o=n-i,l=(e+7)/8;return o>=l}static terminateBits(e,t){const r=e*8;if(t.getSize()>r)throw new ze("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let o=0;o<4&&t.getSize()<r;++o)t.appendBit(!1);const n=t.getSize()&7;if(n>0)for(let o=n;o<8;o++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let o=0;o<i;++o)t.appendBits((o&1)===0?236:17,8);if(t.getSize()!==r)throw new ze("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,i,o){if(n>=r)throw new ze("Block ID too large");const l=e%r,u=r-l,d=Math.floor(e/r),p=d+1,m=Math.floor(t/r),A=m+1,_=d-m,b=p-A;if(_!==b)throw new ze("EC bytes mismatch");if(r!==u+l)throw new ze("RS blocks mismatch");if(e!==(m+_)*u+(A+b)*l)throw new ze("Total bytes mismatch");n<u?(i[0]=m,o[0]=_):(i[0]=A,o[0]=b)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new ze("Number of bits and data bytes does not match");let i=0,o=0,l=0;const u=new Array;for(let p=0;p<n;++p){const m=new Int32Array(1),A=new Int32Array(1);Qe.getNumDataBytesAndNumECBytesForBlockID(t,r,n,p,m,A);const _=m[0],b=new Uint8Array(_);e.toBytes(8*i,b,0,_);const D=Qe.generateECBytes(b,A[0]);u.push(new v1(b,D)),o=Math.max(o,_),l=Math.max(l,D.length),i+=m[0]}if(r!==i)throw new ze("Data bytes does not match offset");const d=new ee;for(let p=0;p<o;++p)for(const m of u){const A=m.getDataBytes();p<A.length&&d.appendBits(A[p],8)}for(let p=0;p<l;++p)for(const m of u){const A=m.getErrorCorrectionBytes();p<A.length&&d.appendBits(A[p],8)}if(t!==d.getSizeInBytes())throw new ze("Interleaving error: "+t+" and "+d.getSizeInBytes()+" differ.");return d}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let o=0;o<r;o++)n[o]=e[o]&255;new $i(P.QR_CODE_FIELD_256).encode(n,t);const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=n[r+o];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const i=r.getCharacterCountBits(t);if(e>=1<<i)throw new ze(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)}static appendBytes(e,t,r,n){switch(t){case pe.NUMERIC:Qe.appendNumericBytes(e,r);break;case pe.ALPHANUMERIC:Qe.appendAlphanumericBytes(e,r);break;case pe.BYTE:Qe.append8BitBytes(e,r,n);break;case pe.KANJI:Qe.appendKanjiBytes(e,r);break;default:throw new ze("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Qe.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=Qe.getDigit(e.charAt(n));if(n+2<r){const o=Qe.getDigit(e.charAt(n+1)),l=Qe.getDigit(e.charAt(n+2));t.appendBits(i*100+o*10+l,10),n+=3}else if(n+1<r){const o=Qe.getDigit(e.charAt(n+1));t.appendBits(i*10+o,7),n+=2}else t.appendBits(i,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=Qe.getAlphanumericCode(e.charCodeAt(n));if(i===-1)throw new ze;if(n+1<r){const o=Qe.getAlphanumericCode(e.charCodeAt(n+1));if(o===-1)throw new ze;t.appendBits(i*45+o,11),n+=2}else t.appendBits(i,6),n++}}static append8BitBytes(e,t,r){let n;try{n=nt.encode(e,r)}catch(i){throw new ze(i)}for(let i=0,o=n.length;i!==o;i++){const l=n[i];t.appendBits(l,8)}}static appendKanjiBytes(e,t){let r;try{r=nt.encode(e,K.SJIS)}catch(i){throw new ze(i)}const n=r.length;for(let i=0;i<n;i+=2){const o=r[i]&255,l=r[i+1]&255,u=o<<8&4294967295|l;let d=-1;if(u>=33088&&u<=40956?d=u-33088:u>=57408&&u<=60351&&(d=u-49472),d===-1)throw new ze("Invalid byte sequence");const p=(d>>8)*192+(d&255);t.appendBits(p,13)}}static appendECI(e,t){t.appendBits(pe.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Qe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Qe.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class $r{write(e,t,r,n=null){if(e.length===0)throw new R("Found empty contents");if(t<0||r<0)throw new R("Requested dimensions are too small: "+t+"x"+r);let i=Ke.L,o=$r.QUIET_ZONE_SIZE;n!==null&&(n.get(ft.ERROR_CORRECTION)!==void 0&&(i=Ke.fromString(n.get(ft.ERROR_CORRECTION).toString())),n.get(ft.MARGIN)!==void 0&&(o=Number.parseInt(n.get(ft.MARGIN).toString(),10)));const l=Qe.encode(e,i,n);return this.renderResult(l,t,r,o)}writeToDom(e,t,r,n,i=null){typeof e=="string"&&(e=document.querySelector(e));const o=this.write(t,r,n,i);e&&e.appendChild(o)}renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new U;const o=i.getWidth(),l=i.getHeight(),u=o+n*2,d=l+n*2,p=Math.max(t,u),m=Math.max(r,d),A=Math.min(Math.floor(p/u),Math.floor(m/d)),_=Math.floor((p-o*A)/2),b=Math.floor((m-l*A)/2),D=this.createSVGElement(p,m);for(let B=0,L=b;B<l;B++,L+=A)for(let J=0,q=_;J<o;J++,q+=A)if(i.get(J,B)===1){const X=this.createSvgRectElement(q,L,A,A);D.appendChild(X)}return D}createSVGElement(e,t){const r=document.createElementNS($r.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const i=document.createElementNS($r.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",n.toString()),i.setAttributeNS(null,"fill","#000000"),i}}$r.QUIET_ZONE_SIZE=4,$r.SVG_NS="http://www.w3.org/2000/svg";class un{encode(e,t,r,n,i){if(e.length===0)throw new R("Found empty contents");if(t!==le.QR_CODE)throw new R("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new R(`Requested dimensions are too small: ${r}x${n}`);let o=Ke.L,l=un.QUIET_ZONE_SIZE;i!==null&&(i.get(ft.ERROR_CORRECTION)!==void 0&&(o=Ke.fromString(i.get(ft.ERROR_CORRECTION).toString())),i.get(ft.MARGIN)!==void 0&&(l=Number.parseInt(i.get(ft.MARGIN).toString(),10)));const u=Qe.encode(e,o,i);return un.renderResult(u,r,n,l)}static renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new U;const o=i.getWidth(),l=i.getHeight(),u=o+n*2,d=l+n*2,p=Math.max(t,u),m=Math.max(r,d),A=Math.min(Math.floor(p/u),Math.floor(m/d)),_=Math.floor((p-o*A)/2),b=Math.floor((m-l*A)/2),D=new ge(p,m);for(let B=0,L=b;B<l;B++,L+=A)for(let J=0,q=_;J<o;J++,q+=A)i.get(J,B)===1&&D.setRegion(q,L,A,A);return D}}un.QUIET_ZONE_SIZE=4;class M1{encode(e,t,r,n,i){let o;switch(t){case le.QR_CODE:o=new un;break;default:throw new R("No encoder available for format "+t)}return o.encode(e,t,r,n,i)}}class hr extends ut{constructor(e,t,r,n,i,o,l,u){if(super(o,l),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=i,n+o>t||i+l>r)throw new R("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(o,l)}getRow(e,t){if(e<0||e>=this.getHeight())throw new R("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return re.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return re.arraycopy(this.yuvData,i,n,0,r),n;for(let o=0;o<t;o++){const l=o*e;re.arraycopy(this.yuvData,i,n,l,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new hr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/hr.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/hr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let o=0;o<t;o++){const l=o*e;for(let u=0;u<e;u++){const d=n[i+u*hr.THUMBNAIL_SCALE_FACTOR]&255;r[l+u]=4278190080|d*65793}i+=this.dataWidth*hr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/hr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/hr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth){const o=i+e/2;for(let l=i,u=i+e-1;l<o;l++,u--){const d=r[l];r[l]=r[u],r[u]=d}}}invert(){return new yt(this)}}hr.THUMBNAIL_SCALE_FACTOR=2;class qi extends ut{constructor(e,t,r,n,i,o,l){if(super(t,r),this.dataWidth=n,this.dataHeight=i,this.left=o,this.top=l,e.BYTES_PER_ELEMENT===4){const u=t*r,d=new Uint8ClampedArray(u);for(let p=0;p<u;p++){const m=e[p],A=m>>16&255,_=m>>7&510,b=m&255;d[p]=(A+_+b)/4&255}this.luminances=d}else this.luminances=e;if(n===void 0&&(this.dataWidth=t),i===void 0&&(this.dataHeight=r),o===void 0&&(this.left=0),l===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new R("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new R("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return re.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return re.arraycopy(this.luminances,i,n,0,r),n;for(let o=0;o<t;o++){const l=o*e;re.arraycopy(this.luminances,i,n,l,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new qi(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new yt(this)}}class ao extends K{static forName(e){return this.getCharacterSetECIByName(e)}}class Ji{}Ji.ISO_8859_1=K.ISO8859_1;class lo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class co{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class B1{constructor(e){this.previous=e}getPrevious(){return this.previous}}class hn extends B1{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new hn(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+ne.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class es extends hn{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new es(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function P1(w,e,t){return new es(w,e,t)}function Mn(w,e,t){return new hn(w,e,t)}const F1=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Lr=0,oi=1,qt=2,uo=3,dr=4,L1=new hn(null,0,0),ts=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function x1(w){for(let e of w)we.fill(e,-1);return w[Lr][dr]=0,w[oi][dr]=0,w[oi][Lr]=28,w[uo][dr]=0,w[qt][dr]=0,w[qt][Lr]=15,w}const ho=x1(we.createInt32Array(6,6));class fr{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let o=ts[this.mode][e];n=Mn(n,o&65535,o>>16),r+=o>>16}let i=e===qt?4:5;return n=Mn(n,t,i),new fr(n,e,0,r+i)}shiftAndAppend(e,t){let r=this.token,n=this.mode===qt?4:5;return r=Mn(r,ho[this.mode][e],n),r=Mn(r,t,5),new fr(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===dr||this.mode===qt){let l=ts[r][Lr];t=Mn(t,l&65535,l>>16),n+=l>>16,r=Lr}let i=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new fr(t,r,this.binaryShiftByteCount+1,n+i);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=P1(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new fr(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(ts[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=fr.calculateBinaryShiftCost(e)-fr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;n!==null;n=n.getPrevious())t.unshift(n);let r=new ee;for(const n of t)n.appendTo(r,e);return r}toString(){return fe.format("%s bits=%d bytes=%d",F1[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}fr.INITIAL_STATE=new fr(L1,Lr,0,0);function k1(w){const e=fe.getCharCode(" "),t=fe.getCharCode("."),r=fe.getCharCode(",");w[Lr][e]=1;const n=fe.getCharCode("Z"),i=fe.getCharCode("A");for(let A=i;A<=n;A++)w[Lr][A]=A-i+2;w[oi][e]=1;const o=fe.getCharCode("z"),l=fe.getCharCode("a");for(let A=l;A<=o;A++)w[oi][A]=A-l+2;w[qt][e]=1;const u=fe.getCharCode("9"),d=fe.getCharCode("0");for(let A=d;A<=u;A++)w[qt][A]=A-d+2;w[qt][r]=12,w[qt][t]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<p.length;A++)w[uo][fe.getCharCode(p[A])]=A;const m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<m.length;A++)fe.getCharCode(m[A])>0&&(w[dr][fe.getCharCode(m[A])]=A);return w}const rs=k1(we.createInt32Array(5,256));class Bn{constructor(e){this.text=e}encode(){const e=fe.getCharCode(" "),t=fe.getCharCode(`
`);let r=co.singletonList(fr.INITIAL_STATE);for(let n=0;n<this.text.length;n++){let i,o=n+1<this.text.length?this.text[n+1]:0;switch(this.text[n]){case fe.getCharCode("\r"):i=o===t?2:0;break;case fe.getCharCode("."):i=o===e?3:0;break;case fe.getCharCode(","):i=o===e?4:0;break;case fe.getCharCode(":"):i=o===e?5:0;break;default:i=0}i>0?(r=Bn.updateStateListForPair(r,n,i),n++):r=this.updateStateListForChar(r,n)}return co.min(r,(n,i)=>n.getBitCount()-i.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return Bn.simplifyStates(r)}updateStateForChar(e,t,r){let n=this.text[t]&255,i=rs[e.getMode()][n]>0,o=null;for(let l=0;l<=dr;l++){let u=rs[l][n];if(u>0){if(o==null&&(o=e.endBinaryShift(t)),!i||l===e.getMode()||l===qt){const d=o.latchAndAppend(l,u);r.push(d)}if(!i&&ho[e.getMode()][l]>=0){const d=o.shiftAndAppend(l,u);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||rs[e.getMode()][n]===0){let l=e.addBinaryShiftChar(t);r.push(l)}}static updateStateListForPair(e,t,r){const n=[];for(let i of e)this.updateStateForPair(i,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let i=e.endBinaryShift(t);if(n.push(i.latchAndAppend(dr,r)),e.getMode()!==dr&&n.push(i.shiftAndAppend(dr,r)),r===3||r===4){let o=i.latchAndAppend(qt,16-r).latchAndAppend(qt,1);n.push(o)}if(e.getBinaryShiftByteCount()>0){let o=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(o)}}static simplifyStates(e){let t=[];for(const r of e){let n=!0;for(const i of t){if(i.isBetterThanOrEqualTo(r)){n=!1;break}r.isBetterThanOrEqualTo(i)&&(t=t.filter(o=>o!==i))}n&&t.push(r)}return t}}class Be{constructor(){}static encodeBytes(e){return Be.encode(e,Be.DEFAULT_EC_PERCENT,Be.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n=new Bn(e).encode(),i=ne.truncDivision(n.getSize()*t,100)+11,o=n.getSize()+i,l,u,d,p,m;if(r!==Be.DEFAULT_AZTEC_LAYERS){if(l=r<0,u=Math.abs(r),u>(l?Be.MAX_NB_BITS_COMPACT:Be.MAX_NB_BITS))throw new R(fe.format("Illegal value %s for layers",r));d=Be.totalBitsInLayer(u,l),p=Be.WORD_SIZE[u];let X=d-d%p;if(m=Be.stuffBits(n,p),m.getSize()+i>X)throw new R("Data to large for user specified layer");if(l&&m.getSize()>p*64)throw new R("Data to large for user specified layer")}else{p=0,m=null;for(let X=0;;X++){if(X>Be.MAX_NB_BITS)throw new R("Data too large for an Aztec code");if(l=X<=3,u=l?X+1:X,d=Be.totalBitsInLayer(u,l),o>d)continue;(m==null||p!==Be.WORD_SIZE[u])&&(p=Be.WORD_SIZE[u],m=Be.stuffBits(n,p));let Oe=d-d%p;if(!(l&&m.getSize()>p*64)&&m.getSize()+i<=Oe)break}}let A=Be.generateCheckWords(m,d,p),_=m.getSize()/p,b=Be.generateModeMessage(l,u,_),D=(l?11:14)+u*4,B=new Int32Array(D),L;if(l){L=D;for(let X=0;X<B.length;X++)B[X]=X}else{L=D+1+2*ne.truncDivision(ne.truncDivision(D,2)-1,15);let X=ne.truncDivision(D,2),Oe=ne.truncDivision(L,2);for(let Ie=0;Ie<X;Ie++){let Vt=Ie+ne.truncDivision(Ie,15);B[X-Ie-1]=Oe-Vt-1,B[X+Ie]=Oe+Vt+1}}let J=new ge(L);for(let X=0,Oe=0;X<u;X++){let Ie=(u-X)*4+(l?9:12);for(let Vt=0;Vt<Ie;Vt++){let er=Vt*2;for(let Ht=0;Ht<2;Ht++)A.get(Oe+er+Ht)&&J.set(B[X*2+Ht],B[X*2+Vt]),A.get(Oe+Ie*2+er+Ht)&&J.set(B[X*2+Vt],B[D-1-X*2-Ht]),A.get(Oe+Ie*4+er+Ht)&&J.set(B[D-1-X*2-Ht],B[D-1-X*2-Vt]),A.get(Oe+Ie*6+er+Ht)&&J.set(B[D-1-X*2-Vt],B[X*2+Ht])}Oe+=Ie*8}if(Be.drawModeMessage(J,l,L,b),l)Be.drawBullsEye(J,ne.truncDivision(L,2),5);else{Be.drawBullsEye(J,ne.truncDivision(L,2),7);for(let X=0,Oe=0;X<ne.truncDivision(D,2)-1;X+=15,Oe+=16)for(let Ie=ne.truncDivision(L,2)&1;Ie<L;Ie+=2)J.set(ne.truncDivision(L,2)-Oe,Ie),J.set(ne.truncDivision(L,2)+Oe,Ie),J.set(Ie,ne.truncDivision(L,2)-Oe),J.set(Ie,ne.truncDivision(L,2)+Oe)}let q=new lo;return q.setCompact(l),q.setSize(L),q.setLayers(u),q.setCodeWords(_),q.setMatrix(J),q}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let i=t-n;i<=t+n;i++)e.set(i,t-n),e.set(i,t+n),e.set(t-n,i),e.set(t+n,i);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new ee;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=Be.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=Be.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let i=ne.truncDivision(r,2);if(t)for(let o=0;o<7;o++){let l=i-3+o;n.get(o)&&e.set(l,i-5),n.get(o+7)&&e.set(i+5,l),n.get(20-o)&&e.set(l,i+5),n.get(27-o)&&e.set(i-5,l)}else for(let o=0;o<10;o++){let l=i-5+o+ne.truncDivision(o,5);n.get(o)&&e.set(l,i-7),n.get(o+10)&&e.set(i+7,l),n.get(29-o)&&e.set(l,i+7),n.get(39-o)&&e.set(i-7,l)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,i=new $i(Be.getGF(r)),o=ne.truncDivision(t,r),l=Be.bitsToWords(e,r,o);i.encode(l,o-n);let u=t%r,d=new ee;d.appendBits(0,u);for(const p of Array.from(l))d.appendBits(p,r);return d}static bitsToWords(e,t,r){let n=new Int32Array(r),i,o;for(i=0,o=e.getSize()/t;i<o;i++){let l=0;for(let u=0;u<t;u++)l|=e.get(i*t+u)?1<<t-u-1:0;n[i]=l}return n}static getGF(e){switch(e){case 4:return P.AZTEC_PARAM;case 6:return P.AZTEC_DATA_6;case 8:return P.AZTEC_DATA_8;case 10:return P.AZTEC_DATA_10;case 12:return P.AZTEC_DATA_12;default:throw new R("Unsupported word size "+e)}}static stuffBits(e,t){let r=new ee,n=e.getSize(),i=(1<<t)-2;for(let o=0;o<n;o+=t){let l=0;for(let u=0;u<t;u++)(o+u>=n||e.get(o+u))&&(l|=1<<t-1-u);(l&i)===i?(r.appendBits(l&i,t),o--):(l&i)===0?(r.appendBits(l|1,t),o--):r.appendBits(l,t)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Be.DEFAULT_EC_PERCENT=33,Be.DEFAULT_AZTEC_LAYERS=0,Be.MAX_NB_BITS=32,Be.MAX_NB_BITS_COMPACT=4,Be.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ai{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,i){let o=Ji.ISO_8859_1,l=Be.DEFAULT_EC_PERCENT,u=Be.DEFAULT_AZTEC_LAYERS;return i!=null&&(i.has(ft.CHARACTER_SET)&&(o=ao.forName(i.get(ft.CHARACTER_SET).toString())),i.has(ft.ERROR_CORRECTION)&&(l=ne.parseInt(i.get(ft.ERROR_CORRECTION).toString())),i.has(ft.AZTEC_LAYERS)&&(u=ne.parseInt(i.get(ft.AZTEC_LAYERS).toString()))),ai.encodeLayers(e,t,r,n,o,l,u)}static encodeLayers(e,t,r,n,i,o,l){if(t!==le.AZTEC)throw new R("Can only encode AZTEC, but got "+t);let u=Be.encode(fe.getBytes(e,i),o,l);return ai.renderResult(u,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(n==null)throw new U;let i=n.getWidth(),o=n.getHeight(),l=Math.max(t,i),u=Math.max(r,o),d=Math.min(l/i,u/o),p=(l-i*d)/2,m=(u-o*d)/2,A=new ge(l,u);for(let _=0,b=m;_<o;_++,b+=d)for(let D=0,B=p;D<i;D++,B+=d)n.get(D,_)&&A.setRegion(B,b,d,d);return A}}c.AbstractExpandedDecoder=Hi,c.ArgumentException=N,c.ArithmeticException=O,c.AztecCode=lo,c.AztecCodeReader=Ot,c.AztecCodeWriter=ai,c.AztecDecoder=H,c.AztecDetector=Gt,c.AztecDetectorResult=ce,c.AztecEncoder=Be,c.AztecHighLevelEncoder=Bn,c.AztecPoint=ke,c.BarcodeFormat=le,c.Binarizer=de,c.BinaryBitmap=z,c.BitArray=ee,c.BitMatrix=ge,c.BitSource=zi,c.BrowserAztecCodeReader=zr,c.BrowserBarcodeReader=p1,c.BrowserCodeReader=or,c.BrowserDatamatrixCodeReader=m1,c.BrowserMultiFormatReader=R1,c.BrowserPDF417Reader=O1,c.BrowserQRCodeReader=D1,c.BrowserQRCodeSvgWriter=$r,c.CharacterSetECI=K,c.ChecksumException=Z,c.Code128Reader=j,c.Code39Reader=Ue,c.DataMatrixDecodedBitStreamParser=Mr,c.DataMatrixReader=Br,c.DecodeHintType=Ne,c.DecoderResult=Dr,c.DefaultGridSampler=Pe,c.DetectorResult=te,c.EAN13Reader=Yr,c.EncodeHintType=ft,c.Exception=C,c.FormatException=Q,c.GenericGF=P,c.GenericGFPoly=T,c.GlobalHistogramBinarizer=Ce,c.GridSampler=Re,c.GridSamplerInstance=et,c.HTMLCanvasElementLuminanceSource=Lt,c.HybridBinarizer=ie,c.ITFReader=Ve,c.IllegalArgumentException=R,c.IllegalStateException=U,c.InvertedLuminanceSource=yt,c.LuminanceSource=ut,c.MathUtils=k,c.MultiFormatOneDReader=ln,c.MultiFormatReader=oo,c.MultiFormatWriter=M1,c.NotFoundException=M,c.OneDReader=tt,c.PDF417DecodedBitStreamParser=F,c.PDF417DecoderErrorCorrection=eo,c.PDF417Reader=It,c.PDF417ResultMetadata=ro,c.PerspectiveTransform=De,c.PlanarYUVLuminanceSource=hr,c.QRCodeByteMatrix=si,c.QRCodeDataMask=Qt,c.QRCodeDecodedBitStreamParser=rt,c.QRCodeDecoderErrorCorrectionLevel=Ke,c.QRCodeDecoderFormatInformation=Tt,c.QRCodeEncoder=Qe,c.QRCodeEncoderQRCode=Qr,c.QRCodeMaskUtil=at,c.QRCodeMatrixUtil=me,c.QRCodeMode=pe,c.QRCodeReader=Pr,c.QRCodeVersion=ue,c.QRCodeWriter=un,c.RGBLuminanceSource=qi,c.RSS14Reader=ot,c.RSSExpandedReader=V,c.ReaderException=ii,c.ReedSolomonDecoder=W,c.ReedSolomonEncoder=$i,c.ReedSolomonException=G,c.Result=Ct,c.ResultMetadataType=it,c.ResultPoint=x,c.StringUtils=fe,c.UnsupportedOperationException=Et,c.VideoInputDevice=Cr,c.WhiteRectangleDetector=he,c.WriterException=ze,c.ZXingArrays=we,c.ZXingCharset=ao,c.ZXingInteger=ne,c.ZXingStandardCharsets=Ji,c.ZXingStringBuilder=ae,c.ZXingStringEncoding=nt,c.ZXingSystem=re,c.createAbstractExpandedDecoder=qs,Object.defineProperty(c,"__esModule",{value:!0})})}(Ei,Ei.exports)),Ei.exports}var $e=Cu();const Au=mu($e),Iu=H1({__proto__:null,default:Au},[$e]);var Zo=function(){function s(a,c,h){if(this.formatMap=new Map([[oe.QR_CODE,$e.BarcodeFormat.QR_CODE],[oe.AZTEC,$e.BarcodeFormat.AZTEC],[oe.CODABAR,$e.BarcodeFormat.CODABAR],[oe.CODE_39,$e.BarcodeFormat.CODE_39],[oe.CODE_93,$e.BarcodeFormat.CODE_93],[oe.CODE_128,$e.BarcodeFormat.CODE_128],[oe.DATA_MATRIX,$e.BarcodeFormat.DATA_MATRIX],[oe.MAXICODE,$e.BarcodeFormat.MAXICODE],[oe.ITF,$e.BarcodeFormat.ITF],[oe.EAN_13,$e.BarcodeFormat.EAN_13],[oe.EAN_8,$e.BarcodeFormat.EAN_8],[oe.PDF_417,$e.BarcodeFormat.PDF_417],[oe.RSS_14,$e.BarcodeFormat.RSS_14],[oe.RSS_EXPANDED,$e.BarcodeFormat.RSS_EXPANDED],[oe.UPC_A,$e.BarcodeFormat.UPC_A],[oe.UPC_E,$e.BarcodeFormat.UPC_E],[oe.UPC_EAN_EXTENSION,$e.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Iu)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=c,this.logger=h;var f=this.createZXingFormats(a),g=new Map;g.set($e.DecodeHintType.POSSIBLE_FORMATS,f),g.set($e.DecodeHintType.TRY_HARDER,!1),this.hints=g}return s.prototype.decodeAsync=function(a){var c=this;return new Promise(function(h,f){try{h(c.decode(a))}catch(g){f(g)}})},s.prototype.decode=function(a){var c=new $e.MultiFormatReader(this.verbose,this.hints),h=new $e.HTMLCanvasElementLuminanceSource(a),f=new $e.BinaryBitmap(new $e.HybridBinarizer(h)),g=c.decode(f);return{text:g.text,format:l1.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}},s.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(c,h,f){a.set(c,h)}),a},s.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},s.prototype.createZXingFormats=function(a){for(var c=[],h=0,f=a;h<f.length;h++){var g=f[h];this.formatMap.has(g)?c.push(this.formatMap.get(g)):this.logger.logError("".concat(g," is not supported by")+"ZXingHtml5QrcodeShim")}return c},s.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},s}(),Su=function(s,a,c,h){function f(g){return g instanceof c?g:new c(function(E){E(g)})}return new(c||(c=Promise))(function(g,E){function I(N){try{C(h.next(N))}catch(R){E(R)}}function S(N){try{C(h.throw(N))}catch(R){E(R)}}function C(N){N.done?g(N.value):f(N.value).then(I,S)}C((h=h.apply(s,[])).next())})},yu=function(s,a){var c={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,f,g,E;return E={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function I(C){return function(N){return S([C,N])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(c=0)),c;)try{if(h=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,f=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(g=c.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){c.label=C[1];break}if(C[0]===6&&c.label<g[1]){c.label=g[1],g=C;break}if(g&&c.label<g[2]){c.label=g[2],c.ops.push(C);break}g[2]&&c.ops.pop(),c.trys.pop();continue}C=a.call(s,c)}catch(N){C=[6,N],f=0}finally{h=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Ko=function(){function s(a,c,h){if(this.formatMap=new Map([[oe.QR_CODE,"qr_code"],[oe.AZTEC,"aztec"],[oe.CODABAR,"codabar"],[oe.CODE_39,"code_39"],[oe.CODE_93,"code_93"],[oe.CODE_128,"code_128"],[oe.DATA_MATRIX,"data_matrix"],[oe.ITF,"itf"],[oe.EAN_13,"ean_13"],[oe.EAN_8,"ean_8"],[oe.PDF_417,"pdf417"],[oe.UPC_A,"upc_a"],[oe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!s.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=c,this.logger=h;var f=this.createBarcodeDetectorFormats(a);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return s.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var a=new BarcodeDetector({formats:["qr_code"]});return typeof a<"u"},s.prototype.decodeAsync=function(a){return Su(this,void 0,void 0,function(){var c,h;return yu(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(a)];case 1:if(c=f.sent(),!c||c.length===0)throw"No barcode or QR code detected.";return h=this.selectLargestBarcode(c),[2,{text:h.rawValue,format:l1.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}]}})})},s.prototype.selectLargestBarcode=function(a){for(var c=null,h=0,f=0,g=a;f<g.length;f++){var E=g[f],I=E.boundingBox.width*E.boundingBox.height;I>h&&(h=I,c=E)}if(!c)throw"No largest barcode found";return c},s.prototype.createBarcodeDetectorFormats=function(a){for(var c=[],h=0,f=a;h<f.length;h++){var g=f[h];this.formatMap.has(g)?c.push(this.formatMap.get(g)):this.logger.warn("".concat(g," is not supported by")+"BarcodeDetectorDelegate")}return{formats:c}},s.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},s.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(c,h,f){a.set(c,h)}),a},s.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},s}(),jo=function(s,a,c,h){function f(g){return g instanceof c?g:new c(function(E){E(g)})}return new(c||(c=Promise))(function(g,E){function I(N){try{C(h.next(N))}catch(R){E(R)}}function S(N){try{C(h.throw(N))}catch(R){E(R)}}function C(N){N.done?g(N.value):f(N.value).then(I,S)}C((h=h.apply(s,[])).next())})},Qo=function(s,a){var c={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,f,g,E;return E={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function I(C){return function(N){return S([C,N])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(c=0)),c;)try{if(h=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,f=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(g=c.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){c.label=C[1];break}if(C[0]===6&&c.label<g[1]){c.label=g[1],g=C;break}if(g&&c.label<g[2]){c.label=g[2],c.ops.push(C);break}g[2]&&c.ops.pop(),c.trys.pop();continue}C=a.call(s,c)}catch(N){C=[6,N],f=0}finally{h=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},_u=function(){function s(a,c,h,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=h,c&&Ko.isSupported()?(this.primaryDecoder=new Ko(a,h,f),this.secondaryDecoder=new Zo(a,h,f)):this.primaryDecoder=new Zo(a,h,f)}return s.prototype.decodeAsync=function(a){return jo(this,void 0,void 0,function(){var c;return Qo(this,function(h){switch(h.label){case 0:c=performance.now(),h.label=1;case 1:return h.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(a)];case 2:return[2,h.sent()];case 3:return this.possiblyLogPerformance(c),[7];case 4:return[2]}})})},s.prototype.decodeRobustlyAsync=function(a){return jo(this,void 0,void 0,function(){var c,h;return Qo(this,function(f){switch(f.label){case 0:c=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(a)];case 2:return[2,f.sent()];case 3:if(h=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(a)];throw h;case 4:return this.possiblyLogPerformance(c),[7];case 5:return[2]}})})},s.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},s.prototype.possiblyLogPerformance=function(a){if(this.verbose){var c=performance.now()-a;this.executionResults.push(c),this.executions++,this.possiblyFlushPerformanceReport()}},s.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var a=0,c=0,h=this.executionResults;c<h.length;c++){var f=h[c];a+=f}var g=a/this.executionResults.length;console.log("".concat(g," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},s}(),Ks=function(){var s=function(a,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(h[g]=f[g])},s(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(a,c);function h(){this.constructor=a}a.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),bi=function(s,a,c,h){function f(g){return g instanceof c?g:new c(function(E){E(g)})}return new(c||(c=Promise))(function(g,E){function I(N){try{C(h.next(N))}catch(R){E(R)}}function S(N){try{C(h.throw(N))}catch(R){E(R)}}function C(N){N.done?g(N.value):f(N.value).then(I,S)}C((h=h.apply(s,[])).next())})},Ni=function(s,a){var c={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,f,g,E;return E={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function I(C){return function(N){return S([C,N])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(c=0)),c;)try{if(h=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,f=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(g=c.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){c.label=C[1];break}if(C[0]===6&&c.label<g[1]){c.label=g[1],g=C;break}if(g&&c.label<g[2]){c.label=g[2],c.ops.push(C);break}g[2]&&c.ops.pop(),c.trys.pop();continue}C=a.call(s,c)}catch(N){C=[6,N],f=0}finally{h=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},u1=function(){function s(a,c){this.name=a,this.track=c}return s.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},s.prototype.apply=function(a){var c={};c[this.name]=a;var h={advanced:[c]};return this.track.applyConstraints(h)},s.prototype.value=function(){var a=this.track.getSettings();if(this.name in a){var c=a[this.name];return c}return null},s}(),Tu=function(s){Ks(a,s);function a(c,h){return s.call(this,c,h)||this}return a.prototype.min=function(){return this.getCapabilities().min},a.prototype.max=function(){return this.getCapabilities().max},a.prototype.step=function(){return this.getCapabilities().step},a.prototype.apply=function(c){var h={};h[this.name]=c;var f={advanced:[h]};return this.track.applyConstraints(f)},a.prototype.getCapabilities=function(){this.failIfNotSupported();var c=this.track.getCapabilities(),h=c[this.name];return{min:h.min,max:h.max,step:h.step}},a.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},a}(u1),bu=function(s){Ks(a,s);function a(c){return s.call(this,"zoom",c)||this}return a}(Tu),Nu=function(s){Ks(a,s);function a(c){return s.call(this,"torch",c)||this}return a}(u1),Ru=function(){function s(a){this.track=a}return s.prototype.zoomFeature=function(){return new bu(this.track)},s.prototype.torchFeature=function(){return new Nu(this.track)},s}(),Ou=function(){function s(a,c,h){this.isClosed=!1,this.parentElement=a,this.mediaStream=c,this.callbacks=h,this.surface=this.createVideoElement(this.parentElement.clientWidth),a.append(this.surface)}return s.prototype.createVideoElement=function(a){var c=document.createElement("video");return c.style.width="".concat(a,"px"),c.style.display="block",c.muted=!0,c.setAttribute("muted","true"),c.playsInline=!0,c},s.prototype.setupSurface=function(){var a=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var c=function(){var h=a.surface.clientWidth,f=a.surface.clientHeight;a.callbacks.onRenderSurfaceReady(h,f),a.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.srcObject=this.mediaStream,this.surface.play()},s.create=function(a,c,h,f){return bi(this,void 0,void 0,function(){var g,E;return Ni(this,function(I){switch(I.label){case 0:return g=new s(a,c,f),h.aspectRatio?(E={aspectRatio:h.aspectRatio},[4,g.getFirstTrackOrFail().applyConstraints(E)]):[3,2];case 1:I.sent(),I.label=2;case 2:return g.setupSurface(),[2,g]}})})},s.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},s.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},s.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},s.prototype.resume=function(a){this.failIfClosed();var c=this,h=function(){setTimeout(a,200),c.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.play()},s.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},s.prototype.getSurface=function(){return this.failIfClosed(),this.surface},s.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},s.prototype.applyVideoConstraints=function(a){return bi(this,void 0,void 0,function(){return Ni(this,function(c){if("aspectRatio"in a)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(a)]})})},s.prototype.close=function(){if(this.isClosed)return Promise.resolve();var a=this;return new Promise(function(c,h){var f=a.mediaStream.getVideoTracks(),g=f.length,E=0;a.mediaStream.getVideoTracks().forEach(function(I){a.mediaStream.removeTrack(I),I.stop(),++E,E>=g&&(a.isClosed=!0,a.parentElement.removeChild(a.surface),c())})})},s.prototype.getCapabilities=function(){return new Ru(this.getFirstTrackOrFail())},s}(),Du=function(){function s(a){this.mediaStream=a}return s.prototype.render=function(a,c,h){return bi(this,void 0,void 0,function(){return Ni(this,function(f){return[2,Ou.create(a,this.mediaStream,c,h)]})})},s.create=function(a){return bi(this,void 0,void 0,function(){var c,h;return Ni(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return c={audio:!1,video:a},[4,navigator.mediaDevices.getUserMedia(c)];case 1:return h=f.sent(),[2,new s(h)]}})})},s}(),$o=function(s,a,c,h){function f(g){return g instanceof c?g:new c(function(E){E(g)})}return new(c||(c=Promise))(function(g,E){function I(N){try{C(h.next(N))}catch(R){E(R)}}function S(N){try{C(h.throw(N))}catch(R){E(R)}}function C(N){N.done?g(N.value):f(N.value).then(I,S)}C((h=h.apply(s,[])).next())})},qo=function(s,a){var c={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,f,g,E;return E={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function I(C){return function(N){return S([C,N])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(c=0)),c;)try{if(h=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,f=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(g=c.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){c.label=C[1];break}if(C[0]===6&&c.label<g[1]){c.label=g[1],g=C;break}if(g&&c.label<g[2]){c.label=g[2],c.ops.push(C);break}g[2]&&c.ops.pop(),c.trys.pop();continue}C=a.call(s,c)}catch(N){C=[6,N],f=0}finally{h=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},vu=function(){function s(){}return s.failIfNotSupported=function(){return $o(this,void 0,void 0,function(){return qo(this,function(a){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new s]})})},s.prototype.create=function(a){return $o(this,void 0,void 0,function(){return qo(this,function(c){return[2,Du.create(a)]})})},s}(),Mu=function(s,a,c,h){function f(g){return g instanceof c?g:new c(function(E){E(g)})}return new(c||(c=Promise))(function(g,E){function I(N){try{C(h.next(N))}catch(R){E(R)}}function S(N){try{C(h.throw(N))}catch(R){E(R)}}function C(N){N.done?g(N.value):f(N.value).then(I,S)}C((h=h.apply(s,[])).next())})},Bu=function(s,a){var c={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,f,g,E;return E={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function I(C){return function(N){return S([C,N])}}function S(C){if(h)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(c=0)),c;)try{if(h=1,f&&(g=C[0]&2?f.return:C[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,C[1])).done)return g;switch(f=0,g&&(C=[C[0]&2,g.value]),C[0]){case 0:case 1:g=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,f=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(g=c.trys,!(g=g.length>0&&g[g.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){c.label=C[1];break}if(C[0]===6&&c.label<g[1]){c.label=g[1],g=C;break}if(g&&c.label<g[2]){c.label=g[2],c.ops.push(C);break}g[2]&&c.ops.pop(),c.trys.pop();continue}C=a.call(s,c)}catch(N){C=[6,N],f=0}finally{h=g=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Pu=function(){function s(){}return s.retrieve=function(){if(navigator.mediaDevices)return s.getCamerasFromMediaDevices();var a=MediaStreamTrack;return MediaStreamTrack&&a.getSources?s.getCamerasFromMediaStreamTrack():s.rejectWithError()},s.rejectWithError=function(){var a=En.unableToQuerySupportedDevices();return s.isHttpsOrLocalhost()||(a=En.insecureContextCameraQueryError()),Promise.reject(a)},s.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var a=location.host.split(":")[0];return a==="127.0.0.1"||a==="localhost"},s.getCamerasFromMediaDevices=function(){return Mu(this,void 0,void 0,function(){var a,c,h,f,g,E,I;return Bu(this,function(S){switch(S.label){case 0:return a=function(C){for(var N=C.getVideoTracks(),R=0,z=N;R<z.length;R++){var Z=z[R];Z.enabled=!1,Z.stop(),C.removeTrack(Z)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return c=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(h=S.sent(),f=[],g=0,E=h;g<E.length;g++)I=E[g],I.kind==="videoinput"&&f.push({id:I.deviceId,label:I.label});return a(c),[2,f]}})})},s.getCamerasFromMediaStreamTrack=function(){return new Promise(function(a,c){var h=function(g){for(var E=[],I=0,S=g;I<S.length;I++){var C=S[I];C.kind==="video"&&E.push({id:C.id,label:C.label})}a(E)},f=MediaStreamTrack;f.getSources(h)})},s}(),lt;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.NOT_STARTED=1]="NOT_STARTED",s[s.SCANNING=2]="SCANNING",s[s.PAUSED=3]="PAUSED"})(lt||(lt={}));var Fu=function(){function s(){this.state=lt.NOT_STARTED,this.onGoingTransactionNewState=lt.UNKNOWN}return s.prototype.directTransition=function(a){this.failIfTransitionOngoing(),this.validateTransition(a),this.state=a},s.prototype.startTransition=function(a){return this.failIfTransitionOngoing(),this.validateTransition(a),this.onGoingTransactionNewState=a,this},s.prototype.execute=function(){if(this.onGoingTransactionNewState===lt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var a=this.onGoingTransactionNewState;this.onGoingTransactionNewState=lt.UNKNOWN,this.directTransition(a)},s.prototype.cancel=function(){if(this.onGoingTransactionNewState===lt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=lt.UNKNOWN},s.prototype.getState=function(){return this.state},s.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==lt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},s.prototype.validateTransition=function(a){switch(this.state){case lt.UNKNOWN:throw"Transition from unknown is not allowed";case lt.NOT_STARTED:this.failIfNewStateIs(a,[lt.PAUSED]);break;case lt.SCANNING:break;case lt.PAUSED:break}},s.prototype.failIfNewStateIs=function(a,c){for(var h=0,f=c;h<f.length;h++){var g=f[h];if(a===g)throw"Cannot transition from ".concat(this.state," to ").concat(a)}},s}(),Lu=function(){function s(a){this.stateManager=a}return s.prototype.startTransition=function(a){return this.stateManager.startTransition(a)},s.prototype.directTransition=function(a){this.stateManager.directTransition(a)},s.prototype.getState=function(){return this.stateManager.getState()},s.prototype.canScanFile=function(){return this.stateManager.getState()===lt.NOT_STARTED},s.prototype.isScanning=function(){return this.stateManager.getState()!==lt.NOT_STARTED},s.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===lt.SCANNING},s.prototype.isPaused=function(){return this.stateManager.getState()===lt.PAUSED},s}(),xu=function(){function s(){}return s.create=function(){return new Lu(new Fu)},s}(),ku=function(){var s=function(a,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(h[g]=f[g])},s(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(a,c);function h(){this.constructor=a}a.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Yt=function(s){ku(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.DEFAULT_WIDTH=300,a.DEFAULT_WIDTH_OFFSET=2,a.FILE_SCAN_MIN_HEIGHT=300,a.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,a.MIN_QR_BOX_SIZE=50,a.SHADED_LEFT=1,a.SHADED_RIGHT=2,a.SHADED_TOP=3,a.SHADED_BOTTOM=4,a.SHADED_REGION_ELEMENT_ID="qr-shaded-region",a.VERBOSE=!1,a.BORDER_SHADER_DEFAULT_COLOR="#ffffff",a.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",a}(gu),Uu=function(){function s(a,c){this.logger=c,this.fps=Yt.SCAN_DEFAULT_FPS,a?(a.fps&&(this.fps=a.fps),this.disableFlip=a.disableFlip===!0,this.qrbox=a.qrbox,this.aspectRatio=a.aspectRatio,this.videoConstraints=a.videoConstraints):this.disableFlip=Yt.DEFAULT_DISABLE_FLIP}return s.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?c1.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},s.prototype.isShadedBoxEnabled=function(){return!Ir(this.qrbox)},s.create=function(a,c){return new s(a,c)},s}(),en=function(){function s(a,c){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.elementId=a,this.verbose=!1;var h;typeof c=="boolean"?this.verbose=c===!0:c&&(h=c,this.verbose=h.verbose===!0,h.experimentalFeatures),this.logger=new wu(this.verbose),this.qrcode=new _u(this.getSupportedFormats(c),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=xu.create()}return s.prototype.start=function(a,c,h,f){var g=this;if(!a)throw"cameraIdOrConfig is required";if(!h||typeof h!="function")throw"qrCodeSuccessCallback is required and should be a function.";var E;f?E=f:E=this.verbose?this.logger.log:function(){};var I=Uu.create(c,this.logger);this.clearElement();var S=!1;I.videoConstraints&&(I.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=S,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:Yt.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var R=this,z=this.stateManagerProxy.startTransition(lt.SCANNING);return new Promise(function(Z,de){var re=C?I.videoConstraints:R.createVideoConstraints(a);if(!re){z.cancel(),de("videoConstraints should be defined");return}var Fe={};(!C||I.aspectRatio)&&(Fe.aspectRatio=I.aspectRatio);var _e={onRenderSurfaceReady:function(we,ne){R.setupUi(we,ne,I),R.isScanning=!0,R.foreverScan(I,h,E)}};vu.failIfNotSupported().then(function(we){we.create(re).then(function(ne){return ne.render(g.element,Fe,_e).then(function(ee){R.renderedCamera=ee,z.execute(),Z(null)}).catch(function(ee){z.cancel(),de(ee)})}).catch(function(ne){z.cancel(),de(En.errorGettingUserMedia(ne))})}).catch(function(we){z.cancel(),de(En.cameraStreamingNotSupported())})})},s.prototype.pause=function(a){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(lt.PAUSED),this.showPausedState(),(Ir(a)||a!==!0)&&(a=!1),a&&this.renderedCamera&&this.renderedCamera.pause()},s.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var a=this,c=function(){a.stateManagerProxy.directTransition(lt.SCANNING),a.hidePausedState()};if(!this.renderedCamera.isPaused()){c();return}this.renderedCamera.resume(function(){c()})},s.prototype.getState=function(){return this.stateManagerProxy.getState()},s.prototype.stop=function(){var a=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var c=this.stateManagerProxy.startTransition(lt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=function(){if(a.element){var g=document.getElementById(Yt.SHADED_REGION_ELEMENT_ID);g&&a.element.removeChild(g)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),h(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),c.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},s.prototype.scanFile=function(a,c){return this.scanFileV2(a,c).then(function(h){return h.decodedText})},s.prototype.scanFileV2=function(a,c){var h=this;if(!a||!(a instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ir(c)&&(c=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,g){h.possiblyCloseLastScanImageFile(),h.clearElement(),h.lastScanImageFile=URL.createObjectURL(a);var E=new Image;E.onload=function(){var I=E.width,S=E.height,C=document.getElementById(h.elementId),N=C.clientWidth?C.clientWidth:Yt.DEFAULT_WIDTH,R=Math.max(C.clientHeight?C.clientHeight:S,Yt.FILE_SCAN_MIN_HEIGHT),z=h.computeCanvasDrawConfig(I,S,N,R);if(c){var Z=h.createCanvasElement(N,R,"qr-canvas-visible");Z.style.display="inline-block",C.appendChild(Z);var de=Z.getContext("2d");if(!de)throw"Unable to get 2d context from canvas";de.canvas.width=N,de.canvas.height=R,de.drawImage(E,0,0,I,S,z.x,z.y,z.width,z.height)}var re=Yt.FILE_SCAN_HIDDEN_CANVAS_PADDING,Fe=Math.max(E.width,z.width),_e=Math.max(E.height,z.height),we=Fe+2*re,ne=_e+2*re,ee=h.createCanvasElement(we,ne);C.appendChild(ee);var Me=ee.getContext("2d");if(!Me)throw"Unable to get 2d context from canvas";Me.canvas.width=we,Me.canvas.height=ne,Me.drawImage(E,0,0,I,S,re,re,Fe,_e);try{h.qrcode.decodeRobustlyAsync(ee).then(function(Ne){f(zo.createFromQrcodeResult(Ne))}).catch(g)}catch(Ne){g("QR code parse error, error = ".concat(Ne))}},E.onerror=g,E.onabort=g,E.onstalled=g,E.onsuspend=g,E.src=URL.createObjectURL(a)})},s.prototype.clear=function(){this.clearElement()},s.getCameras=function(){return Pu.retrieve()},s.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},s.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},s.prototype.applyVideoConstraints=function(a){if(a){if(!c1.isMediaStreamConstraintsValid(a,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(a)},s.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},s.prototype.getSupportedFormats=function(a){var c=[oe.QR_CODE,oe.AZTEC,oe.CODABAR,oe.CODE_39,oe.CODE_93,oe.CODE_128,oe.DATA_MATRIX,oe.MAXICODE,oe.ITF,oe.EAN_13,oe.EAN_8,oe.PDF_417,oe.RSS_14,oe.RSS_EXPANDED,oe.UPC_A,oe.UPC_E,oe.UPC_EAN_EXTENSION];if(!a||typeof a=="boolean"||!a.formatsToSupport)return c;if(!Array.isArray(a.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(a.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var h=[],f=0,g=a.formatsToSupport;f<g.length;f++){var E=g[f];fu(E)?h.push(E):this.logger.warn("Invalid format: ".concat(E," passed in config, ignoring."))}if(h.length===0)throw"None of formatsToSupport match supported values.";return h},s.prototype.getUseBarCodeDetectorIfSupported=function(a){if(Ir(a))return!0;if(!Ir(a.useBarCodeDetectorIfSupported))return a.useBarCodeDetectorIfSupported!==!1;if(Ir(a.experimentalFeatures))return!0;var c=a.experimentalFeatures;return Ir(c.useBarCodeDetectorIfSupported)?!0:c.useBarCodeDetectorIfSupported!==!1},s.prototype.validateQrboxSize=function(a,c,h){var f=this,g=h.qrbox;this.validateQrboxConfig(g);var E=this.toQrdimensions(a,c,g),I=function(C){if(C<Yt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Yt.MIN_QR_BOX_SIZE,"px.")},S=function(C){return C>a&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=a),C};I(E.width),I(E.height),E.width=S(E.width)},s.prototype.validateQrboxConfig=function(a){if(typeof a!="number"&&typeof a!="function"&&(a.width===void 0||a.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},s.prototype.toQrdimensions=function(a,c,h){if(typeof h=="number")return{width:h,height:h};if(typeof h=="function")try{return h(a,c)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return h},s.prototype.setupUi=function(a,c,h){h.isShadedBoxEnabled()&&this.validateQrboxSize(a,c,h);var f=Ir(h.qrbox)?{width:a,height:c}:h.qrbox;this.validateQrboxConfig(f);var g=this.toQrdimensions(a,c,f);g.height>c&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var E=h.isShadedBoxEnabled()&&g.height<=c,I={x:0,y:0,width:a,height:c},S=E?this.getShadedRegionBounds(a,c,g):I,C=this.createCanvasElement(S.width,S.height),N={willReadFrequently:!0},R=C.getContext("2d",N);R.canvas.width=S.width,R.canvas.height=S.height,this.element.append(C),E&&this.possiblyInsertShadingElement(this.element,a,c,g),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=R,this.canvasElement=C},s.prototype.createScannerPausedUiElement=function(a){var c=document.createElement("div");c.innerText=En.scannerPaused(),c.style.display="none",c.style.position="absolute",c.style.top="0px",c.style.zIndex="1",c.style.background="rgba(9, 9, 9, 0.46)",c.style.color="#FFECEC",c.style.textAlign="center",c.style.width="100%",a.appendChild(c),this.scannerPausedUiElement=c},s.prototype.scanContext=function(a,c){var h=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return a(f.text,zo.createFromQrcodeResult(f)),h.possiblyUpdateShaders(!0),!0}).catch(function(f){h.possiblyUpdateShaders(!1);var g=En.codeParseError(f);return c(g,pu.createFrom(g)),!1})},s.prototype.foreverScan=function(a,c,h){var f=this;if(this.shouldScan&&this.renderedCamera){var g=this.renderedCamera.getSurface(),E=g.videoWidth/g.clientWidth,I=g.videoHeight/g.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*E,C=this.qrRegion.height*I,N=this.qrRegion.x*E,R=this.qrRegion.y*I;this.context.drawImage(g,N,R,S,C,0,0,this.qrRegion.width,this.qrRegion.height);var z=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(a,c,h)},f.getTimeoutFps(a.fps))};this.scanContext(c,h).then(function(Z){!Z&&a.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(c,h).finally(function(){z()})):z()}).catch(function(Z){f.logger.logError("Error happend while scanning context",Z),z()})}},s.prototype.createVideoConstraints=function(a){if(typeof a=="string")return{deviceId:{exact:a}};if(typeof a=="object"){var c="facingMode",h="deviceId",f={user:!0,environment:!0},g="exact",E=function(de){if(de in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(de,"'")},I=Object.keys(a);if(I.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(I.length," keys");var S=Object.keys(a)[0];if(S!==c&&S!==h)throw"Only '".concat(c,"' and '").concat(h,"' ")+" are supported for 'cameraIdOrConfig'";if(S===c){var C=a.facingMode;if(typeof C=="string"){if(E(C))return{facingMode:C}}else if(typeof C=="object")if(g in C){if(E(C["".concat(g)]))return{facingMode:{exact:C["".concat(g)]}}}else throw"'facingMode' should be string or object with"+" ".concat(g," as key.");else{var N=typeof C;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var R=a.deviceId;if(typeof R=="string")return{deviceId:R};if(typeof R=="object"){if(g in R)return{deviceId:{exact:R["".concat(g)]}};throw"'deviceId' should be string or object with"+" ".concat(g," as key.")}else{var z=typeof R;throw"Invalid type of 'deviceId' = ".concat(z)}}}var Z=typeof a;throw"Invalid type of 'cameraIdOrConfig' = ".concat(Z)},s.prototype.computeCanvasDrawConfig=function(a,c,h,f){if(a<=h&&c<=f){var g=(h-a)/2,E=(f-c)/2;return{x:g,y:E,width:a,height:c}}else{var I=a,S=c;return a>h&&(c=h/a*c,a=h),c>f&&(a=f/c*a,c=f),this.logger.log("Image downsampled from "+"".concat(I,"X").concat(S)+" to ".concat(a,"X").concat(c,".")),this.computeCanvasDrawConfig(a,c,h,f)}},s.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var a=document.getElementById(this.elementId);a&&(a.innerHTML="")},s.prototype.possiblyUpdateShaders=function(a){this.qrMatch!==a&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(c){c.style.backgroundColor=a?Yt.BORDER_SHADER_MATCH_COLOR:Yt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=a)},s.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},s.prototype.createCanvasElement=function(a,c,h){var f=a,g=c,E=document.createElement("canvas");return E.style.width="".concat(f,"px"),E.style.height="".concat(g,"px"),E.style.display="none",E.id=Ir(h)?"qr-canvas":h,E},s.prototype.getShadedRegionBounds=function(a,c,h){if(h.width>a||h.height>c)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(a-h.width)/2,y:(c-h.height)/2,width:h.width,height:h.height}},s.prototype.possiblyInsertShadingElement=function(a,c,h,f){if(!(c-f.width<1||h-f.height<1)){var g=document.createElement("div");g.style.position="absolute";var E=(c-f.width)/2,I=(h-f.height)/2;if(g.style.borderLeft="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderRight="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderTop="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),g.style.borderBottom="".concat(I,"px solid rgba(0, 0, 0, 0.48)"),g.style.boxSizing="border-box",g.style.top="0px",g.style.bottom="0px",g.style.left="0px",g.style.right="0px",g.id="".concat(Yt.SHADED_REGION_ELEMENT_ID),c-f.width<11||h-f.height<11)this.hasBorderShaders=!1;else{var S=5,C=40;this.insertShaderBorders(g,C,S,-S,null,0,!0),this.insertShaderBorders(g,C,S,-S,null,0,!1),this.insertShaderBorders(g,C,S,null,-S,0,!0),this.insertShaderBorders(g,C,S,null,-S,0,!1),this.insertShaderBorders(g,S,C+S,-S,null,-S,!0),this.insertShaderBorders(g,S,C+S,null,-S,-S,!0),this.insertShaderBorders(g,S,C+S,-S,null,-S,!1),this.insertShaderBorders(g,S,C+S,null,-S,-S,!1),this.hasBorderShaders=!0}a.append(g)}},s.prototype.insertShaderBorders=function(a,c,h,f,g,E,I){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=Yt.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(c,"px"),S.style.height="".concat(h,"px"),f!==null&&(S.style.top="".concat(f,"px")),g!==null&&(S.style.bottom="".concat(g,"px")),I?S.style.left="".concat(E,"px"):S.style.right="".concat(E,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),a.appendChild(S)},s.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},s.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},s.prototype.getTimeoutFps=function(a){return 1e3/a},s}(),Jo;(function(s){s[s.STATUS_DEFAULT=0]="STATUS_DEFAULT",s[s.STATUS_SUCCESS=1]="STATUS_SUCCESS",s[s.STATUS_WARNING=2]="STATUS_WARNING",s[s.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Jo||(Jo={}));const Vu=["type","disabled"],Hu=["src"],Wu={key:1},ea={__name:"Button",props:{label:{type:String,default:"Button"},color:{type:String,default:"primary"},outlined:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},icon:{type:String,required:!1},size:{type:String,default:"normal"},submit:{type:Boolean,required:!1},back:{type:Boolean,required:!1},active:{type:Boolean,required:!1}},emits:["click"],setup(s,{emit:a}){const c=s,h=a,f=()=>{h("click")};return(g,E)=>(tr(),yr("button",{type:c.submit?"submit":"button",class:Ur(["btn",`btn_${s.color}`,{btn_outlined:s.outlined},{btn_icon:s.icon},{btn_large:s.size==="large"},{btn_submit:s.submit},{btn_back:s.back},{btn_active:s.active}]),disabled:s.disabled,onClick:f},[s.icon?(tr(),yr("img",{key:0,src:`/app/icons/${s.icon}.svg`,alt:"icon"},null,8,Hu)):(tr(),yr("span",Wu,mn(s.label),1))],10,Vu))}},Gu=(s,a)=>{const c=s.__vccOpts||s;for(const[h,f]of a)c[h]=f;return c},Xu={class:"qr-scanner-container"},zu={class:"scanner-controls"},Yu={key:0,class:"camera-view"},Zu={class:"camera-controls"},Ku={class:"modal-content"},ju={class:"modal-buttons"},Qu={class:"modal-content"},$u={class:"modal-text"},qu={class:"modal-buttons"},Ju={key:3,class:"file-error"},ta=5*60*1e3,e2={__name:"HelloWorld",setup(s){Gc(ae=>({"1ee9d09c":Fe.value||"inherit"}));let a=null;const c=vt(null),h=vt(!1),f=vt(!1),g=vt(""),E=vt(""),I=vt(!1),S=vt(!1),C=vt(!1),N=vt(null),R=vt(null),z=vt(""),Z=vt(null),de=vt(!1),re=vt(""),Fe=vt(""),_e={qrbox:250,fps:10};Xs(()=>{const ae=localStorage.getItem("cameraAccess");if(ae){const{cameraId:ge,timestamp:M}=JSON.parse(ae);Date.now()-M<ta?(N.value=ge,R.value=M):localStorage.removeItem("cameraAccess")}}),Pi(async()=>{await Me(),a&&clearTimeout(a)});const we=ae=>{const ge={cameraId:ae,timestamp:Date.now()};localStorage.setItem("cameraAccess",JSON.stringify(ge)),R.value=ge.timestamp,a&&clearTimeout(a),a=setTimeout(()=>{localStorage.removeItem("cameraAccess"),R.value=null,N.value=null},ta)},ne=async()=>{try{return await en.getCameras()}catch(ae){return console.error("Ошибка получения камер:",ae),[]}},ee=async()=>{var ae;if(!(h.value||I.value))try{h.value=!0,I.value=!0,E.value="",S.value=!1,await Na(),c.value||(c.value=new en("qr-scanner"));const ge=Math.min(window.innerWidth,window.innerHeight)-40,M=Math.min(ge,_e.qrbox),Ce={fps:_e.fps,qrbox:{width:M,height:M},disableFlip:!0,videoConstraints:{facingMode:"environment"},formatsToSupport:[en.QR_CODE,en.AZTEC,en.CODE_128,en.DATA_MATRIX],ignoreIfStillFor:2},ie=await ne();let ut=N.value;!ut&&ie.length>0&&(ut=((ae=ie.find(yt=>yt.label.includes("back")))==null?void 0:ae.id)||ie[0].id,N.value=ut,we(ut)),await c.value.start(ut,Ce,Et,nt);try{const yt=await c.value.hasFlashSupport();C.value=yt}catch{C.value=!1}}catch(ge){console.error("Ошибка камеры:",ge),f.value=!0,Me()}finally{h.value=!1}},Me=async()=>{var ae;if((ae=c.value)!=null&&ae.isScanning)try{S.value&&await c.value.turnOffFlash(),await c.value.stop()}catch(ge){console.error("Ошибка остановки сканера:",ge)}I.value=!1,S.value=!1},Ne=async()=>{if(!(!c.value||!C.value))try{S.value?await c.value.turnOffFlash():await c.value.turnOnFlash(),S.value=!S.value}catch(ae){console.error("Ошибка фонарика:",ae),C.value=!1}},Q=()=>{Z.value.click()},Te=async ae=>{const ge=ae.target.files[0];if(ge)try{h.value=!0,E.value="",z.value="";const M=document.createElement("div");M.id="qr-scanner",M.style.display="none",document.body.appendChild(M);const Ce=await new en("qr-scanner").scanFile(ge,!1);document.body.removeChild(M),Ce?Et(Ce):(z.value="QR-код не найден на изображении.",f.value=!0)}catch(M){console.error("Ошибка при сканировании файла:",M),z.value="Не удалось прочитать файл.",f.value=!0}finally{h.value=!1,ae.target.value=""}};let K=!1;const Et=async ae=>{K||(K=!0,E.value=ae,ae.trim().toLowerCase(),de.value=!0,re.value=`Отсканирован QR-код:
${ae}`,Fe.value="#00c48c",Me(),setTimeout(()=>{K=!1},2e3))},nt=ae=>{console.warn(`Ошибка сканирования: ${ae}`)},fe=()=>{const ae=g.value.trim();ae&&(de.value=!0,re.value=`Введён код:
${ae}`,Fe.value="#00c48c",f.value=!1,g.value="")};return(ae,ge)=>(tr(),yr("div",Xu,[mt("div",zu,[mt("div",{onClick:ee,class:Ur({disabled:h.value})},mn(I.value?"Сканирование...":"Сканировать"),3),mt("div",{onClick:Q,class:Ur({disabled:h.value})}," Выбрать из галереи ",2),mt("div",{onClick:ge[0]||(ge[0]=M=>f.value=!0),class:Ur({disabled:h.value})}," Ввести вручную ",2)]),I.value?(tr(),yr("div",Yu,[ge[5]||(ge[5]=mt("div",{id:"qr-scanner",class:"scanner-area"},null,-1)),mt("div",Zu,[C.value?(tr(),yr("div",{key:0,class:Ur(["control-button",{active:S.value}]),onClick:Ne},mn(S.value?"Выкл. свет":"Вкл. свет"),3)):Ln("",!0),mt("div",{class:"control-button close-button",onClick:Me}," Закрыть ")])])):Ln("",!0),mt("input",{type:"file",ref_key:"fileInput",ref:Z,accept:"image/*",style:{display:"none"},onChange:Te},null,544),f.value?(tr(),yr("div",{key:1,class:"modal-overlay",onClick:ge[2]||(ge[2]=Ho(M=>f.value=!1,["self"]))},[mt("div",Ku,[ge[6]||(ge[6]=mt("h3",null,"Не удалось отсканировать?",-1)),ge[7]||(ge[7]=mt("p",null,"Введите символы рядом с QR",-1)),Ml(mt("input",{type:"text","onUpdate:modelValue":ge[1]||(ge[1]=M=>g.value=M),placeholder:"qr123456",onKeyup:au(fe,["enter"])},null,544),[[nu,g.value]]),mt("div",ju,[sr(ea,{label:"Отправить",onClick:fe,submit:!0})])])])):Ln("",!0),de.value?(tr(),yr("div",{key:2,class:"modal-overlay",onClick:ge[4]||(ge[4]=Ho(M=>de.value=!1,["self"]))},[mt("div",Qu,[mt("div",$u,mn(re.value),1),mt("div",qu,[sr(ea,{label:"Ок",onClick:ge[3]||(ge[3]=M=>de.value=!1),submit:!0})])])])):Ln("",!0),z.value?(tr(),yr("div",Ju,mn(z.value),1)):Ln("",!0)]))}},t2=Gu(e2,[["__scopeId","data-v-169f18b7"]]),r2={__name:"App",setup(s){return(a,c)=>(tr(),t1(t2))}};uu(r2).mount("#app");
